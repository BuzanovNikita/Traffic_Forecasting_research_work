/*! For license information please see 5bf72a59c976e21a7b832d8fdefb79bd.3e984285fa99217e6c43.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[24259],{773974:(e,t,o)=>{"use strict";o.d(t,{Icon24VmojiOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24VmojiOutline","vmoji_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="vmoji_outline_24"><path d="M9.998 2.9a.9.9 0 0 1-.9.9A5.306 5.306 0 0 0 3.8 9.107.9.9 0 0 1 2 9.1C2.005 5.185 5.18 2 9.098 2a.9.9 0 0 1 .9.9ZM8.5 9.549a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm5.956.754c.872-.445 1.878-.445 2.764.308a.766.766 0 0 1 .063 1.125.88.88 0 0 1-1.192.06l-.085-.066c-.252-.177-.477-.163-.748-.025a.977.977 0 0 0-.149.09l-.083.063a.881.881 0 0 1-1.11-.122.766.766 0 0 1 .063-1.125c.106-.09.266-.2.477-.309Zm-.1 4.692c.1-.543-.354-.995-.906-.995h-2.9c-.552 0-1.006.451-.906.995.026.138.057.26.093.347a2.442 2.442 0 0 0 1.325 1.322c.298.123.616.188.938.188a2.457 2.457 0 0 0 2.264-1.51 1.84 1.84 0 0 0 .092-.347ZM2 14.901a.9.9 0 0 1 1.8-.008A5.306 5.306 0 0 0 9.098 20.2a.9.9 0 1 1 0 1.8C5.178 22 2.005 18.815 2 14.901ZM14.002 2.9a.9.9 0 0 0 .9.9A5.306 5.306 0 0 1 20.2 9.107a.9.9 0 0 0 .9.892.91.91 0 0 0 .9-.9C21.995 5.185 18.821 2 14.902 2a.9.9 0 0 0-.9.9ZM21.1 14.001a.9.9 0 0 0-.9.892 5.306 5.306 0 0 1-5.298 5.307.9.9 0 1 0 0 1.8c3.92 0 7.093-3.185 7.098-7.099 0-.49-.41-.9-.9-.9Z" /></symbol>',24,24,!1,void 0)},513698:(e,t,o)=>{"use strict";o.d(t,{Icon12Cancel:()=>r});var r=(0,o(28178).makeIcon)("Icon12Cancel","cancel_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="cancel_12"><path fill="currentColor" d="M3.525 2.464a.75.75 0 0 0-1.06 1.061L4.938 6 2.464 8.475a.75.75 0 1 0 1.061 1.06L6 7.062l2.475 2.475a.75.75 0 0 0 1.06-1.061L7.062 6l2.475-2.475a.75.75 0 1 0-1.061-1.06L6 4.938z" /></symbol>',12,12,!1,void 0)},347136:(e,t,o)=>{"use strict";o.d(t,{Icon12CheckCircleFill:()=>r});var r=(0,o(28178).makeIcon)("Icon12CheckCircleFill","check_circle_fill_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="check_circle_fill_12"><path fill="#99a2ad" d="M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12z" /><path fill="#fff" fill-rule="evenodd" d="M8.78 3.97a.75.75 0 0 1 0 1.06L5.53 8.28a.75.75 0 0 1-1.06 0L3.22 7.03a.75.75 0 0 1 1.06-1.06l.72.72 2.72-2.72a.75.75 0 0 1 1.06 0z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},757342:(e,t,o)=>{"use strict";o.d(t,{Icon12Explicit:()=>r});var r=(0,o(28178).makeIcon)("Icon12Explicit","explicit_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="explicit_12"><path fill="currentColor" d="M8 9H5V4h3v1H6v1h2v1H6v1h2v1Z" /><path fill="currentColor" fill-rule="evenodd" d="M1 3.5A2.5 2.5 0 0 1 3.5 1h6A2.5 2.5 0 0 1 12 3.5v6A2.5 2.5 0 0 1 9.5 12h-6A2.5 2.5 0 0 1 1 9.5v-6ZM3.5 2h6A1.5 1.5 0 0 1 11 3.5v6A1.5 1.5 0 0 1 9.5 11h-6A1.5 1.5 0 0 1 2 9.5v-6A1.5 1.5 0 0 1 3.5 2Z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},736846:(e,t,o)=>{"use strict";o.d(t,{Icon12StarCircleFillYellow:()=>r});var r=(0,o(28178).makeIcon)("Icon12StarCircleFillYellow","star_circle_fill_yellow_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="star_circle_fill_yellow_12"><linearGradient id="star_circle_fill_yellow_12_a" x1="-6" x2="6" y1="6" y2="18" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ffb73d" /><stop offset="1" stop-color="#ffa000" /></linearGradient><g fill-rule="evenodd" clip-rule="evenodd"><path fill="url(#star_circle_fill_yellow_12_a)" d="M6 0a6 6 0 1 1 0 12A6 6 0 0 1 6 0zm.11 2.59a.25.25 0 0 0-.334.114l-.952 1.928-2.127.31a.25.25 0 0 0-.138.426l1.539 1.5-.364 2.119a.25.25 0 0 0 .363.263L6 8.25l1.903 1a.25.25 0 0 0 .363-.263l-.364-2.119 1.54-1.5a.25.25 0 0 0-.14-.427l-2.126-.309-.952-1.928a.25.25 0 0 0-.113-.113z" /><path fill="#fff" d="M6.11 2.59a.25.25 0 0 0-.334.114l-.952 1.928-2.127.31a.25.25 0 0 0-.138.426l1.539 1.5-.364 2.119a.25.25 0 0 0 .363.263L6 8.25l1.903 1a.25.25 0 0 0 .363-.263l-.364-2.119 1.54-1.5a.25.25 0 0 0-.14-.427l-2.126-.309-.952-1.928a.25.25 0 0 0-.113-.113z" /></g></symbol>',12,12,!1,void 0)},74106:(e,t,o)=>{"use strict";o.d(t,{Icon16ChevronOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon16ChevronOutline","chevron_outline_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M4.22 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L7.69 8 4.22 4.53a.75.75 0 0 1 0-1.06z" clip-rule="evenodd" /></symbol>',12,16,!1,void 0)},622451:(e,t,o)=>{"use strict";o.d(t,{Icon16HelpOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon16HelpOutline","help_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="help_outline_16"><path fill="currentColor" d="M7.972 9.598c.376 0 .583-.21.662-.572.07-.454.228-.686.932-1.102.747-.449 1.134-1.005 1.134-1.82 0-1.26-1.012-2.102-2.516-2.102-1.139 0-1.986.46-2.325 1.172-.106.206-.159.41-.159.643 0 .41.26.675.678.675.323 0 .561-.15.694-.497.17-.48.519-.74 1.038-.74.583 0 .985.368.985.897 0 .497-.206.767-.89 1.183-.625.373-.948.794-.948 1.432v.075c0 .443.265.756.715.756ZM8 2.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm7.9 3.1a.9.9 0 0 1-.9.9.9.9 0 0 1-.9-.9.9.9 0 0 1 .9-.9.9.9 0 0 1 .9.9Z" /></symbol>',16,16,!1,void 0)},297973:(e,t,o)=>{"use strict";o.d(t,{Icon16InfoOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon16InfoOutline","info_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="info_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11ZM15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-7 4a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5A.75.75 0 0 1 8 12Zm-.9-7.1a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0Z" /></symbol>',16,16,!1,void 0)},900798:(e,t,o)=>{"use strict";o.d(t,{Icon16MoreVertical:()=>r});var r=(0,o(28178).makeIcon)("Icon16MoreVertical","more_vertical_16","0 0 8 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 16" id="more_vertical_16"><path fill="currentColor" d="M4 4.5c.825 0 1.5-.675 1.5-1.5S4.825 1.5 4 1.5 2.5 2.175 2.5 3 3.175 4.5 4 4.5Zm0 2c-.825 0-1.5.675-1.5 1.5S3.175 9.5 4 9.5 5.5 8.825 5.5 8 4.825 6.5 4 6.5Zm0 5c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5 1.5-.675 1.5-1.5-.675-1.5-1.5-1.5Z" /></symbol>',8,16,!1,void 0)},780835:(e,t,o)=>{"use strict";o.d(t,{Icon16Replay:()=>r});var r=(0,o(28178).makeIcon)("Icon16Replay","replay_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="replay_16"><path fill="currentColor" d="M8 2.75v1.195a.245.245 0 0 1-.373.209l-3.01-1.85a.245.245 0 0 1 0-.418l3.01-1.85A.245.245 0 0 1 8 .245V1.25a6.75 6.75 0 1 1-6.688 7.67.75.75 0 0 1 1.486-.203A5.251 5.251 0 1 0 8 2.75z" /></symbol>',16,16,!1,void 0)},129041:(e,t,o)=>{"use strict";o.d(t,{Icon20BrushOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20BrushOutline","brush_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="brush_outline_20"><path fill-rule="evenodd" d="M6.667 12.493c-1.006 0-1.77.77-1.814 1.726-.064 1.352-.707 2.16-1.285 2.65.528.155 1.268.213 2.226-.072 1.903-.567 2.687-1.724 2.687-2.613 0-.897-.775-1.69-1.814-1.69ZM3.36 14.148a3.295 3.295 0 0 1 3.308-3.156c1.791 0 3.31 1.392 3.31 3.192 0 1.806-1.499 3.38-3.758 4.052-2.157.642-3.64-.025-4.348-.548a.921.921 0 0 1-.293-.353.839.839 0 0 1-.036-.614c.15-.46.637-.658.987-.938.382-.305.789-.761.83-1.635ZM15.702 2.001a1.608 1.608 0 0 1 2.261-.07 1.69 1.69 0 0 1 .17 2.287l-6.08 7.498a.746.746 0 0 1-1.052.108.753.753 0 0 1-.108-1.056l6.074-7.491a.185.185 0 0 0-.017-.242c-.067-.061-.133-.026-.202.04L9.745 9.783a.746.746 0 0 1-1.057-.025.753.753 0 0 1 .025-1.061L15.702 2Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},29157:(e,t,o)=>{"use strict";o.d(t,{Icon20CheckCircleOff:()=>r});var r=(0,o(28178).makeIcon)("Icon20CheckCircleOff","check_circle_off_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" viewBox="0 0 20 20" id="check_circle_off_20"><defs><path id="check_circle_off_20_a" fill="currentColor" fill-rule="evenodd" d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Zm0-1a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z" clip-rule="evenodd" /></defs><use xlink:href="#check_circle_off_20_a" fill-rule="evenodd" clip-rule="evenodd" /><use xlink:href="#check_circle_off_20_a" fill-rule="evenodd" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},277659:(e,t,o)=>{"use strict";o.d(t,{Icon20DeleteOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20DeleteOutline","delete_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="delete_outline_20"><path fill-rule="evenodd" d="M6.837 4H2.75a.75.75 0 0 0 0 1.5h.545l.907 9.248c.051.523.094.96.157 1.314.066.37.163.711.353 1.028a2.9 2.9 0 0 0 1.247 1.131c.334.158.682.222 1.058.25.36.029.797.029 1.323.029h3.32c.526 0 .964 0 1.323-.028.376-.03.724-.093 1.058-.25a2.9 2.9 0 0 0 1.247-1.132c.19-.317.287-.657.353-1.028.063-.355.106-.79.157-1.314l.907-9.248h.545a.75.75 0 0 0 0-1.5h-4.087a3.25 3.25 0 0 0-6.326 0Zm1.581 0h3.164a1.751 1.751 0 0 0-3.164 0Zm6.78 1.5H4.802l.89 9.072c.054.56.091.938.143 1.228.05.281.104.422.162.52a1.4 1.4 0 0 0 .603.546c.102.048.248.088.533.11.294.024.673.024 1.235.024h3.262c.562 0 .941 0 1.235-.023.285-.023.43-.063.533-.111a1.4 1.4 0 0 0 .603-.547c.058-.097.112-.238.162-.52.052-.29.09-.667.144-1.226l.89-9.073Zm-2.886 2.002a.75.75 0 0 1 .685.81l-.5 6.003a.75.75 0 0 1-1.494-.124l.5-6.003a.75.75 0 0 1 .81-.686Zm-4.624 0a.75.75 0 0 1 .81.686l.5 6.002a.75.75 0 0 1-1.495.125l-.5-6.003a.75.75 0 0 1 .685-.81Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},784118:(e,t,o)=>{"use strict";o.d(t,{Icon20GearOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20GearOutline","gear_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="gear_outline_20"><path fill-rule="evenodd" d="m7.222 3.378.01-.033a4.147 4.147 0 0 1 .17-.476c.358-.821.944-1.285 1.854-1.36l.166-.009h1.208c1.051.033 1.735.608 2.095 1.692l.057.186.044.166c.016.064.037.132.06.203l.05.137.03.015.06-.02.116-.044.135-.059a5.36 5.36 0 0 1 .168-.074l.036-.015a4.23 4.23 0 0 1 .424-.15c.932-.27 1.685-.075 2.32.618l.108.125.714.88c.636.833.617 1.723-.004 2.683l-.109.161-.102.139c-.04.054-.082.113-.123.177l-.062.1-.029.05.004.017.08.052.11.066.133.072c1.209.614 1.707 1.42 1.515 2.541l-.032.162-.213.916c-.137.593-.245.873-.67 1.258a2.135 2.135 0 0 1-1.059.518l-.01.003a3.917 3.917 0 0 1-.438.059l-.191.012-.173.006-.052.001h-.006c-.05.002-.102.006-.156.01l-.158.02.012.123.011.083.029.154c.068.322.101.618.098.89v.012c-.015.84-.38 1.45-1.132 1.87l-.147.076-1.023.494c-.901.403-1.722.234-2.484-.467a3.934 3.934 0 0 1-.144-.14l-.133-.142-.113-.13a2.938 2.938 0 0 0-.147-.161l-.085-.083-.043-.04-.08.076-.091.093-.103.115c-.828.981-1.703 1.334-2.763.923l-.153-.063-.915-.443-.271-.138c-.415-.225-.647-.44-.874-.918a2.153 2.153 0 0 1-.209-1.01v-.016c.006-.19.03-.388.07-.603l.038-.195.001-.004c.014-.064.025-.133.035-.206l.016-.148-.003-.003-.09-.012-.128-.012-.151-.006a4.145 4.145 0 0 1-.862-.098l-.012-.003c-.837-.198-1.363-.69-1.608-1.524l-.043-.16-.254-1.102c-.204-1.026.205-1.818 1.186-2.41l.17-.098.152-.08c.06-.03.123-.065.188-.105l.134-.087.004-.017-.055-.093-.07-.108-.089-.124a5.194 5.194 0 0 1-.286-.423c-.54-.905-.534-1.72.046-2.523l.1-.132.717-.877c.687-.792 1.566-.958 2.64-.554l.18.072.158.07a2.9 2.9 0 0 0 .193.08l.118.042.032-.014.029-.077.04-.12.04-.143c.013-.056.028-.112.044-.166Zm4.24.841.013.038.05.138a1.5 1.5 0 0 0 .743.833l.03.014a1.5 1.5 0 0 0 1.136.082l.06-.02a1.47 1.47 0 0 0 .065-.023l.117-.044.062-.025.135-.059.035-.015a2.698 2.698 0 0 1 .415-.16c.268-.078.407-.06.47-.043.057.015.16.056.314.22l.077.09.682.84c.138.185.15.295.15.359 0 .084-.03.267-.225.573l-.082.122-.08.108a4.406 4.406 0 0 0-.18.26l-.014.022-.062.099-.008.013-.01.018-.03.05a1.5 1.5 0 0 0-.178 1.056l.004.017a1.5 1.5 0 0 0 .648.959l.08.052.05.032.11.066.06.034.133.072.034.018c.456.231.62.421.676.516.036.06.084.162.042.417l-.023.117-.207.892c-.066.285-.095.35-.105.369 0 0 0 .003-.01.013a.974.974 0 0 1-.101.103c-.082.074-.166.124-.354.161a2.357 2.357 0 0 1-.257.035l-.153.01-.138.004-.071.002a4.554 4.554 0 0 0-.28.02l-.158.019a1.5 1.5 0 0 0-1.318 1.628l.011.123.008.07.012.083.01.06.028.154.008.045c.05.236.068.419.066.557-.003.206-.046.301-.073.348-.028.046-.094.131-.276.235l-.105.056-.977.471c-.204.088-.317.082-.382.07-.076-.015-.228-.068-.456-.279a2.382 2.382 0 0 1-.08-.076l-.1-.107-.088-.102a4.389 4.389 0 0 0-.217-.236l-.018-.018-.084-.082a1.433 1.433 0 0 0-.036-.034l-.043-.04a1.5 1.5 0 0 0-2.047.014l-.08.075a1.43 1.43 0 0 0-.042.041l-.09.094a1.534 1.534 0 0 0-.048.05l-.103.116-.025.03c-.315.371-.532.495-.646.535-.073.025-.183.05-.415-.038l-.094-.039-.864-.418-.238-.12a1.186 1.186 0 0 1-.13-.083l-.004-.003-.003-.003a1.077 1.077 0 0 1-.083-.147.666.666 0 0 1-.063-.34c.003-.09.015-.207.043-.365l.035-.174a4.384 4.384 0 0 0 .058-.35l.016-.149a1.5 1.5 0 0 0-.434-1.224l-.004-.003a1.5 1.5 0 0 0-.86-.423l-.09-.012a1.405 1.405 0 0 0-.064-.008l-.128-.01a1.539 1.539 0 0 0-.068-.005l-.15-.007-.04-.001a2.663 2.663 0 0 1-.549-.06c-.215-.05-.305-.115-.346-.154-.04-.038-.109-.12-.17-.319l-.03-.114-.242-1.052c-.042-.224-.006-.329.023-.387.038-.076.146-.23.459-.42l.128-.074.119-.063a4.431 4.431 0 0 0 .316-.179l.134-.087a1.5 1.5 0 0 0 .65-.947l.004-.017a1.5 1.5 0 0 0-.171-1.066l-.055-.093a1.49 1.49 0 0 0-.037-.062l-.07-.108a1.496 1.496 0 0 0-.04-.057l-.088-.124a1.516 1.516 0 0 0-.024-.031c-.307-.406-.369-.647-.378-.754-.006-.067-.004-.18.148-.395l.072-.094.684-.838c.154-.173.262-.211.33-.225.09-.018.28-.027.623.1l.138.055.123.055a4.42 4.42 0 0 0 .316.13l.118.042a1.5 1.5 0 0 0 1.134-.058l.031-.015a1.5 1.5 0 0 0 .764-.823l.03-.077.023-.066.04-.12.02-.065.04-.143.01-.037.03-.119c.037-.128.076-.235.114-.323.1-.23.192-.319.243-.357.044-.033.134-.086.343-.105l.1-.006h1.14c.234.01.333.071.386.114.067.056.192.195.308.538l.043.14.034.129c.026.1.056.2.088.298ZM10 11.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 1.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},136161:(e,t,o)=>{"use strict";o.d(t,{Icon20GiftOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20GiftOutline","gift_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="gift_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path fill="currentColor" fill-rule="nonzero" d="M14.846 2.314c1.026 1.026 1.23 2.875-.257 4.186h.911a3 3 0 0 1 3 3v.49c0 .827-.093 1.16-.267 1.487-.174.326-.43.582-.756.756a1.88 1.88 0 0 1-.477.182v1.618c0 1.56-.162 2.126-.467 2.696a3.18 3.18 0 0 1-1.324 1.324l-.202.101c-.48.224-1.037.349-2.229.364l-5.291.002c-1.56 0-2.126-.162-2.696-.467a3.18 3.18 0 0 1-1.324-1.324l-.101-.202c-.224-.48-.349-1.037-.364-2.229L3 12.415a1.88 1.88 0 0 1-.477-.182 1.817 1.817 0 0 1-.756-.756c-.16-.299-.251-.605-.265-1.29L1.5 9.5a3 3 0 0 1 3-3h.911c-1.487-1.31-1.283-3.16-.257-4.186C6.369 1.099 8.738 1.038 10 3.569c1.262-2.531 3.631-2.47 4.846-1.255ZM9.25 12.499 4.5 12.5l.001 1.762.009.399c.021.604.083.924.202 1.2l.078.161c.165.309.399.543.708.708l.162.078c.33.143.724.203 1.598.211l1.991-.001v-4.519Zm6.251.001-4.751-.001v4.519l1.993.001.399-.009c.604-.021.924-.083 1.2-.202l.161-.078a1.68 1.68 0 0 0 .708-.708c.186-.348.267-.688.286-1.551l.004-.438V12.5ZM9.159 7.999 4.5 8A1.5 1.5 0 0 0 3 9.5v.638l.007.232c.012.227.037.315.083.4a.319.319 0 0 0 .14.14c.11.059.223.085.632.09l5.387-.001.002-3L9.16 8l-.001-.001ZM15.5 8l-4.661-.001h-.09v3h5.39c.408-.004.521-.03.63-.089a.319.319 0 0 0 .141-.14c.065-.122.09-.248.09-.78V9.5A1.5 1.5 0 0 0 15.5 8ZM9.223 6.159c-.43-3.101-1.96-3.834-3.009-2.785C5.165 4.424 5.898 5.952 9 6.384l.257.032Zm1.554 0-.024.191.007.062.241-.029c3.101-.43 3.834-1.96 2.785-3.009-1.05-1.049-2.578-.316-3.01 2.785Z" /></g></symbol>',20,20,!1,void 0)},495906:(e,t,o)=>{"use strict";o.d(t,{Icon20HelpOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20HelpOutline","help_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="help_outline_20"><g fill="currentColor"><path d="M10 6.25a1.25 1.25 0 0 0-1.21.937.75.75 0 0 1-1.453-.374 2.75 2.75 0 0 1 5.413.687c0 1.211-.654 1.84-1.145 2.298l-.008.008c-.478.446-.772.72-.855 1.3a.75.75 0 0 1-1.484-.212c.158-1.11.803-1.709 1.256-2.13l.068-.062c.447-.417.668-.663.668-1.202 0-.69-.56-1.25-1.25-1.25zM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" /><path fill-rule="evenodd" d="M10 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17zM3 10a7 7 0 1 0 14 0 7 7 0 0 0-14 0z" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},377250:(e,t,o)=>{"use strict";o.d(t,{Icon20MessageArrowRightOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20MessageArrowRightOutline","message_arrow_right_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="message_arrow_right_outline_20"><path d="M10.25 2.5c-2.938 0-5.576 1.391-7.044 3.572a.749.749 0 1 0 1.244.836c1.171-1.738 3.327-2.91 5.8-2.91 3.775 0 6.75 2.694 6.75 5.995s-2.975 5.995-6.75 5.995c-.91 0-1.788-.156-2.6-.455a.75.75 0 0 0-.822.207c-.609.687-1.64 1.105-3.123 1.22.682-1.347 1.045-2.376 1.084-3.13a.749.749 0 0 0-.15-.49 5.768 5.768 0 0 1-.67-1.137.75.75 0 0 0-1.372.607c.183.412.405.808.665 1.183-.082.457-.338 1.189-.896 2.292l-.24.475a1.2 1.2 0 0 0 1.164 1.736l.532-.041c1.472-.115 2.804-.51 3.768-1.361.85.26 1.745.392 2.66.392 4.435 0 8.25-3.206 8.25-7.493 0-4.287-3.815-7.493-8.25-7.493Zm-.971 3.97a.75.75 0 0 0-1.06 1.06l1.219 1.22H2.75a.75.75 0 1 0 0 1.5h6.688l-1.22 1.22a.75.75 0 1 0 1.06 1.06l2.5-2.5a.75.75 0 0 0 0-1.06l-2.5-2.5Z" /></symbol>',20,20,!1,void 0)},385228:(e,t,o)=>{"use strict";o.d(t,{Icon20More:()=>r});var r=(0,o(28178).makeIcon)("Icon20More","more_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="more_20"><path fill="currentColor" d="M15 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z" /></symbol>',20,20,!1,void 0)},205461:(e,t,o)=>{"use strict";o.d(t,{Icon20PauseCircle:()=>r});var r=(0,o(28178).makeIcon)("Icon20PauseCircle","pause_circle_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="pause_circle_20"><path fill="currentColor" fill-rule="evenodd" d="M20 10c0 5.523-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0s10 4.477 10 10zM6 7.5c0-.466 0-.699.076-.883a1 1 0 0 1 .541-.54C6.801 6 7.034 6 7.5 6s.699 0 .883.076a1 1 0 0 1 .54.541C9 6.801 9 7.034 9 7.5v5c0 .466 0 .699-.076.883a1 1 0 0 1-.541.54C8.199 14 7.966 14 7.5 14s-.699 0-.883-.076a1 1 0 0 1-.54-.541C6 13.199 6 12.966 6 12.5zm5.076-.883C11 6.801 11 7.034 11 7.5v5c0 .466 0 .699.076.883a1 1 0 0 0 .541.54c.184.077.417.077.883.077s.699 0 .883-.076a1 1 0 0 0 .54-.541c.077-.184.077-.417.077-.883v-5c0-.466 0-.699-.076-.883a1 1 0 0 0-.541-.54C13.199 6 12.966 6 12.5 6s-.699 0-.883.076a1 1 0 0 0-.54.541z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},249600:(e,t,o)=>{"use strict";o.d(t,{Icon20PictureOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20PictureOutline","picture_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="picture_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M6.838 16.437c.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.318a3.5 3.5 0 0 0 1.53-1.53c.146-.288.257-.686.318-1.427.016-.194.027-.402.036-.628l-.003-.004-1.303-1.303a12.742 12.742 0 0 0-.666-.64c-.156-.133-.23-.166-.27-.179a.75.75 0 0 0-.463 0c-.04.013-.113.046-.269.179-.162.138-.36.335-.666.64L10.53 13.53a.75.75 0 0 1-1.06 0l-.303-.303a12.75 12.75 0 0 0-.666-.64c-.156-.133-.23-.166-.27-.179a.75.75 0 0 0-.463 0c-.04.013-.113.046-.269.179-.162.138-.36.335-.666.64l-2.277 2.278c.25.245.539.452.855.614.288.146.686.257 1.427.318zm9.39-6.27.272.272V10c0-1.425-.001-2.403-.063-3.162-.06-.74-.172-1.139-.318-1.427a3.5 3.5 0 0 0-1.53-1.53c-.288-.146-.686-.257-1.427-.318C12.403 3.501 11.425 3.5 10 3.5c-1.425 0-2.403.001-3.162.063-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427C3.501 7.597 3.5 8.575 3.5 10c0 1.425.001 2.403.063 3.162.038.463.096.793.17 1.045l2.04-2.04.02-.02c.28-.28.52-.521.736-.704.226-.192.473-.363.776-.462a2.25 2.25 0 0 1 1.39 0c.303.099.55.27.776.462.16.136.335.304.529.497l1.773-1.773.02-.02c.28-.28.52-.521.736-.704.226-.192.473-.363.776-.462a2.25 2.25 0 0 1 1.39 0c.303.099.55.27.776.462.215.183.456.424.736.703zM2.544 4.73C2 5.8 2 7.2 2 10c0 2.8 0 4.2.545 5.27a5 5 0 0 0 2.185 2.185C5.8 18 7.2 18 10 18c2.8 0 4.2 0 5.27-.545a5 5 0 0 0 2.185-2.185C18 14.2 18 12.8 18 10c0-2.8 0-4.2-.545-5.27a5 5 0 0 0-2.185-2.185C14.2 2 12.8 2 10 2c-2.8 0-4.2 0-5.27.545A5 5 0 0 0 2.545 4.73zM7.25 6a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},579643:(e,t,o)=>{"use strict";o.d(t,{Icon20PlayCircle:()=>r});var r=(0,o(28178).makeIcon)("Icon20PlayCircle","play_circle_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="play_circle_20"><path fill="currentColor" fill-rule="evenodd" d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10zm4.733-10.446L7.8 5.694a.548.548 0 0 0-.266-.069A.524.524 0 0 0 7 6.14v7.72c0 .09.025.18.071.257.147.247.473.331.728.19l6.934-3.861a.505.505 0 0 0 0-.892z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},17117:(e,t,o)=>{"use strict";o.d(t,{Icon20ReportOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20ReportOutline","report_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="report_outline_20"><path d="M10.001 5.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75Zm-.9 8.4a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0Z" /><path fill-rule="evenodd" d="m17.326 14.814-2.514 2.514c-.432.433-.648.649-.9.803a2.502 2.502 0 0 1-.723.3c-.288.069-.594.069-1.205.069h-3.97c-.612 0-.918 0-1.206-.07a2.502 2.502 0 0 1-.723-.299c-.252-.154-.468-.37-.9-.803L2.67 14.814c-.432-.432-.648-.648-.802-.9a2.5 2.5 0 0 1-.3-.723c-.068-.288-.068-.593-.069-1.204V8.014c0-.611 0-.917.069-1.205a2.5 2.5 0 0 1 .3-.723c.154-.252.37-.468.803-.9L5.186 2.67c.432-.432.649-.648.9-.803a2.5 2.5 0 0 1 .723-.299c.288-.069.594-.069 1.205-.069h3.97c.611 0 .917 0 1.205.07a2.5 2.5 0 0 1 .723.298c.252.155.468.371.9.804l2.514 2.514c.432.432.648.648.803.9.137.224.238.468.3.723.068.288.068.593.068 1.205v3.972c0 .611 0 .917-.069 1.205a2.497 2.497 0 0 1-.299.723c-.155.252-.37.468-.803.9Zm-.474-1.706c-.062.101-.149.188-.321.36l-3.063 3.063c-.173.173-.26.26-.36.322a.998.998 0 0 1-.29.12c-.115.027-.237.027-.482.027H7.662c-.245 0-.367 0-.482-.028a1.001 1.001 0 0 1-.29-.12c-.1-.061-.186-.148-.36-.32l-3.06-3.065c-.173-.172-.26-.259-.321-.36a1 1 0 0 1-.12-.289C3 12.704 3 12.582 3 12.338V7.663c0-.245 0-.367.027-.482a1 1 0 0 1 .12-.29c.062-.1.148-.187.321-.36l3.064-3.063c.173-.172.26-.259.36-.32a1 1 0 0 1 .29-.12C7.295 3 7.418 3 7.662 3h4.673c.245 0 .367 0 .482.028a1 1 0 0 1 .29.12c.1.061.187.148.36.32l3.063 3.063c.172.173.259.26.32.36.056.09.096.188.12.29.028.115.028.237.028.482v4.674c0 .245 0 .367-.027.482a.998.998 0 0 1-.12.29Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},800697:(e,t,o)=>{"use strict";o.d(t,{Icon20SongOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20SongOutline","song_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="song_outline_20"><path fill-rule="evenodd" d="M15.235 1.678a.75.75 0 0 0-.606-.168 25.527 25.527 0 0 0-1.367.269c-.758.168-1.736.419-2.5.734-1.295.535-1.513 1.898-1.514 2.834l-.001 1.152a3094.12 3094.12 0 0 0-.001 6.026c-1.979.132-3.363.793-4.121 1.743-.87 1.09-.83 2.499.087 3.416.877.876 2.3 1.071 3.474.466 1.22-.629 2.064-2.035 2.064-4.15l-.003-1-.001-.526-.001-1.681c0-1.14 0-2.504.002-3.715l2.559-.676c.99-.262 1.913-1.027 2.067-2.2a16.6 16.6 0 0 0 .127-1.905.787.787 0 0 0-.265-.619Zm-4.487 3.848 2.175-.575c.562-.148.908-.524.963-.943.038-.29.063-.583.08-.846-.119.024-.246.052-.378.081-.742.165-1.615.393-2.253.656-.367.152-.586.587-.587 1.449v.178ZM9.25 14.028c-1.65.128-2.551.672-2.953 1.176-.44.551-.35 1.093-.025 1.419.382.381 1.088.523 1.727.193.591-.304 1.244-1.096 1.25-2.788Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},77199:(e,t,o)=>{"use strict";o.d(t,{Icon20Stars:()=>r});var r=(0,o(28178).makeIcon)("Icon20Stars","stars_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="stars_20"><path fill-rule="evenodd" d="M12.004 8.13c-.368.835-.857 1.717-1.507 2.367-.65.65-1.532 1.14-2.367 1.507.835.367 1.717.857 2.367 1.507.65.65 1.14 1.532 1.507 2.367.367-.835.857-1.717 1.507-2.367.65-.65 1.532-1.14 2.367-1.507-.835-.368-1.717-.857-2.367-1.507-.65-.65-1.14-1.532-1.507-2.367Zm-.785-2.178c-.421 1.317-1.014 2.716-1.782 3.485-.769.768-2.168 1.36-3.485 1.782a21.073 21.073 0 0 1-1.162.338c-.38.1-.38.793 0 .894a27.146 27.146 0 0 1 .912.26c.083.025.166.05.25.078 1.317.421 2.716 1.014 3.485 1.782.768.768 1.36 2.168 1.782 3.485a20.843 20.843 0 0 1 .27.907l.068.255c.1.38.793.38.894 0a27.487 27.487 0 0 1 .26-.912c.025-.083.05-.166.078-.25.421-1.317 1.014-2.717 1.782-3.485.768-.768 2.168-1.36 3.485-1.782a20.843 20.843 0 0 1 .907-.27l.255-.068c.38-.1.38-.793 0-.894a27.487 27.487 0 0 1-.912-.26 20.843 20.843 0 0 1-.25-.078c-1.317-.421-2.717-1.014-3.485-1.782-.768-.769-1.36-2.168-1.782-3.485a21.13 21.13 0 0 1-.338-1.162c-.1-.38-.793-.38-.894 0a27.146 27.146 0 0 1-.26.912 21.13 21.13 0 0 1-.078.25ZM4.365.763a.385.385 0 0 0-.73 0l-.414 1.24a1.926 1.926 0 0 1-1.218 1.218l-1.24.414a.385.385 0 0 0 0 .73l1.24.414a1.926 1.926 0 0 1 1.218 1.218l.414 1.24a.385.385 0 0 0 .73 0l.414-1.24a1.926 1.926 0 0 1 1.218-1.218l1.24-.414a.385.385 0 0 0 0-.73l-1.24-.414a1.926 1.926 0 0 1-1.218-1.218L4.365.763Z" /></symbol>',20,20,!1,void 0)},407729:(e,t,o)=>{"use strict";o.d(t,{Icon24Add:()=>r});var r=(0,o(28178).makeIcon)("Icon24Add","add_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="add_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M13 11h6.5a1 1 0 0 1 0 2H13v6.5a1 1 0 0 1-2 0V13H4.5a1 1 0 0 1 0-2H11V4.5a1 1 0 0 1 2 0V11Z" /></g></symbol>',24,24,!1,void 0)},531950:(e,t,o)=>{"use strict";o.d(t,{Icon24CancelOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24CancelOutline","cancel_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="cancel_outline_24"><path fill="currentColor" d="M5.264 5.264a.9.9 0 0 1 1.272 0L12 10.727l5.464-5.463a.9.9 0 0 1 1.272 1.272L13.273 12l5.463 5.464a.9.9 0 1 1-1.272 1.272L12 13.273l-5.464 5.463a.9.9 0 1 1-1.272-1.272L10.727 12 5.264 6.536a.9.9 0 0 1 0-1.272z" /></symbol>',24,24,!1,void 0)},824283:(e,t,o)=>{"use strict";o.d(t,{Icon24DocumentOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24DocumentOutline","document_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="document_outline_24"><path fill-rule="evenodd" d="M12.473 2c.3 0 .586 0 .866.066a2.4 2.4 0 0 1 .694.288c.245.15.447.353.659.565l4.389 4.39c.212.21.415.413.565.658a2.4 2.4 0 0 1 .288.694c.067.28.066.566.066.866v6.012c0 .947 0 1.713-.05 2.333-.053.64-.163 1.203-.43 1.726a4.4 4.4 0 0 1-1.922 1.922c-.523.267-1.087.377-1.726.43-.62.05-1.386.05-2.334.05h-3.076c-.948 0-1.714 0-2.334-.05-.64-.053-1.203-.163-1.726-.43a4.4 4.4 0 0 1-1.922-1.922c-.267-.523-.377-1.087-.43-1.726C4 17.252 4 16.486 4 15.538V8.462c0-.948 0-1.714.05-2.334.053-.64.163-1.203.43-1.726A4.4 4.4 0 0 1 6.402 2.48c.523-.267 1.087-.377 1.726-.43C8.748 2 9.514 2 10.462 2h2.011ZM10.5 3.8H12v2.135c0 .53 0 .981.03 1.352.032.39.102.768.286 1.13a2.9 2.9 0 0 0 1.267 1.267c.362.184.741.254 1.13.286.37.03.822.03 1.352.03H18.2v5.5c0 .995 0 1.687-.045 2.226-.043.527-.123.828-.238 1.054a2.6 2.6 0 0 1-1.137 1.137c-.226.115-.527.195-1.055.238-.538.044-1.23.045-2.225.045h-3c-.995 0-1.687 0-2.226-.045-.527-.043-.828-.123-1.054-.238a2.6 2.6 0 0 1-1.137-1.137c-.115-.226-.195-.527-.238-1.055-.044-.538-.045-1.23-.045-2.225v-7c0-.995 0-1.687.045-2.225.043-.528.123-.829.238-1.055A2.6 2.6 0 0 1 7.22 4.083c.226-.115.527-.195 1.054-.238C8.813 3.8 9.505 3.8 10.5 3.8Zm3.3.773L17.427 8.2H16.1c-.575 0-.952 0-1.24-.024-.278-.023-.393-.062-.46-.096a1.1 1.1 0 0 1-.48-.48c-.034-.066-.073-.182-.096-.46A17.426 17.426 0 0 1 13.8 5.9V4.573Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},641899:(e,t,o)=>{"use strict";o.d(t,{Icon24FavoriteOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24FavoriteOutline","favorite_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="favorite_outline_24"><path fill-rule="evenodd" d="M12.554 4.694a.6.6 0 0 0-1.108 0l-1.614 3.9a.9.9 0 0 1-.774.554l-4.125.266a.6.6 0 0 0-.357 1.05l3.267 2.859a.9.9 0 0 1 .282.888l-.93 3.852a.6.6 0 0 0 .883.66l3.472-2.003a.9.9 0 0 1 .9 0l3.472 2.004a.6.6 0 0 0 .883-.661l-.93-3.852a.9.9 0 0 1 .282-.888l3.267-2.858a.6.6 0 0 0-.357-1.05l-4.125-.267a.9.9 0 0 1-.774-.554l-1.614-3.9Zm-2.772-.689c.818-1.976 3.618-1.976 4.436 0l1.4 3.383 3.565.23c2.136.138 3.037 2.792 1.426 4.201l-2.856 2.5.802 3.322c.494 2.05-1.706 3.696-3.533 2.642L12 18.539l-3.022 1.744C7.15 21.337 4.95 19.69 5.445 17.64l.802-3.322-2.856-2.5c-1.611-1.41-.71-4.063 1.426-4.201l3.566-.23 1.4-3.383Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},894758:(e,t,o)=>{"use strict";o.d(t,{Icon24HelpOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24HelpOutline","help_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="help_outline_24"><path fill="currentColor" fill-rule="evenodd" d="M4.929 4.929A9.97 9.97 0 0 1 12 2a9.972 9.972 0 0 1 7.071 2.929A9.97 9.97 0 0 1 22 12a9.971 9.971 0 0 1-2.929 7.071A9.972 9.972 0 0 1 12 22a9.972 9.972 0 0 1-7.071-2.929A9.972 9.972 0 0 1 2 12a9.971 9.971 0 0 1 2.929-7.071ZM12 3.8a8.171 8.171 0 0 0-5.798 2.402C4.717 7.687 3.8 9.735 3.8 12s.917 4.313 2.402 5.798A8.171 8.171 0 0 0 12 20.2a8.172 8.172 0 0 0 5.798-2.402C19.283 16.313 20.2 14.265 20.2 12s-.917-4.313-2.402-5.798A8.172 8.172 0 0 0 12 3.8Zm-.768 4.29c-.254.195-.409.434-.46.634a.9.9 0 0 1-1.744-.448c.17-.663.6-1.224 1.108-1.613C10.646 6.27 11.303 6 12 6c1.602 0 3 1.398 3 3 0 1.37-.75 2.22-1.285 2.807-.599.655-.815.91-.815 1.293a.9.9 0 0 1-1.8 0c0-1.123.71-1.886 1.174-2.386l.111-.12c.515-.565.815-.965.815-1.594 0-.608-.592-1.2-1.2-1.2-.235 0-.516.097-.768.29ZM13.2 16.6a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Z" /></symbol>',24,24,!1,void 0)},550470:(e,t,o)=>{"use strict";o.d(t,{Icon24Info:()=>r});var r=(0,o(28178).makeIcon)("Icon24Info","info_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="info_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2Zm-1 14v-4a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0Zm-.25-7.75v-.5a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1Z" /></g></symbol>',24,24,!1,void 0)},771687:(e,t,o)=>{"use strict";o.d(t,{Icon24InfoCircleOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24InfoCircleOutline","info_circle_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="info_circle_outline_24"><path d="M12 20.105a8.105 8.105 0 1 0 0-16.21 8.105 8.105 0 0 0 0 16.21ZM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10Zm0-12.372a1.316 1.316 0 1 1 0-2.632 1.316 1.316 0 0 1 0 2.632Zm-.947 2.822c0-.541.424-.98.947-.98.523 0 .947.439.947.98v3.83c0 .54-.424.98-.947.98-.523 0-.947-.44-.947-.98v-3.83Z" /></symbol>',24,24,!1,void 0)},430790:(e,t,o)=>{"use strict";o.d(t,{Icon24MessageArrowRightOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24MessageArrowRightOutline","message_arrow_right_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="message_arrow_right_outline_24"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M12.016 4.9c-3.077 0-5.702 1.444-7.065 3.5a.9.9 0 0 1-1.5-.995C5.178 4.799 8.395 3.1 12.016 3.1c5.324 0 9.884 3.729 9.884 8.607 0 4.878-4.56 8.607-9.884 8.607-1.173 0-2.3-.178-3.348-.506C7.42 20.961 5.616 21.513 3.42 21.6c-.927.036-1.598-.927-1.209-1.792.529-1.183 1.197-2.403 1.298-3.72a8.205 8.205 0 0 1-.34-.54.9.9 0 0 1 1.56-.898c.124.216.262.426.413.629a.9.9 0 0 1 .177.537c0 1.38-.54 2.684-1.099 3.92 1.714-.194 2.835-.75 3.513-1.547a.9.9 0 0 1 1.002-.26c1 .376 2.11.586 3.28.586 4.6 0 8.085-3.172 8.085-6.807 0-3.635-3.485-6.807-8.084-6.807z" /><path d="M10.864 8.264a.9.9 0 0 1 1.272 0l2.6 2.6a.9.9 0 0 1 0 1.272l-2.6 2.6a.9.9 0 0 1-1.272-1.272l1.063-1.064H2.9a.9.9 0 1 1 0-1.8h9.027l-1.063-1.064a.9.9 0 0 1 0-1.272z" /></g></symbol>',24,24,!1,void 0)},432483:(e,t,o)=>{"use strict";o.d(t,{Icon24MoreHorizontal:()=>r});var r=(0,o(28178).makeIcon)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path fill="currentColor" d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2Zm-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Zm-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z" /></g></symbol>',24,24,!1,void 0)},50466:(e,t,o)=>{"use strict";o.d(t,{Icon24RecentOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24RecentOutline","recent_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="recent_outline_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" fill-rule="nonzero" d="M12 21.428A9.428 9.428 0 0 1 2.571 12 9.428 9.428 0 0 1 12 2.57c5.206 0 9.429 4.221 9.429 9.429 0 5.207-4.223 9.428-9.429 9.428Zm0-1.8a7.63 7.63 0 1 0-.001-15.258A7.63 7.63 0 0 0 12 19.628Zm4.085-6.387a.9.9 0 1 1-.575 1.706l-4.226-1.427a.9.9 0 0 1-.613-.853V8.353a.9.9 0 1 1 1.8 0v3.668l3.614 1.22Z" /></g></symbol>',24,24,!1,void 0)},210162:(e,t,o)=>{"use strict";o.d(t,{Icon24ShoppingCartOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24ShoppingCartOutline","shopping_cart_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="shopping_cart_outline_24"><path fill-rule="evenodd" d="M3.935 4.817a14.055 14.055 0 0 0-.94-.017H2.9a.9.9 0 0 1 0-1.8h.127c.401 0 .751 0 1.043.022.31.023.618.075.923.21a2.7 2.7 0 0 1 1.139.952c.094.138.167.28.227.427l11.586.362c.64.02 1.18.037 1.611.09.445.053.892.156 1.284.424a2.7 2.7 0 0 1 1.116 1.655c.101.465.03.917-.088 1.35-.113.42-.3.927-.522 1.527l-.511 1.387c-.495 1.345-.828 2.248-1.426 2.93a4.9 4.9 0 0 1-1.938 1.352c-.848.324-1.81.324-3.243.323H9.804c-.402 0-.752 0-1.043-.022a2.727 2.727 0 0 1-.924-.21 2.7 2.7 0 0 1-1.139-.951 2.726 2.726 0 0 1-.37-.872 14.876 14.876 0 0 1-.208-1.022L4.944 6.428a14.146 14.146 0 0 0-.183-.921c-.052-.199-.092-.273-.118-.312a.9.9 0 0 0-.38-.317c-.043-.02-.123-.046-.328-.061Zm2.838 1.608 1.113 6.158c.079.434.13.711.184.921.051.199.091.273.118.313a.9.9 0 0 0 .38.317c.042.019.123.045.328.06a14 14 0 0 0 .939.017h4.213c1.682 0 2.283-.014 2.78-.204a3.1 3.1 0 0 0 1.227-.855c.35-.401.571-.96 1.153-2.538l.435-1.179c.24-.649.398-1.08.487-1.412.089-.328.078-.449.067-.497a.9.9 0 0 0-.372-.552c-.04-.028-.149-.084-.486-.125-.342-.041-.8-.057-1.491-.078L6.773 6.425ZM10 19.25a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0ZM16.75 21a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5Z" /></symbol>',24,24,!1,void 0)},427323:(e,t,o)=>{"use strict";o.d(t,{Icon24SmileOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24SmileOutline","smile_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="smile_outline_24"><path d="M8.438 14.297a.9.9 0 0 1 1.259.133c.013.016.196.223.53.432.383.24.97.488 1.773.488a3.3 3.3 0 0 0 1.773-.488c.191-.12.382-.26.53-.432a.9.9 0 0 1 1.4 1.132 4.045 4.045 0 0 1-.976.826A5.094 5.094 0 0 1 12 17.15a5.094 5.094 0 0 1-2.727-.762 3.987 3.987 0 0 1-.976-.826.9.9 0 0 1 .14-1.265Zm1.812-4.047a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM15 11.5A1.25 1.25 0 1 0 15 9a1.25 1.25 0 0 0 0 2.5Zm-3-9.4c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9ZM3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},783844:(e,t,o)=>{"use strict";o.d(t,{Icon24StickerSmileOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24StickerSmileOutline","sticker_smile_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="sticker_smile_outline_24"><path d="M11.295 10.25a1.256 1.256 0 0 1-1.255 1.251c-.69 0-1.248-.56-1.245-1.25C8.798 9.56 9.36 9 10.05 9s1.248.56 1.245 1.25Zm4.244.251c.69 0 1.25-.56 1.254-1.25A1.244 1.244 0 0 0 15.549 8c-.69 0-1.251.56-1.254 1.25a1.244 1.244 0 0 0 1.244 1.251Z" /><path fill-rule="evenodd" d="m11.452 21.295-.005-.025-.399.056c-.845.12-1.406.198-1.906.167a4.886 4.886 0 0 1-4.296-3.245c-.167-.472-.244-1.033-.361-1.879l-.662-4.784c-.149-1.076-.268-1.939-.308-2.644-.04-.724-.003-1.361.208-1.972a4.916 4.916 0 0 1 1.828-2.42c.53-.37 1.132-.58 1.84-.74.689-.155 1.55-.276 2.627-.427l5.096-.717c.783-.11 1.302-.183 1.765-.16a4.885 4.885 0 0 1 4.394 3.317c.148.44.22.96.328 1.742l.02.142h.002l.247 1.655c.024.163.034.324.031.483.082.726.117 1.292.09 1.816a9.93 9.93 0 0 1-6.718 8.896c-.765.26-1.666.407-3.1.612l-.721.127Zm5.336-16.992c-.27-.013-.607.03-1.53.16l-4.954.696c-1.124.158-1.914.27-2.522.407-.599.135-.945.278-1.202.458a3.11 3.11 0 0 0-1.156 1.53c-.103.298-.146.67-.112 1.282.035.623.143 1.413.299 2.537l.64 4.635c.139.996.194 1.36.291 1.635a3.09 3.09 0 0 0 2.718 2.053c.292.018.656-.028 1.652-.168l.17-.024.82-.116 1.603-.283c.6-.106 1-.68.893-1.28l-.236-1.324c-1.403.152-3.005.008-4.27-.857a.9.9 0 0 1 1.017-1.487c.817.559 2.008.694 3.23.534a4.413 4.413 0 0 1 3.43-3.475l1.655-.345c.48-.1.824-.499.872-.965a99.95 99.95 0 0 0-.263-1.989c-.128-.922-.178-1.258-.265-1.515a3.09 3.09 0 0 0-2.78-2.1Zm-.576 13.853a8.128 8.128 0 0 0 3.885-5.677 2.903 2.903 0 0 1-.51.155l-1.655.345a2.606 2.606 0 0 0-2.034 3.008l.271 1.52c.04.218.053.436.043.649Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},135826:(e,t,o)=>{"use strict";o.d(t,{Icon24StorefrontOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24StorefrontOutline","storefront_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="storefront_outline_24"><path fill-rule="evenodd" d="M7 14a.9.9 0 0 1 .9.9v4.2h8.2v-4.2a.9.9 0 0 1 1.8 0V20a.9.9 0 0 1-.9.9H7a.9.9 0 0 1-.9-.9v-5.1A.9.9 0 0 1 7 14Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M3 20a.9.9 0 0 1 .9-.9h16.2a.9.9 0 1 1 0 1.8H3.9A.9.9 0 0 1 3 20Zm13.9-10a1.1 1.1 0 0 0 2.2 0h1.8a2.9 2.9 0 0 1-5.8 0h1.8Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M16 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M12 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M4 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 0 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8.703 3.1h6.594c.553 0 1.019-.001 1.453.137a2.9 2.9 0 0 1 1.033.585c.342.301.581.7.865 1.175l.056.094 1.612 2.686.027.045c.143.239.264.44.352.66.077.195.133.397.167.604.038.234.038.47.038.747V10h-1.8v-.114c0-.358-.003-.438-.014-.51a1.1 1.1 0 0 0-.064-.228c-.027-.068-.066-.138-.25-.445L17.16 6.017c-.37-.618-.462-.752-.566-.843a1.1 1.1 0 0 0-.392-.222c-.131-.042-.294-.052-1.014-.052H8.812c-.72 0-.883.01-1.014.052a1.1 1.1 0 0 0-.392.222c-.104.091-.196.225-.566.843L5.228 8.703c-.185.307-.223.377-.25.445a1.1 1.1 0 0 0-.064.228c-.011.072-.014.152-.014.51V10H3.1v-.167c0-.278 0-.513.038-.747a2.9 2.9 0 0 1 .167-.603c.088-.22.209-.422.352-.66l.027-.046L5.296 5.09l.056-.094c.284-.474.523-.874.865-1.175a2.9 2.9 0 0 1 1.033-.585c.434-.138.9-.138 1.453-.137Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},25155:(e,t,o)=>{"use strict";o.d(t,{Icon24UgcStickerOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24UgcStickerOutline","ugc_sticker_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="ugc_sticker_outline_24"><path fill-rule="evenodd" d="M13.481 3.562a1.85 1.85 0 0 0-1.403-.56c-4.963.228-9.045 4.133-9.045 8.592 0 1.527.485 2.952 1.318 4.16-.04.476-.178.986-.382 1.531-.186.496-.406.973-.632 1.462-.074.16-.149.322-.223.486-.394.865.29 1.801 1.194 1.766 2.098-.081 3.83-.6 5.035-1.69 1.002.308 2.079.474 3.199.474 4.124 0 7.977-2.28 9.295-5.631.403-1.024.008-2.063-.635-2.718l-7.72-7.872ZM11.2 4.9c-3.67.603-6.362 3.606-6.362 6.695 0 1.222.414 2.37 1.149 3.347.117.155.18.345.18.539 0 .86-.229 1.691-.507 2.434-.156.415-.337.83-.515 1.219 1.595-.191 2.637-.71 3.267-1.442a.904.904 0 0 1 .999-.257 9.015 9.015 0 0 0 3.132.551c3.401 0 6.37-1.81 7.484-4.182-1.345 0-2.412-.001-3.273-.071-.891-.073-1.642-.224-2.326-.572a5.903 5.903 0 0 1-2.584-2.575c-.349-.682-.5-1.43-.573-2.319-.071-.87-.071-1.949-.071-3.314V4.9Zm8.04 7.105-6.236-6.358c.002 1.04.012 1.83.065 2.474.063.777.185 1.262.382 1.649a4.101 4.101 0 0 0 1.796 1.79c.387.196.874.317 1.654.38.616.05 1.366.062 2.338.065Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},366582:(e,t,o)=>{"use strict";o.d(t,{Icon28AddCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28AddCircleFillBlue","add_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="add_circle_fill_blue_28"><linearGradient id="add_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#add_circle_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" /><path fill="#fff" d="M14 7a1 1 0 0 1 1 1v5h5a1 1 0 1 1 0 2h-5v5a1 1 0 1 1-2 0v-5H8a1 1 0 1 1 0-2h5V8a1 1 0 0 1 1-1z" /></symbol>',28,28,!1,void 0)},689826:(e,t,o)=>{"use strict";o.d(t,{Icon28AdvertisingCircleFillRed:()=>r});var r=(0,o(28178).makeIcon)("Icon28AdvertisingCircleFillRed","advertising_circle_fill_red_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="advertising_circle_fill_red_28"><linearGradient id="advertising_circle_fill_red_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ff5263" /><stop offset="1" stop-color="#ff3347" /></linearGradient><path fill="url(#advertising_circle_fill_red_28_a)" d="M14 28c7.732 0 14-6.268 14-14S21.732 0 14 0 0 6.268 0 14s6.268 14 14 14z" /><g fill="#fff"><path d="M19.7 19c-.169 0-.389-.05-.529-.149L16.732 16.7s-.123-.11-.152-.146a.35.35 0 0 1-.062-.122.52.52 0 0 1-.018-.143v-5.523a.68.68 0 0 1 .019-.205.35.35 0 0 1 .062-.122c.029-.037.152-.149.152-.149l2.438-2.135c.141-.1.371-.152.529-.155a.8.8 0 0 1 .8.8v9.4a.8.8 0 0 1-.8.8zM14.7 10.5a.3.3 0 0 1 .3.3v5.4a.3.3 0 0 1-.3.3l-2.2.003c0 .606.326 1.372.583 1.697.391.493.286 1.12-.182 1.53-.47.412-1.344.345-1.734-.148-.59-.743-1.167-1.93-1.167-3.08l-.5-.002a3 3 0 1 1 0-6z" /></g></symbol>',28,28,!1,void 0)},62340:(e,t,o)=>{"use strict";o.d(t,{Icon28ChainCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28ChainCircleFillBlue","chain_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="chain_circle_fill_blue_28"><linearGradient id="chain_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#chain_circle_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" /><path fill="#fff" fill-rule="evenodd" d="M13.022 16.184a.837.837 0 0 1-1.187-.001 3.861 3.861 0 0 1 0-5.419l2.618-2.643a3.772 3.772 0 0 1 5.366 0c1.261 1.274 1.557 3.033.67 4.508-.296.49-.947.47-1.326.09-.274-.276-.253-.707-.076-1.019.465-.817.24-1.683-.456-2.379a2.094 2.094 0 0 0-2.997 0l-2.611 2.636a2.143 2.143 0 0 0-.001 3.025.83.83 0 0 1 0 1.202zm1.95-3.166c.833.835.832 2.19-.001 3.025L12.36 18.68a2.094 2.094 0 0 1-2.997 0c-.696-.696-.911-1.555-.447-2.371.178-.312.199-.744-.076-1.019-.379-.38-1.03-.4-1.325.09-.888 1.474-.602 3.226.659 4.5a3.772 3.772 0 0 0 5.367 0l2.617-2.643a3.86 3.86 0 0 0 0-5.419.837.837 0 0 0-1.187 0 .831.831 0 0 0 0 1.2z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},658508:(e,t,o)=>{"use strict";o.d(t,{Icon28ChevronRightOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon28ChevronRightOutline","chevron_right_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="chevron_right_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path stroke="#8BC1FF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m11 7.5 6.5 6.5-6.5 6.5" /><path fill="currentColor" fill-rule="nonzero" d="m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414L16.086 14Z" /></g></symbol>',28,28,!1,void 0)},469531:(e,t,o)=>{"use strict";o.d(t,{Icon28EditCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28EditCircleFillBlue","edit_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="edit_circle_fill_blue_28"><linearGradient id="edit_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><rect width="28" height="28" fill="url(#edit_circle_fill_blue_28_a)" rx="14" /><path fill="#fff" fill-rule="evenodd" d="m14.987 9.976 3.035 3.035-5.539 5.54a5.722 5.722 0 0 1-2.375 1.426l-2.488.76a.286.286 0 0 1-.358-.358l.76-2.488a5.721 5.721 0 0 1 1.427-2.375zm4.17-2.35 1.216 1.217c.47.468.5 1.209.094 1.714l-.094.104-1.516 1.516-3.035-3.035 1.517-1.515a1.286 1.286 0 0 1 1.819 0z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},535505:(e,t,o)=>{"use strict";o.d(t,{Icon28GearCircleFillGray:()=>r});var r=(0,o(28178).makeIcon)("Icon28GearCircleFillGray","gear_circle_fill_gray_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="gear_circle_fill_gray_28"><linearGradient id="gear_circle_fill_gray_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path fill="url(#gear_circle_fill_gray_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" /><path fill="#fff" d="M15 6.667c.18.6.306 1.201 1.305 1.777 1.118.304 1.665.003 2.173-.337.53-.353.688-.25.9-.043l.515.515c.235.236.33.33 0 .943-.298.552-.633 1.066-.335 2.18.577 1.004 1.176 1.178 1.775 1.298.625.125.664.309.667.606v.727c0 .334 0 .467-.667.667-.6.18-1.201.306-1.777 1.305-.303 1.118-.002 1.665.337 2.173.353.53.25.688.043.9l-.515.515c-.236.235-.33.33-.943 0-.552-.298-1.066-.633-2.18-.335-1.004.577-1.178 1.176-1.298 1.775-.125.625-.309.664-.606.667h-.727c-.334 0-.467 0-.667-.667-.18-.6-.306-1.201-1.305-1.777-1.118-.303-1.665-.002-2.173.337-.53.353-.688.25-.9.043l-.515-.515c-.235-.236-.33-.33 0-.943.298-.552.634-1.066.335-2.18C7.865 15.294 7.266 15.12 6.667 15c-.625-.125-.664-.309-.667-.606v-.727c0-.334 0-.467.667-.667.6-.18 1.201-.306 1.777-1.305.304-1.118.003-1.665-.337-2.173-.353-.53-.25-.688-.043-.9l.515-.515c.236-.235.33-.33.943 0 .552.298 1.066.634 2.18.335C12.706 7.865 12.88 7.266 13 6.667c.125-.625.309-.664.606-.667h.727c.334 0 .467 0 .667.667zM14 10.2a3.8 3.8 0 1 0 0 7.6 3.8 3.8 0 0 0 0-7.6z" /></symbol>',28,28,!1,void 0)},287865:(e,t,o)=>{"use strict";o.d(t,{Icon28MentionCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28MentionCircleFillBlue","mention_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="mention_circle_fill_blue_28"><linearGradient id="mention_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#mention_circle_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" /><path fill="#fff" d="M13.875 21c-1.385 0-2.595-.274-3.63-.822s-1.835-1.33-2.4-2.344C7.283 16.82 7 15.638 7 14.285v-.42c0-1.352.298-2.547.895-3.585a6.19 6.19 0 0 1 2.516-2.418C11.49 7.287 12.735 7 14.143 7h.072c1.307 0 2.475.258 3.504.774s1.834 1.234 2.413 2.155c.579.922.868 1.965.868 3.131v.428c0 .805-.133 1.513-.398 2.125-.266.613-.643 1.086-1.133 1.421-.489.336-1.053.503-1.691.503-.585 0-1.091-.118-1.518-.354s-.696-.55-.81-.94h-.08c-.114.39-.36.702-.739.936-.379.233-.828.35-1.347.35-.525 0-.982-.116-1.37-.346s-.686-.561-.895-.993c-.209-.43-.313-.941-.313-1.53v-1.067c0-.565.106-1.058.318-1.477.212-.42.511-.745.9-.976.387-.23.84-.345 1.36-.345.49 0 .909.114 1.258.341.349.228.58.534.693.918h.063v-.166c0-.28.088-.507.264-.682.176-.175.404-.262.685-.262.274 0 .497.087.667.262s.255.402.255.682v3.42c0 .244.074.445.224.603s.343.236.581.236c.269 0 .503-.115.703-.346.2-.23.355-.555.466-.975.11-.42.165-.906.165-1.46v-.236c0-.892-.218-1.692-.653-2.4a4.478 4.478 0 0 0-1.813-1.658c-.773-.396-1.646-.594-2.618-.594h-.08c-1.08 0-2.028.224-2.843.673-.814.449-1.446 1.086-1.893 1.91s-.671 1.78-.671 2.865v.306c0 1.072.214 2.008.644 2.807.43.798 1.04 1.415 1.83 1.85s1.718.65 2.78.65h.09c.4 0 .87-.04 1.414-.122.274-.035.445-.052.51-.052a.73.73 0 0 1 .52.192.64.64 0 0 1 .205.49c0 .344-.194.577-.582.7-.519.169-1.247.253-2.184.253zm-1.146-6.637c0 1.06.397 1.591 1.19 1.591.376 0 .661-.124.855-.371.194-.248.291-.617.291-1.106v-.735c0-.443-.103-.79-.309-1.04-.205-.251-.49-.377-.854-.377-.382 0-.673.136-.873.407-.2.271-.3.663-.3 1.176z" /></symbol>',28,28,!1,void 0)},382193:(e,t,o)=>{"use strict";o.d(t,{Icon28PaletteFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28PaletteFillBlue","palette_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="palette_fill_blue_28"><linearGradient id="palette_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#palette_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" /><path fill="#fff" fill-rule="evenodd" d="M14.629 17.702c-.174.375-.104.768.08 1.08.503.87.777 2.218-.68 2.218C10.307 21 7 17.783 7 14c0-3.866 3.147-7 7.03-7a7.03 7.03 0 0 1 6.942 5.894c.284 2.391-1.625 4.091-3.668 4.091-.84 0-2.231-.239-2.675.717zM9.75 15a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zm6-3.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zm-4 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zm6.5 3.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},7479:(e,t,o)=>{"use strict";o.d(t,{Icon28Pause:()=>r});var r=(0,o(28178).makeIcon)("Icon28Pause","pause_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="pause_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M7.3 5h3.4A1.3 1.3 0 0 1 12 6.3v15.4a1.3 1.3 0 0 1-1.3 1.3H7.3A1.3 1.3 0 0 1 6 21.7V6.3A1.3 1.3 0 0 1 7.3 5Zm9 0h3.4A1.3 1.3 0 0 1 21 6.3v15.4a1.3 1.3 0 0 1-1.3 1.3h-3.4a1.3 1.3 0 0 1-1.3-1.3V6.3A1.3 1.3 0 0 1 16.3 5Z" /></g></symbol>',28,28,!1,void 0)},776076:(e,t,o)=>{"use strict";o.d(t,{Icon28PhoneCircleFillGreen:()=>r});var r=(0,o(28178).makeIcon)("Icon28PhoneCircleFillGreen","phone_circle_fill_green_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="phone_circle_fill_green_28"><linearGradient id="phone_circle_fill_green_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#50c750" /><stop offset="1" stop-color="#32b332" /></linearGradient><path fill="url(#phone_circle_fill_green_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" /><path fill="#fff" d="M15.642 16.535c1.054-1.054 2.712-1.15 3.814-.224l.797.671c.91.766 1.002 2.145.205 3.08a2.58 2.58 0 0 1-1.707.882c-2.546.343-5.217-.884-8.014-3.681-2.796-2.797-4.024-5.469-3.68-8.014.017-.199.058-.395.122-.585.149-.435.41-.822.759-1.122.936-.796 2.314-.705 3.08.205l.67.797c.928 1.101.832 2.76-.222 3.814l-.571.57a.554.554 0 0 0-.128.583c.208.569.739 1.28 1.59 2.131.854.853 1.564 1.384 2.132 1.592.203.075.43.024.582-.128z" /></symbol>',28,28,!1,void 0)},957228:(e,t,o)=>{"use strict";o.d(t,{Icon28PinCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28PinCircleFillBlue","pin_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="pin_circle_fill_blue_28"><linearGradient id="pin_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#pin_circle_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" /><path fill="#fff" d="m16.235 8.109 3.657 3.663c.225.226.064.633-.263.633h-.523a.895.895 0 0 0-.633.263l-1.715 1.715a.896.896 0 0 0-.262.633v2.996c0 .554-.7.858-1.1.456l-2.301-2.3-3.57 3.57a.893.893 0 1 1-1.264-1.263L11.83 14.9l-2.29-2.29c-.391-.392-.109-1.102.456-1.102h2.995a.895.895 0 0 0 .633-.262l1.715-1.715a.896.896 0 0 0 .263-.634v-.526c0-.32.403-.495.634-.263z" /></symbol>',28,28,!1,void 0)},140518:(e,t,o)=>{"use strict";o.d(t,{Icon28Play:()=>r});var r=(0,o(28178).makeIcon)("Icon28Play","play_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="play_28"><path d="M21.65 11.923c1.181.682 1.772 1.023 1.97 1.467.173.388.173.832 0 1.22-.198.444-.789.785-1.97 1.467L11.6 21.874c-1.181.681-1.772 1.022-2.257.971a1.5 1.5 0 0 1-1.057-.61C8 21.842 8 21.16 8 19.797V8.203c0-1.363 0-2.044.286-2.438a1.5 1.5 0 0 1 1.057-.61c.485-.05 1.076.29 2.257.971l10.05 5.797Z" /></symbol>',28,28,!1,void 0)},691324:(e,t,o)=>{"use strict";o.d(t,{Icon28UserCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28UserCircleFillBlue","user_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="user_circle_fill_blue_28"><circle cx="14" cy="14" r="14" fill="url(#user_circle_fill_blue_28_a)" /><path fill="#fff" d="M16.75 11.25a2.75 2.75 0 1 0-5.5 0 2.75 2.75 0 1 0 5.5 0ZM8.5 18.115v.715c0 .37.3.67.67.67h9.66c.37 0 .67-.3.67-.67v-.715C19.5 15.692 15.836 15 14 15c-1.836 0-5.5.692-5.5 3.115Z" /><defs><linearGradient id="user_circle_fill_blue_28_a" x1="0" x2="28.733" y1="0" y2=".773" gradientUnits="userSpaceOnUse"><stop stop-color="#70B2FF" /><stop offset="1" stop-color="#5C9CE6" /></linearGradient></defs></symbol>',28,28,!1,void 0)},996955:(e,t,o)=>{"use strict";o.d(t,{Icon32Play:()=>r});var r=(0,o(28178).makeIcon)("Icon32Play","play_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" id="play_32"><path d="M24.948 14.001c1.154.656 1.732.984 1.925 1.412.17.374.17.8 0 1.174-.194.428-.77.756-1.925 1.412l-12.43 7.061c-1.154.656-1.732.984-2.205.935a1.471 1.471 0 0 1-1.033-.587C9 25.03 9 24.373 9 23.061V8.938c0-1.311 0-1.967.28-2.347.244-.33.62-.543 1.033-.586.473-.05 1.05.279 2.205.935L24.948 14Z" /></symbol>',32,32,!1,void 0)},212380:(e,t,o)=>{"use strict";o.d(t,{Icon56HelpOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon56HelpOutline","help_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="help_outline_56"><path fill="currentColor" d="M25.46 18.099c-.63.377-1.176.98-1.567 1.958a1.5 1.5 0 1 1-2.786-1.114c.61-1.523 1.562-2.669 2.809-3.417C25.145 14.79 26.556 14.5 28 14.5c4.473 0 7 3.85 7 7 0 2.81-1.716 4.354-2.983 5.494l-.257.232c-1.307 1.19-2.26 2.19-2.26 4.274a1.5 1.5 0 0 1-3 0c0-3.416 1.797-5.177 3.24-6.492l.071-.065C31.24 23.643 32 22.949 32 21.5c0-1.85-1.518-4-4-4-1.056 0-1.895.211-2.54.599ZM28 41a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" /><path fill="currentColor" fill-rule="evenodd" d="M28 52c13.255 0 24-10.745 24-24S41.255 4 28 4 4 14.745 4 28s10.745 24 24 24Zm0-3c11.598 0 21-9.402 21-21S39.598 7 28 7 7 16.402 7 28s9.402 21 21 21Z" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},735347:(e,t,o)=>{"use strict";o.d(t,{Icon56LockOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon56LockOutline","lock_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="lock_outline_56"><g fill="currentColor"><path d="M28 31a3 3 0 0 0-1.5 5.599V39.5a1.5 1.5 0 0 0 3 0v-2.901A2.999 2.999 0 0 0 28 31z" /><path fill-rule="evenodd" d="M28 4c-6.075 0-11 4.925-11 11v5.04c-.36.015-.7.034-1.02.06-1.26.103-2.344.32-3.339.826a8.5 8.5 0 0 0-3.715 3.715c-.507.996-.723 2.08-.826 3.34C8 29.208 8 30.73 8 32.634v6.73c0 1.905 0 3.426.1 4.655.103 1.26.32 2.344.826 3.339a8.5 8.5 0 0 0 3.715 3.715c.995.507 2.08.723 3.34.826 1.228.1 2.749.1 4.654.1h14.73c1.905 0 3.426 0 4.655-.1 1.26-.103 2.343-.32 3.339-.826a8.5 8.5 0 0 0 3.715-3.715c.507-.995.723-2.08.826-3.34.1-1.228.1-2.749.1-4.654v-6.73c0-1.905 0-3.426-.1-4.655-.103-1.26-.32-2.343-.826-3.339a8.5 8.5 0 0 0-3.715-3.715c-.996-.507-2.08-.723-3.34-.826-.319-.026-.658-.045-1.019-.06V15c0-6.075-4.925-11-11-11zm-8 11a8 8 0 1 1 16 0v5H20zm-5.997 8.6c.502-.256 1.147-.422 2.222-.51 1.092-.089 2.49-.09 4.475-.09h14.6c1.985 0 3.383.001 4.476.09 1.074.088 1.719.254 2.221.51a5.5 5.5 0 0 1 2.404 2.403c.255.502.42 1.147.509 2.222.089 1.092.09 2.49.09 4.475v6.6c0 1.985-.001 3.383-.09 4.476-.088 1.074-.254 1.719-.51 2.221a5.5 5.5 0 0 1-2.403 2.404c-.502.255-1.147.42-2.222.509-1.092.089-2.49.09-4.475.09H20.7c-1.985 0-3.383-.001-4.475-.09-1.075-.088-1.72-.254-2.222-.51a5.5 5.5 0 0 1-2.404-2.403c-.255-.502-.42-1.147-.509-2.222-.089-1.092-.09-2.49-.09-4.475v-6.6c0-1.985.001-3.383.09-4.475.088-1.075.254-1.72.51-2.222a5.5 5.5 0 0 1 2.403-2.404z" clip-rule="evenodd" /></g></symbol>',56,56,!1,void 0)},839123:(e,t,o)=>{"use strict";o.d(t,{Icon56SettingsOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon56SettingsOutline","settings_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 56 56" id="settings_outline_56"><path fill-rule="evenodd" d="M37.004 28.152c0 4.96-4.03 8.98-9.001 8.98-4.971 0-9.001-4.02-9.001-8.98 0-4.96 4.03-8.98 9-8.98 4.972 0 9.002 4.02 9.002 8.98Zm-9.001 5.987c3.314 0 6-2.68 6-5.987 0-3.306-2.686-5.987-6-5.987s-6.001 2.68-6.001 5.987 2.687 5.987 6 5.987Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M29.265 4.005c-.798 0-1.598.017-2.396-.002-.41-.01-1.849-.044-3.058.923-1.186.949-1.628 2.398-1.895 3.463a10.3 10.3 0 0 1-.884 2.233c-.841.334-1.652.727-2.428 1.173a10.265 10.265 0 0 1-2.22-.704c-.996-.463-2.403-1.034-3.89-.708-1.514.33-2.392 1.469-2.642 1.793a48.31 48.31 0 0 1-1.427 1.76c-.266.314-1.194 1.407-1.204 2.95-.009 1.516.839 2.77 1.5 3.649.407.54.86 1.32 1.209 2.162a18.752 18.752 0 0 0-.582 2.561c-.672.59-1.406 1.08-1.997 1.381-.98.5-2.294 1.257-2.951 2.625-.669 1.391-.314 2.78-.212 3.177.187.731.358 1.47.51 2.209.083.4.373 1.806 1.586 2.764 1.193.944 2.707 1.048 3.807 1.068.65.012 1.504.127 2.352.353.51.742 1.072 1.445 1.681 2.104.028.872-.052 1.724-.186 2.356-.228 1.074-.465 2.569.184 3.94.662 1.396 1.968 1.995 2.34 2.166.686.315 1.368.647 2.038.994.364.188 1.643.85 3.155.51 1.485-.334 2.519-1.444 3.225-2.284a10.326 10.326 0 0 1 1.816-1.65c.864.06 1.75.06 2.614 0a10.33 10.33 0 0 1 1.815 1.65c.707.84 1.74 1.95 3.225 2.284 1.513.34 2.791-.322 3.155-.51.67-.347 1.352-.679 2.038-.994.373-.17 1.679-.77 2.34-2.166.65-1.371.412-2.866.184-3.94a10.283 10.283 0 0 1-.186-2.356 18.833 18.833 0 0 0 1.681-2.104 10.29 10.29 0 0 1 2.353-.353c1.099-.02 2.614-.124 3.807-1.068 1.213-.958 1.502-2.364 1.585-2.764.153-.74.323-1.478.51-2.209.102-.397.457-1.786-.211-3.177-.658-1.368-1.972-2.125-2.951-2.625a10.313 10.313 0 0 1-1.998-1.38 18.78 18.78 0 0 0-.581-2.562 10.34 10.34 0 0 1 1.208-2.162c.662-.878 1.509-2.133 1.5-3.65-.01-1.542-.938-2.635-1.204-2.948a48.17 48.17 0 0 1-1.427-1.761c-.25-.324-1.128-1.462-2.641-1.793-1.487-.325-2.895.245-3.891.708a10.25 10.25 0 0 1-2.22.704 18.81 18.81 0 0 0-2.428-1.173 10.3 10.3 0 0 1-.884-2.233c-.256-1.024-.666-2.348-1.683-3.281-1.192-1.094-2.595-1.1-3.098-1.103h-.043Zm8.892 42.739-1.902.927c-.952.464-1.427.696-2.83-.974-.788-.936-2.02-2.026-3.367-2.806a16.262 16.262 0 0 1-4.11 0c-1.348.78-2.58 1.87-3.367 2.806-1.403 1.67-1.88 1.438-2.83.974l-1.903-.927c-.951-.464-1.427-.696-.974-2.83.249-1.175.35-2.779.15-4.297a15.941 15.941 0 0 1-2.64-3.302c-1.439-.54-3.033-.804-4.24-.826-2.18-.04-2.3-.555-2.538-1.585l-.476-2.062c-.238-1.03-.357-1.546 1.586-2.537 1.085-.554 2.418-1.503 3.48-2.633.129-1.396.44-2.74.907-4.009-.457-1.494-1.245-2.946-1.983-3.926-1.312-1.743-.98-2.154-.313-2.976l1.332-1.644c.666-.822 1-1.233 2.977-.313 1.084.504 2.615.962 4.133 1.111a15.814 15.814 0 0 1 3.81-1.843c.855-1.284 1.475-2.784 1.768-3.959.53-2.115 1.059-2.115 2.117-2.115h2.299c.939.007 1.437.124 1.935 2.115.294 1.175.913 2.675 1.769 3.959 1.36.445 2.64 1.069 3.81 1.843 1.517-.15 3.048-.607 4.132-1.111 1.978-.92 2.311-.51 2.977.313l1.332 1.644c.666.822 1 1.233-.313 2.976-.738.98-1.526 2.432-1.983 3.927a15.77 15.77 0 0 1 .908 4.008c1.062 1.13 2.394 2.08 3.479 2.633 1.943.991 1.824 1.506 1.586 2.537l-.476 2.062c-.238 1.03-.357 1.546-2.538 1.585-1.207.022-2.8.286-4.24.826a15.938 15.938 0 0 1-2.64 3.302c-.2 1.518-.098 3.122.15 4.298.453 2.133-.023 2.365-.974 2.829Z" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},9752:(e,t,o)=>{"use strict";o.d(t,{Icon56UsersOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon56UsersOutline","users_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="users_outline_56"><g fill="none" fill-rule="evenodd"><path d="M0 0h56v56H0z" /><path fill="currentColor" fill-rule="nonzero" d="M39.5 31c5.609 0 10.5 2.699 10.5 8 0 2.625-1.833 4-4 4h-8.5a1.5 1.5 0 0 1 0-3H46c.667 0 1-.25 1-1 0-3.164-3.328-5-7.5-5-.71 0-1.482.07-2.226.208a1.5 1.5 0 1 1-.548-2.95A15.385 15.385 0 0 1 39.5 31Zm-19-2c7.356 0 13.5 2.836 13.5 9 0 3.078-1.922 5-4.5 5h-18C8.814 43 7 41.59 7 38.5c0-6.545 6.065-9.5 13.5-9.5Zm0 3C14.514 32 10 34.2 10 38.5c0 1.244.33 1.5 1.5 1.5h18c.922 0 1.5-.578 1.5-2 0-3.874-4.606-6-10.5-6ZM39 15a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13Zm-18.5-4a7.5 7.5 0 1 1 0 15 7.5 7.5 0 0 1 0-15ZM39 18a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-18.5-4a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9Z" /></g></symbol>',56,56,!1,void 0)},58255:(e,t,o)=>{"use strict";o.d(t,{default:()=>n});var r=o(111132);function n(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},111132:(e,t,o)=>{"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}o.d(t,{default:()=>r})},374277:(e,t,o)=>{"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function n(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}o.d(t,{default:()=>n})},891047:(e,t,o)=>{"use strict";function r(e){return new Promise(((t,o)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>o(e.error)}))}function n(e,t){const o=indexedDB.open(e);o.onupgradeneeded=()=>o.result.createObjectStore(t);const n=r(o);return(e,o)=>n.then((r=>o(r.transaction(t,e).objectStore(t))))}let i;function s(){return i||(i=n("keyval-store","keyval")),i}function a(e,t=s()){return t("readonly",(t=>r(t.get(e))))}function c(e,t,o=s()){return o("readwrite",(o=>(o.put(t,e),r(o.transaction))))}function l(e,t,o=s()){return o("readwrite",(o=>new Promise(((n,i)=>{o.get(e).onsuccess=function(){try{o.put(t(this.result),e),n(r(o.transaction))}catch(e){i(e)}}}))))}function d(e,t=s()){return t("readwrite",(t=>(t.delete(e),r(t.transaction))))}function u(e=s()){return e("readwrite",(e=>(e.clear(),r(e.transaction))))}o.d(t,{clear:()=>u,createStore:()=>n,del:()=>d,get:()=>a,set:()=>c,update:()=>l})},759244:()=>{},963328:()=>{},98264:()=>{},403658:()=>{},861848:()=>{},458327:()=>{},238931:()=>{},814106:()=>{},181876:()=>{},335106:()=>{},704107:()=>{},128831:()=>{},402752:()=>{},170490:()=>{},895593:()=>{},351667:()=>{},528098:()=>{},974580:()=>{},936021:()=>{},97839:()=>{},628392:()=>{},241676:()=>{},848056:()=>{},833249:()=>{},417819:()=>{},152440:()=>{},450390:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={banner:"AvatarSuggestionRow-module__banner--eGRGM",character:"AvatarSuggestionRow-module__character--KkvTP",placeholder:"AvatarSuggestionRow-module__placeholder--KSNYt"}},777459:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={emoji:"Emoji-module__emoji--TaIGF"}},808209:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={item:"EmojiItem-module__item--uN2hU",itemActive:"EmojiItem-module__itemActive--ki278"}},473684:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={keyboard:"EmojiKeyboard-module__keyboard--S0TS4",scroll:"EmojiKeyboard-module__scroll--Z6QkW",in:"EmojiKeyboard-module__in--uXIEN",item:"EmojiKeyboard-module__item--WospX",itemHeader:"EmojiKeyboard-module__itemHeader--U9ggI"}},791677:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={header:"EmojiKeyboardHeader-module__header--TVWvF",headerWide:"EmojiKeyboardHeader-module__headerWide--e3DNC",headerRegular:"EmojiKeyboardHeader-module__headerRegular--yGl2Q",headerAdaptive:"EmojiKeyboardHeader-module__headerAdaptive--tCJxs",headerCompact:"EmojiKeyboardHeader-module__headerCompact--UVbey",title:"EmojiKeyboardHeader-module__title--PiK_M"}},327503:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={row:"EmojiKeyboardRow-module__row--p_0Uh",rowWide:"EmojiKeyboardRow-module__rowWide--GoPtY",rowRegular:"EmojiKeyboardRow-module__rowRegular--vJoFW",rowAdaptive:"EmojiKeyboardRow-module__rowAdaptive--WgL5l",rowCompact:"EmojiKeyboardRow-module__rowCompact--NII_p",emoji:"EmojiKeyboardRow-module__emoji--zhit4"}},792704:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={skeleton:"Skeleton-module__skeleton--qYHhs"}},419928:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={keyboard:"StickersEmojiKeyboard-module__keyboard--NDNV7",keyboardWide:"StickersEmojiKeyboard-module__keyboardWide--EQCpB",keyboardCompact:"StickersEmojiKeyboard-module__keyboardCompact--fap13",keyboardRegular:"StickersEmojiKeyboard-module__keyboardRegular--gcobA",keyboardAdaptive:"StickersEmojiKeyboard-module__keyboardAdaptive--uuxWL",in:"StickersEmojiKeyboard-module__in--GCR5_"}},585851:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={keyboard:"StickersKeyboard-module__keyboard--HhSGu",scroll:"StickersKeyboard-module__scroll--B3uRG",scrollDisabled:"StickersKeyboard-module__scrollDisabled--eFR0P",in:"StickersKeyboard-module__in--SrA5_",item:"StickersKeyboard-module__item--RVgIo",itemHeader:"StickersKeyboard-module__itemHeader--UiOMF"}},87613:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={group:"StickersKeyboardGroup-module__group--SaD_D",groupActive:"StickersKeyboardGroup-module__groupActive--FCxnW",groupHidden:"StickersKeyboardGroup-module__groupHidden--oelXz",item:"StickersKeyboardGroup-module__item--kWotN"}},371300:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={in:"StickersKeyboardGroupItem-module__in--CKjkC",inPlaceholder:"StickersKeyboardGroupItem-module__inPlaceholder--nDIkG",inActive:"StickersKeyboardGroupItem-module__inActive--iqstp",inHidden:"StickersKeyboardGroupItem-module__inHidden--LDS5f",icon:"StickersKeyboardGroupItem-module__icon--XsoKM",iconService:"StickersKeyboardGroupItem-module__iconService--v_5Us",inIndicator:"StickersKeyboardGroupItem-module__inIndicator--qfChl",inIndicatorRed:"StickersKeyboardGroupItem-module__inIndicatorRed--mfiwZ",inIndicatorGray:"StickersKeyboardGroupItem-module__inIndicatorGray--nmH3R",tooltip:"StickersKeyboardGroupItem-module__tooltip--k5ROd"}},127509:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={button:"ShopButton-module__button--dpi8u"}},396893:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={groups:"StickersKeyboardGroups-module__groups--D_rpD",container:"StickersKeyboardGroups-module__container--qnM6L",in:"StickersKeyboardGroups-module__in--LGJQC",items:"StickersKeyboardGroups-module__items--yuHSj",group:"StickersKeyboardGroups-module__group--jgk6H",groupIn:"StickersKeyboardGroups-module__groupIn--Rl88a",chevron:"StickersKeyboardGroups-module__chevron--bVU_v",shadow:"StickersKeyboardGroups-module__shadow--_mze3",groupsForced:"StickersKeyboardGroups-module__groupsForced--JQmGC",shadowVisible:"StickersKeyboardGroups-module__shadowVisible--QazqK",shadowLeft:"StickersKeyboardGroups-module__shadowLeft--Af04P",shadowRight:"StickersKeyboardGroups-module__shadowRight--uhxM3",chevronActive:"StickersKeyboardGroups-module__chevronActive--iEtYU",chevronLeft:"StickersKeyboardGroups-module__chevronLeft--HV3LI",chevronRight:"StickersKeyboardGroups-module__chevronRight--W2OoP"}},440652:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={peer:"GiftButton-module__peer--Roaf8"}},711857:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={tooltip:"PeerInfo-module__tooltip--oh4tT",text:"PeerInfo-module__text--e0b2H",icon:"PeerInfo-module__icon--IHiet"}},344786:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={header:"StickersKeyboardHeader-module__header--xV4wQ",headerWide:"StickersKeyboardHeader-module__headerWide--zmtrG",headerRegular:"StickersKeyboardHeader-module__headerRegular--qtnWn",headerAdaptive:"StickersKeyboardHeader-module__headerAdaptive--ovPUg",headerCompact:"StickersKeyboardHeader-module__headerCompact--Jtngb",headerAside:"StickersKeyboardHeader-module__headerAside--baqTV",title:"StickersKeyboardHeader-module__title--KIn6h",icon:"StickersKeyboardHeader-module__icon--xG3gi"}},926904:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={icon:"StyleSettingsButton-module__icon--kV7Xh"}},144295:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={tooltip:"Tooltip-module__tooltip--hXKeG",icon:"Tooltip-module__icon--r0CMV"}},692531:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={brush:"VmojiEditButton-module__brush--ePe_r",counter:"VmojiEditButton-module__counter--pQbPl"}},310690:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={row:"StickersKeyboardRow-module__row--rSTw0",rowWide:"StickersKeyboardRow-module__rowWide--SqyXn",rowRegular:"StickersKeyboardRow-module__rowRegular--OrVVI",rowAdaptive:"StickersKeyboardRow-module__rowAdaptive--oty8d",rowCompact:"StickersKeyboardRow-module__rowCompact--RdH0D",rowStickers:"StickersKeyboardRow-module__rowStickers--yfhOE",sticker:"StickersKeyboardRow-module__sticker--m7W0R"}},319972:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={card:"StickersKeyboardRowCard-module__card--mjZxc",hide:"StickersKeyboardRowCard-module__hide--wJMEC",image:"StickersKeyboardRowCard-module__image--AOl2R",title:"StickersKeyboardRowCard-module__title--d7X63",action:"StickersKeyboardRowCard-module__action--WLWqS"}},356238:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={tabbar:"Tabbar-module__tabbar--BM4FY",item:"Tabbar-module__item--go6yE"}},425061:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={item:"TabbarItem-module__item--ZNNPf",itemActive:"TabbarItem-module__itemActive--V_wMj",indicator:"TabbarItem-module__indicator--_3TfR",indicatorNone:"TabbarItem-module__indicatorNone--WNOVV",indicatorPrimary:"TabbarItem-module__indicatorPrimary--AnXZT",indicatorSecondary:"TabbarItem-module__indicatorSecondary--tycLm",indicatorDestructive:"TabbarItem-module__indicatorDestructive--SFvfQ"}},469872:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={view:"View-module__view--D7qOP",panel:"View-module__panel--WNKKi",panelSwitched:"View-module__panelSwitched--hg3jP"}},635800:function(e,t,o){!function(e,t){"use strict";function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var r=o(t);function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}var s=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,o){return!Object.is(e,t[o])}))},a={error:null},c=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state=a,t.resetErrorBoundary=function(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}i(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var o=t.prototype;return o.reset=function(){this.setState(a)},o.componentDidCatch=function(e,t){var o,r;null==(o=(r=this.props).onError)||o.call(r,e,t)},o.componentDidUpdate=function(e,t){var o,r,n=this.state.error,i=this.props.resetKeys;null!==n&&null!==t.error&&s(e.resetKeys,i)&&(null==(o=(r=this.props).onResetKeysChange)||o.call(r,e.resetKeys,i),this.reset())},o.render=function(){var e=this.state.error,t=this.props,o=t.fallbackRender,n=t.FallbackComponent,i=t.fallback;if(null!==e){var s={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(i))return i;if("function"==typeof o)return o(s);if(n)return r.createElement(n,s);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);function l(e,t){var o=function(o){return r.createElement(c,t,r.createElement(e,o))},n=e.displayName||e.name||"Unknown";return o.displayName="withErrorBoundary("+n+")",o}function d(e){var t=r.useState(null),o=t[0],n=t[1];if(null!=e)throw e;if(null!=o)throw o;return n}e.ErrorBoundary=c,e.useErrorHandler=d,e.withErrorBoundary=l,Object.defineProperty(e,"__esModule",{value:!0})}(t,o(667294))},429697:(e,t,o)=>{"use strict";o.d(t,{default:()=>m});var r=o(487462),n=o(263366),i=o(894578),s=o(58255),a=o(374277),c=o(667294),l=o(696630),d=o(559391),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},h=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,o){var r=t.resolveArguments(e,o),n=r[0],i=r[1];t.removeClasses(n,"exit"),t.addClass(n,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,o)},t.onEntering=function(e,o){var r=t.resolveArguments(e,o),n=r[0],i=r[1]?"appear":"enter";t.addClass(n,i,"active"),t.props.onEntering&&t.props.onEntering(e,o)},t.onEntered=function(e,o){var r=t.resolveArguments(e,o),n=r[0],i=r[1]?"appear":"enter";t.removeClasses(n,i),t.addClass(n,i,"done"),t.props.onEntered&&t.props.onEntered(e,o)},t.onExit=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"appear"),t.removeClasses(o,"enter"),t.addClass(o,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var o=t.resolveArguments(e)[0];t.addClass(o,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"exit"),t.addClass(o,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,o){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,o]},t.getClassNames=function(e){var o=t.props.classNames,r="string"==typeof o,n=r?""+(r&&o?o+"-":"")+e:o[e];return{baseClassName:n,activeClassName:r?n+"-active":o[e+"Active"],doneClassName:r?n+"-done":o[e+"Done"]}},t}(0,i.default)(t,e);var o=t.prototype;return o.addClass=function(e,t,o){var r=this.getClassNames(t)[o+"ClassName"],n=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===o&&n&&(r+=" "+n),"active"===o&&e&&(0,d.forceReflow)(e),r&&(this.appliedClasses[t][o]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,s.default)(e,t)}))}(e,r))},o.removeClasses=function(e,t){var o=this.appliedClasses[t],r=o.base,n=o.active,i=o.done;this.appliedClasses[t]={},r&&u(e,r),n&&u(e,n),i&&u(e,i)},o.render=function(){var e=this.props,t=(e.classNames,(0,n.default)(e,["classNames"]));return c.createElement(l.default,(0,r.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.Component);h.defaultProps={classNames:""},h.propTypes={};const m=h},696630:(e,t,o)=>{"use strict";o.d(t,{default:()=>g});var r=o(263366),n=o(894578),i=o(667294),s=o(973935),a=o(806035),c=o(500220),l=o(559391),d="unmounted",u="exited",h="entering",m="entered",p="exiting",v=function(e){function t(t,o){var r;r=e.call(this,t,o)||this;var n,i=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(n=u,r.appearStatus=h):n=m:n=t.unmountOnExit||t.mountOnEnter?d:u,r.state={status:n},r.nextCallback=null,r}(0,n.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:u}:null};var o=t.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var o=this.state.status;this.props.in?o!==h&&o!==m&&(t=h):o!==h&&o!==m||(t=p)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,o,r=this.props.timeout;return e=t=o=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,o=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:o}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===h){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);o&&(0,l.forceReflow)(o)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:d})},o.performEnter=function(e){var t=this,o=this.props.enter,r=this.context?this.context.isMounting:e,n=this.props.nodeRef?[r]:[s.findDOMNode(this),r],i=n[0],c=n[1],l=this.getTimeouts(),d=r?l.appear:l.enter;!e&&!o||a.default.disabled?this.safeSetState({status:m},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,c),this.safeSetState({status:h},(function(){t.props.onEntering(i,c),t.onTransitionEnd(d,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(i,c)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,o=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!a.default.disabled?(this.props.onExit(r),this.safeSetState({status:p},(function(){e.props.onExiting(r),e.onTransitionEnd(o.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,o=!0;return this.nextCallback=function(r){o&&(o=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var o=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(o&&!r){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],i=n[0],a=n[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,o=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(c.default.Provider,{value:null},"function"==typeof o?o(e,n):i.cloneElement(i.Children.only(o),n))},t}(i.Component);function f(){}v.contextType=c.default,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},v.UNMOUNTED=d,v.EXITED=u,v.ENTERING=h,v.ENTERED=m,v.EXITING=p;const g=v},500220:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r=o(667294).createContext(null)},806035:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={disabled:!1}},559391:(e,t,o)=>{"use strict";o.d(t,{forceReflow:()=>r});var r=function(e){return e.scrollTop}},15080:(e,t,o)=>{"use strict";o.d(t,{createModule:()=>s,createMutations:()=>i,destroyModule:()=>a});var r=o(850989),n=o(953908);function i(e){return{callMutations(){if("function"==typeof e)throw console.trace(),new Error("Mutations are not initialized");return e},bindMutations(...t){if("function"!=typeof e)throw console.trace(),new Error("Mutations are already initialized");return e=e(...t)}}}function s(e){const t={_registeredHandlers:[]};return e.handlers(((...e)=>function(e,t,o,r){(0,n.addEvent)(t,o,r),e._registeredHandlers.push({handlerType:"bind",elem:t,types:o,handler:r})}(t,...e)),((...e)=>function(e,t,o,n,i,s){(0,r.addDelegateEvent)(t,o,n,i,s),e._registeredHandlers.push({handlerType:"delegate",elem:t,types:o,selector:n,handler:i})}(t,...e))),t}function a(e){e._registeredHandlers.forEach((e=>{const{handlerType:t,elem:o,types:i,handler:s}=e;"delegate"===t?(0,r.removeDelegateEvent)(o,i,e.selector,s):(0,n.removeEvent)(o,i,s)})),e._registeredHandlers=[]}},364517:(e,t,o)=>{"use strict";o.d(t,{Scroll:()=>c});var r=o(434788),n=o(820224),i=o(785893),s=o(286049),a=o(2914);const c=e=>{var{children:t}=e,o=(0,n._)(e,["children"]);return(0,i.jsx)(s.ScrollContext.Provider,{value:{createScroll:a.createScroll},children:(0,i.jsx)(s.Scroll,(0,r._)({},o,{children:t}))})};c.defaultProps={isNative:!1,isShadows:!1,neverHide:!1}},364922:(e,t,o)=>{"use strict";o.d(t,{Cache:()=>c});var r,n,i,s=o(11010),a=o(891047);!function(e){e.OBJECT="object",e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.STRING_NUMBER="string_number"}(n||(n={})),function(e){e.HELP_HINTS="helpHints"}(i||(i={}));class c{getHelpHints(){return this.getItem(i.HELP_HINTS)}setHelpHints(e){return this.setItem(i.HELP_HINTS,e)}clear(){return(0,a.clear)(this.store)}getItem(e){var t=this;return(0,s._)((function*(){const o=t.buildItemKey(e),r=c.cache.get(o);return(0,a.get)(o,t.store).then((e=>e||r)).catch((()=>r))}))()}setItem(e,t){var o=this;return(0,s._)((function*(){const r=o.buildItemKey(e);c.cache.set(r,t),yield(0,a.set)(r,t,o.store).catch((()=>{}))}))()}deleteItem(e){const t=this.buildItemKey(e);return(0,a.del)(t,this.store)}buildItemKey(e){return`${e}-${c.VERSION}-${this.userId}`}getItemSync(e,t){const o=this.buildSyncItemKey(e);try{let e=localStorage.getItem(o);if(!e)return;switch(t){case n.OBJECT:try{e=JSON.parse(e)}catch(e){return}break;case n.NUMBER:e=Number(e)||0;break;case n.STRING_NUMBER:e=Number(e)||e;break;case n.BOOLEAN:e=Boolean(Number(e))}return e}catch(e){return c.cache.get(o)}}setItemSync(e,t,o){const r=this.buildSyncItemKey(e);switch(o){case n.OBJECT:t=JSON.stringify(t);break;case n.BOOLEAN:t=String(Number(t))}try{localStorage.setItem(r,t)}catch(e){c.cache.set(r,t)}}buildSyncItemKey(e){return`${c.DB_NAME}_${e}_${c.VERSION}_${this.userId}`}constructor({userId:e=(null==(r=window.vk)?void 0:r.id),categories:t}={}){var o;this.userId=e||0;let n="cache";(null==(o=t)?void 0:o.length)&&(n=`${n}-${t.join("-")}`),this.store=(0,a.createStore)(c.DB_NAME,n)}}c.DB_NAME="help-hints",c.VERSION=1,c.CACHE_UPDATE_EVENT_NAME=`${c.DB_NAME}_cache_update`,c.cache=new Map},960644:(e,t,o)=>{"use strict";o.d(t,{HelpHintsProvider:()=>d});var r=o(11010),n=o(434788),i=o(820224),s=o(785893),a=o(667294),c=o(179153),l=o(16045);function d(e){var{api:t,noToken:o}=e,d=(0,i._)(e,["api","noToken"]);const[u,h]=(0,a.useState)(!0),m=(0,r._)((function*(){h(!0),yield c.HelpHints.reload(),h(!1)}));return(0,a.useEffect)((()=>{t&&(c.HelpHints.setAPI(t),o&&!t.options.token&&"function"!=typeof t.options.requestMethod)||m()}),[t,o]),(0,s.jsx)(l.HelpHintsContext.Provider,(0,n._)({value:{isHelpHintsReloading:u}},d))}},992983:(e,t,o)=>{"use strict";o.d(t,{HelpHint:()=>r});class r{get id(){return this.hint.id}get title(){return this.hint.title}get description(){return this.hint.description}getResource(e){var t,o;return null==(o=this.hint.resources)||null==(t=o.find((({key:t})=>t===e)))?void 0:t.value}constructor(e){this.hint=e}}},450084:(e,t,o)=>{"use strict";o.d(t,{useHelpHint:()=>s});var r=o(667294),n=o(179153),i=o(16045);function s(e){const{isHelpHintsReloading:t}=(0,i.useHelpHints)();return(0,r.useMemo)((()=>{if(e)return n.HelpHints.getSync(e)}),[t])}},951436:(e,t,o)=>{"use strict";o.d(t,{useHelpHintResource:()=>s});var r=o(667294),n=o(179153),i=o(16045);function s(e,t){const{isHelpHintsReloading:o}=(0,i.useHelpHints)();return(0,r.useMemo)((()=>{var o;if(e&&t)return null==(o=n.HelpHints.getSync(e))?void 0:o.getResource(t)}),[e,t,o])}},16045:(e,t,o)=>{"use strict";o.d(t,{HelpHintsContext:()=>n,useHelpHints:()=>i});var r=o(667294);const n=(0,r.createContext)({});function i(){return(0,r.useContext)(n)}},179153:(e,t,o)=>{"use strict";o.d(t,{HelpHints:()=>d});var r=o(11010),n=o(434788),i=o(964548),s=o(599809),a=o(992983),c=o(364922),l=o(362884);class d{static setAPI(e){this.api=e}static setUserId(e){this.cacheOptions.userId=e,this.cache=void 0}static setCategories(e){Array.isArray(e)||(e=[e]),this.cacheOptions.categories=e,this.cache=void 0}static get(e){var t=this;return(0,r._)((function*(){return yield t.reload(),t.getSync(e)}))()}static getSync(e){var t;const o=null==(t=this.helpHints)?void 0:t.items.find((({id:t})=>t===e));if(o)return new a.HelpHint(o)}static show(e){return e instanceof a.HelpHint&&(e=e.id),this.api.account.showHelpHint({hint_id:e})}static hide(e){var t=this;return(0,r._)((function*(){e instanceof a.HelpHint&&(e=e.id);let o=!1;var r;(yield t.reloading,t.helpHints)&&(t.helpHints.items=t.helpHints.items.filter((({id:t})=>(t===e&&(o=!0),t!==e))),null==(r=t.cache)||r.setHelpHints(t.helpHints));return o?t.api.account.hideHelpHint({hint_id:e}):Promise.resolve()}))()}static getResource(e,t){var o=this;return(0,r._)((function*(){const r=yield o.get(e);if(r)return r.getResource(t)}))()}static reload(){var e=this;return(0,r._)((function*(){return yield e.reloading,e.cache||(e.cache=new c.Cache(e.cacheOptions)),e.reloading=new Promise((0,r._)((function*(t){var o,s;if(!e.api.options.token&&"function"!=typeof e.api.options.requestMethod){const o=yield e.getAccessToken();if(!o)return t();e.api=new i.API({token:o}),e.api.onTokenRegenerate((0,r._)((function*(o){const r=yield e.getAccessToken();if(!r)return t();o(r)})))}if(e.helpHints=yield null==(o=e.cache)?void 0:o.getHelpHints(),e.helpHints&&Date.now()-e.helpHints.date<l.TEN_MINUTES&&!e.isDevMode())return t();const{categories:a}=e.cacheOptions;e.helpHints=yield e.api.account.getHelpHints({categories:a?String(a):void 0}).then((e=>(0,n._)({},e,{date:Date.now()}))).catch((()=>{})),yield null==(s=e.cache)?void 0:s.setHelpHints(e.helpHints),e.refresh(),t()}))),e.reloading}))()}static refresh(){try{localStorage.setItem(c.Cache.CACHE_UPDATE_EVENT_NAME,""),localStorage.removeItem(c.Cache.CACHE_UPDATE_EVENT_NAME)}catch(e){}}static getAccessToken(){return(0,r._)((function*(){const e=yield(0,s.login)("web_token").catch((()=>{}));if(!e)return;const{access_token:t}=e;return t}))()}}d.api=new i.API({token:""}),d.cacheOptions={},d.reloading=Promise.resolve(),d.isDevMode=()=>localStorage.getItem("help-hints-dev"),window.addEventListener("storage",(({key:e,newValue:t})=>{e===c.Cache.CACHE_UPDATE_EVENT_NAME&&null!==t&&d.reload()}))},874695:(e,t,o)=>{"use strict";var r,n;o.d(t,{HelpHintId:()=>n}),function(e){e.DEFAULT="default",e.STICKERS_UGC="stickers_ugc"}(r||(r={})),function(e){e.KEYBOARD_STICKERS_VMOJI="keyboard:stickers_vmoji",e.POSTING_POST_FEED_BADGES="posting:post_feed_badges",e.POSTING_POST_BADGES_ONBOARDING="posting:post_badges_onboarding",e.POSTING_POST_FEED_BADGES_UNSEEN="posting:post_feed_badges_unseen",e.POSTING_POST_BADGES_PAGE_UNSEEN="posting:post_badges_page_unseen",e.POSTING_POST_BADGES_CATALOG_USER="posting:post_badges_catalog_user",e.POSTING_POST_BADGES_FEEDBACK_USER="posting:post_badges_feedback_user",e.POSTING_POST_BADGES_FEEDBACK_USER_UNSEEN="posting:post_badges_feedback_user_unseen",e.STICKERS_UGC_SETTINGS_UNSEEN="stickers:ugc_settings_unseen",e.STICKERS_UGC_KEYBOARD_ONBOARDING="stickers:ugc_keyboard_onboarding",e.STICKERS_UGC_APP_ONBOARDING_MODAL="stickers:ugc_app_onboarding_modal",e.STICKERS_UGC_KEYBOARD_ONBOARDING_TOOLTIP="stickers:ugc_keyboard_onboarding_tooltip"}(n||(n={}))},434107:(e,t,o)=>{"use strict";var r;o.d(t,{KeyboardStickersVmojiResourceKey:()=>r}),function(e){e.VMOJI_ON_BOARDING_DARK="vmoji_kb_onboarding_dark",e.VMOJI_ON_BOARDING_LIGHT="vmoji_kb_onboarding_light"}(r||(r={}))},69314:(e,t,o)=>{"use strict";var r,n;o.d(t,{StickersUGCKeyboardOnboardingResourceKey:()=>n}),function(e){e.CLOSE="close",e.IMAGE="image"}(r||(r={})),function(e){e.IMAGE="image"}(n||(n={}))},362884:(e,t,o)=>{"use strict";o.d(t,{TEN_MINUTES:()=>r});const r=6e5},13558:(e,t,o)=>{"use strict";o.d(t,{Content:()=>a});var r=o(434788),n=o(820224),i=o(785893),s=o(667294);const a=(0,s.memo)((0,s.forwardRef)(((e,t)=>{var{children:o}=e,s=(0,n._)(e,["children"]);return(0,i.jsx)("div",(0,r._)({ref:t},s,{children:o}))})));a.displayName="Content"},848091:(e,t,o)=>{"use strict";o.d(t,{Cropped:()=>a});var r=o(434788),n=o(820224),i=o(785893),s=o(667294);const a=(0,s.memo)((0,s.forwardRef)(((e,t)=>{var{children:o,style:s={}}=e,a=(0,n._)(e,["children","style"]);return(0,i.jsx)("div",(0,r._)({ref:t,style:(0,r._)({},c,s)},a,{"data-scrollbar":"cropped",children:o}))})));a.displayName="Cropped";const c={position:"relative",width:"100%",height:"100%",overflow:"hidden"}},303892:(e,t,o)=>{"use strict";o.d(t,{Scrollable:()=>a});var r=o(434788),n=o(820224),i=o(785893),s=o(667294);const a=(0,s.memo)((0,s.forwardRef)(((e,t)=>{var{children:o}=e,s=(0,n._)(e,["children"]);return(0,i.jsx)("div",(0,r._)({ref:t},s,{children:o}))})));a.displayName="Scrollable"},443505:(e,t,o)=>{"use strict";o.d(t,{ScrollbarProvider:()=>g});var r=o(434788),n=o(820224),i=o(785893),s=o(667294),a=o(13558),c=o(848091),l=o(303892),d=o(692508),u=o(78072),h=o(327074),m=o(870689),p=o(217134),v=o(688066),f=o(203609);const g=(0,s.memo)((0,s.forwardRef)(((e,t)=>{var{children:o,scrollableProps:g,contentProps:_,overflowX:b,overflowY:y,forceVisible:k,minBarSize:E=25,maxBarSize:w=0,clickOnTrack:C=!0}=e,S=(0,n._)(e,["children","scrollableProps","contentProps","overflowX","overflowY","forceVisible","minBarSize","maxBarSize","clickOnTrack"]);const I=(0,s.useRef)({overflowX:b,overflowY:y,forceVisible:k,minBarSize:E,maxBarSize:w,clickOnTrack:C});I.current={overflowX:b,overflowY:y,forceVisible:k,minBarSize:E,maxBarSize:w,clickOnTrack:C};const A=(0,s.useRef)(null),[x,M]=(0,s.useState)(0),[R,P]=(0,s.useState)(!0),[T,N]=(0,s.useState)(!0),O=(0,s.useRef)(null),j=(0,s.useRef)({content:{width:0,height:0,scrollWidth:0,scrollHeight:0},cropped:{width:0,height:0,offsetWidth:0,offsetHeight:0},scrollable:{scrollLeft:0,scrollTop:0}}),L=(0,s.useRef)((()=>{const{content:e,cropped:t,scrollable:o}=j.current,{minBarSize:r,maxBarSize:n,overflowX:i,overflowY:s}=I.current,a={min:r,max:n};if("hidden"!==i){var c,l,d,u;const{size:r,position:n}=(0,v.calculateThumbStyles)(o.scrollLeft,t.width,e.width,a);P(e.scrollWidth>t.offsetWidth&&r<t.offsetWidth),null==(l=O.current)||null==(c=l.setWidth)||c.call(l,r),null==(u=O.current)||null==(d=u.setX)||d.call(u,n)}if("hidden"!==s){var h,m,p,f;const{size:r,position:n}=(0,v.calculateThumbStyles)(o.scrollTop,t.height,e.height,a);N(e.scrollHeight>t.offsetHeight&&r<t.offsetHeight),null==(m=O.current)||null==(h=m.setHeight)||h.call(m,r),null==(f=O.current)||null==(p=f.setY)||p.call(f,n)}})),D=(0,s.useCallback)((e=>{if(e.target instanceof HTMLDivElement){const{scrollTop:t,scrollLeft:o}=e.target;Object.assign(j.current.scrollable,{scrollLeft:o,scrollTop:t}),L.current()}}),[]),K=(0,s.useRef)(null),H=(0,s.useMemo)((()=>{var e;return(0,r._)({},g,{style:(0,r._)({},(0,p.applyScrollableStyles)(x,{overflowY:y,overflowX:b}),null==(e=g)?void 0:e.style),ref:e=>{var t;K.current=e,(0,m.applyRefValueMutation)(null==(t=g)?void 0:t.ref,e),M((0,f.getNativeScrollbarWidth)(e))}})}),[x,b,y,g]),B=(0,s.useRef)(null),V=(0,s.useMemo)((()=>{var e;return(0,r._)({},_,{style:(0,r._)({},(0,h.applyContentStyles)({overflowX:b,overflowY:y}),null==(e=_)?void 0:e.style),ref:e=>{var t;B.current=e,(0,m.applyRefValueMutation)(null==(t=_)?void 0:t.ref,e)}})}),[_,b,y]),{observe:F}=(0,u.useResizeObserver)(),G=(0,s.useCallback)((e=>t=>{if(!t)return;const{height:o,width:r}=t.contentRect;if("cropped"===e&&(Object.assign(j.current.cropped,{width:r,height:o}),t.target instanceof HTMLElement)){const{offsetHeight:e,offsetWidth:o}=t.target;Object.assign(j.current.cropped,{offsetWidth:o,offsetHeight:e})}if("content"===e&&(Object.assign(j.current.content,{width:r,height:o}),t.target instanceof HTMLElement)){const{scrollWidth:e,scrollHeight:o}=t.target;Object.assign(j.current.content,{scrollWidth:e,scrollHeight:o})}L.current()}),[]);(0,s.useEffect)((()=>{const e=A.current;if(e)return F(e,G("cropped"))}),[G,F]),(0,s.useEffect)((()=>{const e=B.current;if(e)return F(e,G("content"))}),[G,F]);const U=(0,s.useRef)(null),$=(0,s.useCallback)((e=>{U.current||(U.current=window.requestAnimationFrame((()=>{K.current&&e(K.current),U.current=null})))}),[K]);return(0,s.useEffect)((()=>()=>{U.current&&window.cancelAnimationFrame(U.current)}),[]),(0,s.useEffect)((()=>{const e=K.current;if(!e)return;e.setAttribute("data-scrollbar","scrollable"),e.addEventListener("scroll",D,{passive:!0});const{scrollTop:t,scrollLeft:o}=e;return Object.assign(j.current.scrollable,{scrollLeft:o,scrollTop:t}),()=>{e.removeEventListener("scroll",D)}}),[D]),(0,s.useEffect)((()=>{const e=B.current;e&&e.setAttribute("data-scrollbar","content")}),[]),(0,i.jsxs)(c.Cropped,(0,r._)({ref:e=>{A.current=e,(0,m.applyRefValueMutation)(t,e)}},S,{children:["function"==typeof o?o({contentRef:B,contentProps:V,scrollableRef:K,scrollableProps:H}):(0,i.jsx)(l.Scrollable,(0,r._)({},H,{children:(0,i.jsx)(a.Content,(0,r._)({},V,{children:o}))})),(0,i.jsx)(d.Track,{ref:O,overflowX:b,overflowY:y,forceVisible:k,xTrackNeeded:R,yTrackNeeded:T,clickOnTrack:C,dispatchScrollAction:$})]}))})));g.displayName="ScrollbarProvider"},399190:(e,t,o)=>{"use strict";o.d(t,{Thumb:()=>a});var r=o(434788),n=o(785893),i=o(667294),s=o(155326);const a=(0,i.forwardRef)((({axis:e,dispatchScrollAction:t},o)=>{const[a,c]=(0,i.useState)(0),[l,d]=(0,i.useState)(0),[u,h]=(0,i.useState)(0),[m,p]=(0,i.useState)(0),[v,f]=(0,i.useState)(!1),[g,_]=(0,i.useState)(!1),b=(0,i.useRef)({width:u,height:a});b.current={width:u,height:a};const y=(0,i.useRef)(null);(0,i.useImperativeHandle)(o,(()=>(0,r._)({},"x"===e?{setX:p,setWidth:h}:{setHeight:c,setY:d},{ref:y})),[e]);const k=(0,i.useRef)({x:0,y:0}),E=(0,i.useCallback)((o=>{o.preventDefault(),o.stopPropagation();const{clientX:r,clientY:n}=o;t((t=>{const{width:o,height:i,left:s,top:a}=t.getBoundingClientRect(),c="x"===e?o:i,l="x"===e?s:a,d=t["x"===e?"scrollWidth":"scrollHeight"],u=b.current["x"===e?"width":"height"];let h=("x"===e?r:n)-l-k.current[e];h=h/(c-u)*(d-c),t["x"===e?"scrollLeft":"scrollTop"]=h}))}),[e,t]),w=(0,i.useCallback)((()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",w),f(!1)}),[E]),C=(0,i.useCallback)((t=>{const o=y.current;if(!o)return;t.stopPropagation();const{clientX:r,clientY:n}=t,{left:i,top:s}=o.getBoundingClientRect();k.current[e]="x"===e?r-i:n-s,document.addEventListener("mousemove",E),document.addEventListener("mouseup",w),f(!0)}),[e,E,w]);return(0,i.useEffect)((()=>w),[w]),(0,i.useEffect)((()=>{const e=window.setTimeout((()=>{_(!1)}),1e3);return _(!0),()=>{window.clearTimeout(e)}}),[m,l]),(0,n.jsx)("div",{ref:y,onMouseDown:C,style:(0,r._)({position:"absolute"},"x"===e?{width:u,left:0,bottom:0,transform:`translate3d(${m}px, 0px, 0)`}:{height:a,top:0,right:0,transform:`translate3d(0, ${l}px, 0)`}),className:(0,s.cx)(`sbarThumb sbarThumb${e.toUpperCase()}`,v&&"sbarThumb--dragging",g&&"sbarThumb--scrolling"),"data-scrollbar":"thumb"})}));a.displayName="Thumb"},692508:(e,t,o)=>{"use strict";o.d(t,{Track:()=>c});var r=o(434788),n=o(785893),i=o(667294),s=o(399190),a=o(155326);const c=(0,i.memo)((0,i.forwardRef)((({overflowY:e,overflowX:t,forceVisible:o,xTrackNeeded:c,yTrackNeeded:u,clickOnTrack:h,dispatchScrollAction:m},p)=>{const v=(0,i.useRef)(null),f=(0,i.useRef)(null);(0,i.useImperativeHandle)(p,(()=>{var e,t,o,r;return{setX:null==(e=v.current)?void 0:e.setX,setWidth:null==(t=v.current)?void 0:t.setWidth,setY:null==(o=f.current)?void 0:o.setY,setHeight:null==(r=f.current)?void 0:r.setHeight}}),[c,u,t,e]);const g=(0,i.useCallback)((e=>t=>{var o;if(!h||"string"==typeof h&&h!==e)return;const{clientX:n,clientY:i,target:s}=t,a=null==(o=("x"===e?v:f).current)?void 0:o.ref.current;a&&s instanceof HTMLElement&&(t.preventDefault(),m((t=>{const{scrollLeft:o,scrollTop:s}=t,{width:c,height:l}=t.getBoundingClientRect(),{left:d,top:u}=a.getBoundingClientRect(),h="x"===e?d:u,m="x"===e?n:i,p=("x"===e?o:s)+("x"===e?c:l)*Math.sign(m-h),v="x"===e?{left:p}:{top:p};t.scrollTo((0,r._)({},v,{behavior:"auto"}))})))}),[h,m]),_=(0,i.useCallback)((e=>t=>{const{deltaX:o,deltaY:r}=t,n="x"===e?o:r;m((t=>{t["x"===e?"scrollLeft":"scrollTop"]+=n}))}),[m]);return(0,n.jsxs)(n.Fragment,{children:["hidden"!==t&&c&&(0,n.jsx)("div",{"data-scrollbar":"track",onMouseDown:g("x"),onWheel:_("x"),className:(0,a.cx)("sbarTrack sbarTrackX",d("x",o)),style:l("x"),children:(0,n.jsx)(s.Thumb,{axis:"x",ref:v,dispatchScrollAction:m})}),"hidden"!==e&&u&&(0,n.jsx)("div",{"data-scrollbar":"track",onMouseDown:g("y"),onWheel:_("y"),className:(0,a.cx)("sbarTrack sbarTrackY",d("y",o)),style:l("y"),children:(0,n.jsx)(s.Thumb,{axis:"y",ref:f,dispatchScrollAction:m})})]})})));function l(e){return(0,r._)({position:"absolute"},"x"===e?{left:0,bottom:0,width:"100%",height:"11px"}:{top:0,right:0,width:"11px",height:"100%"})}function d(e,t){return t&&("boolean"==typeof t||t===e)?`sbarTrack${e.toUpperCase()}--visible`:""}c.displayName="Track"},78072:(e,t,o)=>{"use strict";o.d(t,{useResizeObserver:()=>n});var r=o(667294);function n(e){const t=(0,r.useRef)(),o=(0,r.useRef)(new Map),n=(0,r.useRef)();n.current=e;const i=(0,r.useCallback)((()=>{const e=new Map;t.current=new ResizeObserver((t=>{t.forEach((t=>{e.set(t.target,t)})),(()=>{const t=Array.from(e.values());t.forEach((e=>{const t=o.current.get(e.target);t&&t(e)})),n.current&&n.current(t),e.clear()})()}))}),[]);(0,r.useEffect)((()=>(i(),()=>{t.current&&(t.current.disconnect(),t.current=void 0),o.current.clear()})),[i]);return{observe:(0,r.useCallback)(((e,r)=>{t.current||i();const n=t.current,s=o.current;return n.observe(e),r&&s.set(e,r),()=>{r&&s.delete(e),n.unobserve(e)}}),[t,i])}}},532048:(e,t,o)=>{"use strict";o.d(t,{ScrollbarProvider:()=>r.ScrollbarProvider});var r=o(443505)},327074:(e,t,o)=>{"use strict";function r(e){return{width:"hidden"===e.overflowX?"100%":"min-content",height:"hidden"===e.overflowY?"100%":"min-content"}}o.d(t,{applyContentStyles:()=>r})},870689:(e,t,o)=>{"use strict";function r(e,t){e&&("function"==typeof e?e(t):e.current=t)}o.d(t,{applyRefValueMutation:()=>r})},217134:(e,t,o)=>{"use strict";function r(e,{overflowX:t,overflowY:o}){return{WebkitOverflowScrolling:"touch",msOverflowStyle:"-ms-autohiding-scrollbar",width:"hidden"!==o&&e>0?`calc(100% + ${e}px)`:"100%",height:"hidden"!==t&&e>0?`calc(100% + ${e}px)`:"100%",maxWidth:"inherit",maxHeight:"inherit",overflowX:t||"auto",overflowY:o||"auto"}}o.d(t,{applyScrollableStyles:()=>r})},688066:(e,t,o)=>{"use strict";function r(e,t,o,r){const n=e/(o-t),i=t/o;let s=Math.max(~~(i*t),r.min);r.max&&(s=Math.min(s,r.max));return{size:s,position:~~((t-s)*n)}}o.d(t,{calculateThumbStyles:()=>r})},155326:(e,t,o)=>{"use strict";o.d(t,{cx:()=>r});const r=(...e)=>e.filter(Boolean).join(" ")},203609:(e,t,o)=>{"use strict";function r(e){if(void 0!==window.sbarNativeScrollbarWidth)return window.sbarNativeScrollbarWidth;try{if("getComputedStyle"in window&&"none"===window.getComputedStyle(e,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style)return window.sbarNativeScrollbarWidth=0,window.sbarNativeScrollbarWidth}catch(e){}const t=document.body,o=document.createElement("div");o.style.position="fixed",o.style.left="0",o.style.visibility="hidden",o.style.overflowY="scroll",t.appendChild(o);const r=o.getBoundingClientRect().right;return t.removeChild(o),window.sbarNativeScrollbarWidth=r,window.sbarNativeScrollbarWidth}o.d(t,{getNativeScrollbarWidth:()=>r})},460554:(e,t,o)=>{"use strict";o.d(t,{ConvoAudiosPlaylist:()=>s,getAudioThumb:()=>h,isConvoAudioTrack:()=>d,isRestoredConvoAudiosPlaylist:()=>u,mapConvoToConvoAudioTrackList:()=>l,toConvoAudioTrack:()=>a});var r=o(185327),n=o(9452),i=o(89131);class s{getNext(e,t,o){const r=t?this.shuffledList:this.list;return(0,n.getNextTrackFromPlaylist)(e,r,o)}getPrev(e,t,o){const r=t?this.shuffledList:this.list;return(0,n.getPrevTrackFromPlaylist)(e,r,o)}getConvoAudiosList(){return this.list}getConvoAudiosShuffledList(){return this.shuffledList}getPlaylistMeta(){return this.meta}shuffle(){this.shuffledList=(0,i.shuffleArray)(this.list)}constructor(e){this.list=e.list,this.shuffledList=(0,i.shuffleArray)(this.list),this.meta=e.meta}}function a(e,t,o){var r,n,i;let s;"Foreign"===(null==(r=o)?void 0:r.kind)&&"rootCmid"in o&&o.rootCmid?s={cmid:o.rootCmid,peerId:o.rootPeerId}:(null==(n=o)?void 0:n.peerId)&&(null==(i=o)?void 0:i.cmid)&&(s={peerId:o.peerId,cmid:o.cmid});const a=h(t.thumb);return{title:t.title,artist:t.artist,trackCode:t.trackCode,fromMessage:s,thumb:a,audioTrack:{id:`${t.ownerId}_${t.id}`,url:t.url,progress:e,duration:t.duration}}}function c(e){var t,o;const r=[];if("Normal"!==e.kind&&"Queued"!==e.kind&&"Foreign"!==e.kind)return r;if(Array.isArray(e.attaches.audios)){const t=[...e.attaches.audios];r.push(...t)}const n=null==(t=e.attaches.wall)?void 0:t.attaches.audios;if(Array.isArray(n)){const e=[...n];r.push(...e)}const i=e.forwardedMessages;Array.isArray(i)&&i.reduce(((e,t)=>(e.push(...c(t)),e)),r);const s="ForeignExpired"===(null==(o=e.replyMessage)?void 0:o.kind)?void 0:e.replyMessage;return s&&r.push(...c(s)),r}function l(e){const t=[],o=r.allHistoryNodes(e).map((e=>({message:e.item})));for(const{message:e}of o){const o="Normal"===e.kind,r="Queued"===e.kind;if(o||r){c(e).filter((e=>!!e.url)).forEach((o=>{const r="Normal"===e.kind?e:void 0;t.push(a(0,o,r))}))}}return(0,n.excludeTracksDoubling)(t)}function d(e){if(!e||"object"!=typeof e)return!1;const{title:t,artist:o,audioTrack:r,trackCode:n,fromMessage:i,thumb:s}=e;if("string"!=typeof t||"string"!=typeof o||!r||"object"!=typeof r||"string"!=typeof n||!i||"object"!=typeof i||"string"!=typeof s)return!1;const{url:a,id:c,duration:l,progress:d}=r;return"string"==typeof a&&"string"==typeof c&&"number"==typeof l&&"number"==typeof d&&("number"==typeof i.cmid&&"number"==typeof i.peerId)}function u(e){if(e&&"object"==typeof e){const{meta:t,list:o}=e;let r=!1,n=!1;if(t&&"object"==typeof t){const{convoPeerId:e,type:o}=t;r="number"==typeof e&&"temp"===o}return o&&Array.isArray(o)&&o.length&&(n=!!o.filter((e=>d(e))).length),r&&n}return!1}function h(e,t){var o,r,n,i,s,a,c,l;const d=t&&(null==(o=e)?void 0:o[`photo_${t}`]);return d||((null==(r=e)?void 0:r.photo_34)||(null==(n=e)?void 0:n.photo_68)||(null==(i=e)?void 0:i.photo_135)||(null==(s=e)?void 0:s.photo_270)||(null==(a=e)?void 0:a.photo_300)||(null==(c=e)?void 0:c.photo_600)||(null==(l=e)?void 0:l.photo_1200))}},9452:(e,t,o)=>{"use strict";o.d(t,{excludeTracksDoubling:()=>s,getNextTrackFromPlaylist:()=>n,getPrevTrackFromPlaylist:()=>i});var r=o(434788);function n(e,t,o){const n=t.findIndex((t=>t.audioTrack.id===e.audioTrack.id)),i=n>=0?t[n+1]:void 0;if(i)return(0,r._)({},i,{audioTrack:(0,r._)({},i.audioTrack,{progress:0})});if(!i&&"all"===o){const e=t[0];return e?(0,r._)({},e,{audioTrack:(0,r._)({},e.audioTrack,{progress:0})}):void 0}}function i(e,t,o){const n=t.findIndex((t=>t.audioTrack.id===e.audioTrack.id)),i=t[n-1];if(i)return(0,r._)({},i,{audioTrack:(0,r._)({},i.audioTrack,{progress:0})});if(!i&&"all"===o){const e=t[t.length-1];return e?(0,r._)({},e,{audioTrack:(0,r._)({},e.audioTrack,{progress:0})}):void 0}}function s(e){const t=new Set;return e.filter((e=>!t.has(e.audioTrack.id)&&(t.add(e.audioTrack.id),!0)))}},200028:(e,t,o)=>{"use strict";o.d(t,{ChannelComposerDraftsProvider:()=>h,CommentsComposerDraftsProvider:()=>v,ComposerDraftsProvider:()=>l,useChannelComposerDraft:()=>d,useCommentsComposerDraft:()=>m,useComposerDraft:()=>a});var r=o(667294),n=o(400681),i=o(559360),s=o(655829);function a(e){const t=(0,r.useContext)(c);if(!t)throw new Error("ComposerDraftsProvider не добавлен в дерево Реакта!");const o=t[e],i=(0,r.useMemo)((()=>n.empty()),[]);var s;return o&&null!=(s=o[o.length-1])?s:i}const c=r.createContext({}),l=c.Provider;function d(e){const t=(0,r.useContext)(u);if(!t)throw new Error("ChannelComposerDraftsProvider не добавлен в дерево Реакта!");const o=(0,r.useMemo)((()=>i.empty()),[]);return t[e]||o}const u=r.createContext({}),h=u.Provider;function m(e,t){const o=(0,r.useContext)(p);if(!o)throw new Error("CommentsComposerDraft не добавлен в дерево Реакта!");const n=(0,r.useMemo)((()=>s.empty()),[]);return o[`${e}-${t}`]||n}const p=r.createContext({}),v=p.Provider},907312:(e,t,o)=>{"use strict";o.d(t,{useConvoAttaches:()=>u});var r=o(11010),n=o(434788),i=o(696023),s=o(694788),a=o(667294),c=o(89131),l=o(991792);const d=30;function u(e){const[t,o]=(0,a.useState)(null),s=(0,i.useInsertIntoCache)(),{api:c}=(0,i.useBrowserEnv)(),l=(0,i.useOwner)();(0,a.useLayoutEffect)((()=>()=>{o(null)}),[e]);const d=(0,a.useCallback)((0,r._)((function*(r){var i,a,d;const u=t||{};if((null==(i=u[r])?void 0:i.isLoading)||(null==(a=u[r])?void 0:a.isAllLoaded))return;p(u,!0,r),o((0,n._)({},u));const m=yield function(e,t,o,r,n,i){return h.apply(this,arguments)}(c,e,l.id,r,s,(null==(d=u[r])?void 0:d.cursorNextLoad)||void 0);!function(e,t){var o,r,n,i,s,a;t.audios&&(e.audios={items:((null==(o=e.audios)?void 0:o.items)||[]).concat(t.audios.items),cursorNextLoad:t.audios.cursorNextLoad||null,isAllLoaded:t.audios.isAllLoaded});t.docs&&(e.docs={items:((null==(r=e.docs)?void 0:r.items)||[]).concat(t.docs.items),cursorNextLoad:t.docs.cursorNextLoad||null,isAllLoaded:t.docs.isAllLoaded});t.links&&(e.links={items:((null==(n=e.links)?void 0:n.items)||[]).concat(t.links.items),cursorNextLoad:t.links.cursorNextLoad||null,isAllLoaded:t.links.isAllLoaded});t.photos&&(e.photos={items:((null==(i=e.photos)?void 0:i.items)||[]).concat(t.photos.items),cursorNextLoad:t.photos.cursorNextLoad||null,isAllLoaded:t.photos.isAllLoaded});t.videos&&(e.videos={items:((null==(s=e.videos)?void 0:s.items)||[]).concat(t.videos.items),cursorNextLoad:t.videos.cursorNextLoad||null,isAllLoaded:t.videos.isAllLoaded});t.miniAppWidgets&&(e.miniAppWidgets={items:((null==(a=e.miniAppWidgets)?void 0:a.items)||[]).concat(t.miniAppWidgets.items),cursorNextLoad:t.miniAppWidgets.cursorNextLoad||null,isAllLoaded:t.miniAppWidgets.isAllLoaded})}(u,m),p(u,!1,r),o((0,n._)({},u))})),[c,t,l.id,e,s]);return{attaches:t,getNextPage:d}}function h(){return(h=(0,r._)((function*(e,t,o,r,n,i){try{const a=yield e.fetch("messages.getHistoryAttachments",{peer_id:t,media_type:m(r),count:d,start_from:i,extended:1,group_id:(0,l.getOwnerGroupId)(o)},{retries:5});if(!a.items||0===a.items.length)return{[r]:{items:[],isAllLoaded:!0,cursorNextLoad:null}};n({profiles:a.profiles,groups:a.groups,contacts:a.contacts});return{[r]:{items:(0,s.fromApiConvoAttach)(a.items)[r]||[],isAllLoaded:!a.next_from,cursorNextLoad:a.next_from}}}catch(e){return{}}}))).apply(this,arguments)}const m=e=>({audios:"audio",videos:"video",docs:"doc",links:"link",photos:"photo",miniAppWidgets:"app_action_mini_apps"}[e]);function p(e,t,o){e[o]||function(e,t){switch(t){case"audios":case"videos":case"docs":case"links":case"photos":case"miniAppWidgets":e[t]={items:[],cursorNextLoad:null,isAllLoaded:!1};break;default:(0,c.exhaustivenessCheck)(t)}}(e,o);const r=e[o];r&&(r.isLoading=t)}},367763:(e,t,o)=>{"use strict";o.d(t,{useDeviceData:()=>n});var r=o(86894);function n(){return{isTouchOnly:!(0,r.useAdaptivityWithJSMediaQueries)().hasPointer}}},599781:(e,t,o)=>{"use strict";o.d(t,{useHover:()=>n});var r=o(667294);const n=()=>{const[e,t]=r.useState(!1),o=r.useCallback((()=>t(!0)),[]),n=r.useCallback((()=>t(!1)),[]),i=r.useRef();return[r.useCallback((e=>{i.current&&(i.current.removeEventListener("mouseenter",o),i.current.removeEventListener("mouseleave",n)),i.current=e,i.current&&(i.current.addEventListener("mouseenter",o),i.current.addEventListener("mouseleave",n))}),[o,n]),e]}},346006:(e,t,o)=>{"use strict";o.d(t,{Module:()=>s,useGlobalKeyBoardHandlers:()=>d,useModuleKeyBoardHandlers:()=>l});var r=o(89131),n=o(667294),i=o(65970);e=o.hmd(e);const s={MediaViewer:"MediaViewer",Modal:"Modal",SimpleComposer:"SimpleComposer",FCComposer:"FCComposer",FCWindow:"FCWindow",RightPanel:"RightPanel",Composer:"Composer",ConvoMain:"ConvoMain",ChannelMain:"ChannelMain"},a={[s.MediaViewer]:{priority:1001},[s.Modal]:{priority:1e3,blockGlobalHandlers:!0,blockOtherModules:!0},[s.SimpleComposer]:{priority:902},[s.FCComposer]:{priority:901},[s.FCWindow]:{priority:900},[s.RightPanel]:{priority:500},[s.Composer]:{priority:200},[s.ConvoMain]:{priority:100},[s.ChannelMain]:{priority:100}};const c=new class{constructor(){this.isSubscribed=!1,this.isGlobalHandlersBlocked=!1,this.globalHandlers=new Map,this.moduleConfig=new Map(Object.entries(a)),this.moduleHandlers=new Map,this.subscribeModuleKeyDown=(t,o)=>{if(r.isDev&&!this.moduleConfig.has(t))throw new Error(`Module ${e} must be in moduleConfig.`);var n;const i=null!=(n=this.moduleHandlers.get(t))?n:new Set;return i.add(o),this.moduleHandlers.set(t,i),this.onModuleHandlersUpdated(),()=>{i.delete(o),0===i.size&&this.moduleHandlers.delete(t),this.onModuleHandlersUpdated()}},this.subscribeGlobalKeyDown=(e,t)=>{const o=this.globalHandlers.has(e);if(r.isDev&&o)throw new Error(`Global keyCombo ${e} is already subscribed. Unsubscribe it first`);return this.globalHandlers.set(e,t),this.updateSubscription(),()=>{this.globalHandlers.delete(e),this.updateSubscription()}},this.addModuleConfig=(e,t)=>{this.moduleConfig.set(e,t)},this.updateSubscription=()=>{const e=this.globalHandlers.size>0||this.moduleHandlers.size>0;e&&!this.isSubscribed&&(document.addEventListener("keydown",this.keyDownHandler),this.isSubscribed=!0),!e&&this.isSubscribed&&(document.removeEventListener("keydown",this.keyDownHandler),this.isSubscribed=!1)},this.onModuleHandlersUpdated=()=>{this.updateGlobalHandlersBlocked(),this.updateSubscription()},this.callModuleSubscription=(e,t)=>{const o=[...this.moduleConfig.entries()].sort(((e,t)=>t[1].priority-e[1].priority)).map((([e])=>e));for(let n=0;n<o.length;n++){var r;const i=o[n];if(void 0===i)continue;const s=this.moduleHandlers.get(i);if(!s)continue;let a=!1;const c=t=>{const o=t===e;return o&&(a=!0),o};for(const e of Array.from(s).reverse())if(e(c,t),a)break;if(a=a||!!(null==(r=this.moduleConfig.get(i))?void 0:r.blockOtherModules),a)break}},this.callGlobalSubscription=(e,t)=>{if(this.isGlobalHandlersBlocked)return void t();const o=this.globalHandlers.get(e);o&&(!1!==o.autoPreventDefault?(t(),o.handler()):o.handler(t))},this.updateGlobalHandlersBlocked=()=>{const e=[...this.moduleHandlers.keys()].some((e=>{var t;return null==(t=this.moduleConfig.get(e))?void 0:t.blockGlobalHandlers}));this.isGlobalHandlersBlocked=e},this.keyDownHandler=e=>{if(!(e instanceof KeyboardEvent))return;const t=(0,i.getKeyCombo)(e),o=e.preventDefault.bind(e);(0,i.isGlobalKeyCombo)(t)?this.callGlobalSubscription(t,o):(0,i.isModuleKeyCombo)(t)&&this.canCallModuleSubscription()&&this.callModuleSubscription(t,o)},this.canCallModuleSubscription=()=>{const e=document.activeElement;return null===e||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!(e instanceof HTMLElement&&!0===e.isContentEditable)}}};function l({moduleName:e,config:t}){void 0!==t&&c.addModuleConfig(e,t);return{subscribeKeyDown:(0,n.useCallback)((t=>c.subscribeModuleKeyDown(e,t)),[e])}}const d=()=>({subscribeGlobalKeyDown:c.subscribeGlobalKeyDown})},576697:(e,t,o)=>{"use strict";o.d(t,{useLongTouch:()=>i});var r=o(667294);const n=500;function i(e,t,o,i=n){(0,r.useEffect)((()=>{const r=t.current;if(!e||!r)return;let n;const s=()=>{n&&(window.clearTimeout(n),n=void 0)},a=e=>{s(),n=window.setTimeout((e=>()=>{s();const t=e=>{r.removeEventListener("touchend",t,!0),e.preventDefault(),e.stopPropagation()};r.addEventListener("touchend",t,{capture:!0,once:!0}),o(e)})(e),i)};return r.addEventListener("touchstart",a,{passive:!0}),r.addEventListener("touchcancel",s,!0),r.addEventListener("touchend",s,!0),r.addEventListener("touchmove",s,{passive:!0}),()=>{s(),r.removeEventListener("touchstart",a),r.removeEventListener("touchcancel",s,!0),r.removeEventListener("touchend",s,!0),r.removeEventListener("touchmove",s)}}),[o,e,i,t])}},410519:(e,t,o)=>{"use strict";o.d(t,{useModal:()=>s,useModalGroup:()=>c,useSubModal:()=>a});var r=o(667294),n=o(883950),i=o(171656);const s=(e,t="popup")=>l({groupId:e,stackName:t}),a=e=>l({groupId:e,isSubModal:!0}),c=()=>{const{createGroup:e,closeGroup:t}=(0,i.useModalContext)(),o=(0,r.useRef)();o.current||(o.current=e());const{id:n}=o.current.data,s=(0,r.useCallback)((()=>t(n)),[t,n]);return(0,r.useEffect)((()=>()=>{var e;null==(e=o.current)||e.remove()}),[]),{id:n,closeGroup:s}},l=e=>{var t,o;const s=null!=(o=null==(t=e)?void 0:t.stackName)?o:"popup",{createModal:a,createGroup:c,getModalGroup:l,closeModalForced:u}=(0,i.useModalContext)(),h=(0,r.useRef)();var m;h.current||(h.current=(null==(m=e)?void 0:m.groupId)?{data:l(e.groupId)}:c());const p=(0,r.useRef)();var v,f;p.current||(p.current=a(h.current.data.id,null==(v=e)?void 0:v.isSubModal,(null==(f=e)?void 0:f.id)?n.resolveId(e.id):void 0));const g=p.current.id;return(0,r.useEffect)((()=>()=>{var e,t,o;u(g,s),null==(t=h.current)||null==(e=t.remove)||e.call(t),null==(o=p.current)||o.remove()}),[u,g,s]),d(g,s)},d=(e,t)=>{const{openedModals:o,openModal:n,closeModal:s,findIndexInStack:a}=(0,i.useModalContext)(),c=(0,r.useCallback)((()=>n(e,t)),[n,e,t]),l=(0,r.useCallback)((()=>s(e,t)),[s,e,t]),d=a(e,t);return(0,r.useMemo)((()=>({isActive:Boolean(o[t].find((t=>t===e))),indexInStack:d,isInStack:null!==d,open:c,close:l})),[l,e,c,o,d,t])}},90308:(e,t,o)=>{"use strict";o.d(t,{useResizeObserver:()=>i});var r=o(667294),n=o(89131);function i({throttleInterval:e,debounceInterval:t}={},o){const i=(0,r.useRef)(),s=(0,r.useRef)(new Map),a=(0,r.useRef)();a.current=o;const c=(0,r.useCallback)((()=>{const o=new Map,r=()=>{const e=Array.from(o.values());e.forEach((e=>{const t=s.current.get(e.target);t&&t(e)})),a.current&&a.current(e),o.clear()},c=e?(0,n.throttle)(r,e):t?(0,n.debounce)(r,t,!0):r;i.current=new ResizeObserver((e=>{e.forEach((e=>{o.set(e.target,e)})),c()}))}),[e,t]);(0,r.useEffect)((()=>(c(),()=>{i.current&&(i.current.disconnect(),i.current=void 0),s.current.clear()})),[c]);return{observe:(0,r.useCallback)(((e,t)=>{i.current||c();const o=i.current,r=s.current;return o.observe(e),t&&r.set(e,t),()=>{t&&r.delete(e),o.unobserve(e)}}),[i,c])}}},599660:(e,t,o)=>{"use strict";o.d(t,{ActionsMenu:()=>u,ActionsMenuAction:()=>h,ActionsMenuDropdownAction:()=>m,ActionsMenuSeparator:()=>p});var r=o(434788),n=o(820224),i=(o(759244),o(667294)),s=o(294184),a=o.n(s),c=o(364548),l=o(163332),d=o(988994);const u=e=>{var{className:t,children:o}=e,s=(0,n._)(e,["className","children"]);return i.createElement("div",(0,r._)({},s,{className:a()("ActionsMenu",t)}),o)},h=e=>{var{leftIcon:t,rightIcon:o,title:s,subtitle:c,type:l="secondary",size:d="regular",isActive:u=!1,isLoading:h,className:m,onClick:p,titleClassName:v}=e,f=(0,n._)(e,["leftIcon","rightIcon","title","subtitle","type","size","isActive","isLoading","className","onClick","titleClassName"]);return i.createElement("button",(0,r._)({},f,{className:a()("ActionsMenuAction",l&&`ActionsMenuAction--${l}`,h&&"ActionsMenuAction--loading",u&&"ActionsMenuAction--active",`ActionsMenuAction--size-${d}`,m),onClick:p}),t&&i.createElement("i",{className:"ActionsMenuAction__icon"},t),i.createElement("span",{className:a()("ActionsMenuAction__title",v)},s,c&&i.createElement("span",{className:"ActionsMenuAction__subtitle"},c)),o&&i.createElement("i",{className:"ActionsMenuAction__icon"},o))},m=e=>{var{children:t,icon:o,openType:s,hideOnClick:m=!0,position:p,align:v,actionsMenuClassName:f}=e,g=(0,n._)(e,["children","icon","openType","hideOnClick","position","align","actionsMenuClassName"]);const[_,b]=(0,i.useState)(!1),{mode:y}=(0,d.useLayoutData)(),k=(0,i.useMemo)((()=>{const e="two-column"===y?{position:"right",align:"left"}:{position:"bottom",align:"right"};return p&&(e.position=p),v&&(e.align=v),e}),[y,p,v]);return i.createElement(l.Dropdown,(0,r._)({content:i.createElement(u,{className:a()(f,{"ActionsMenu--dropdown":"two-column"===y})},t)},"click"===s?{openType:"click"}:{openType:"hover",hideDelay:0},k,{classNames:{trigger:"ActionsMenu--dropdown-trigger"},adaptation:"vertical",onOpen:()=>b(!0),onClose:()=>b(!1),hideOnClick:m,canOpen:!g.disabled}),i.createElement(h,(0,r._)({},g,{isActive:_,leftIcon:o,rightIcon:i.createElement(c.Icon16Chevron,null)})))},p=({className:e})=>i.createElement("div",{role:"separator",className:a()("ActionsMenuAction__separator",e)})},202158:(e,t,o)=>{"use strict";o.d(t,{AttachAudio:()=>I});o(963328);var r=o(667294),n=o(294184),i=o.n(n),s=o(89131),a=o(696023),c=o(579957),l=o(460554),d=o(364705),u=o(7479),h=o(205461),m=o(140518),p=o(579643),v=o(800697),f=o(757342),g=o(385228),_=o(86894),b=o(599781),y=o(518388),k=o(376753),E=o(163332),w=o(599660),C=o(367763),S=o(179636);const I=r.memo((function({audio:e,withPhoto:t=!0,isOut:o,isInBubble:n,isPrimary:i,message:s,actions:a,className:c,withDuration:l,highlightActiveTrackTitle:d}){const u=n&&o;return Boolean(e.contentRestricted)?r.createElement(x,{audio:e,withPhoto:t,isInOutBubble:u,isPrimary:i,className:c,withDuration:l,highlightActiveTrackTitle:d}):r.createElement(A,{audio:e,withPhoto:t,message:s,isInOutBubble:u,isPrimary:i,actions:a,className:c,withDuration:l,highlightActiveTrackTitle:d})})),A=r.memo((function({audio:e,withPhoto:t,isInOutBubble:o,isPrimary:n,message:i,actions:s,className:d,withDuration:u,highlightActiveTrackTitle:h}){const{player:m}=(0,a.useBrowserEnv)(),p=(0,r.useContext)(c.ConvoAudiosPlaylistContext),[v,f]=(0,r.useState)("stopped"),[g,_]=(0,r.useState)(0),b=(0,r.useRef)(`${e.ownerId}_${e.id}`),y=(0,r.useCallback)((e=>{var t;const{currentTrackEntity:o,status:r}=e;if((null==(t=o)?void 0:t.audioTrack)&&o.audioTrack.id===b.current){const{progress:e}=o.audioTrack;f(r),_(e)}else f("stopped"),_(0)}),[]);(0,r.useEffect)((()=>(m.subscribe("stateupdated",y),()=>{m.unsubscribe("stateupdated",y)})),[e,y,m]),(0,r.useEffect)((()=>{y(m.getState())}),[]);const k=(0,r.useCallback)((t=>{if(e.url){if("playing"===v)m.pause();else{var o,r;const t=p(),n="Foreign"===(null==(o=i)?void 0:o.kind)||"Normal"===(null==(r=i)?void 0:r.kind)?i:void 0;m.play((0,l.toConvoAudioTrack)(g,e,n),t)}t.preventDefault()}}),[e,v,m,p,g,i]);return r.createElement(M,{progress:g,artist:e.artist,title:e.title,duration:e.duration,status:v,thumb:e.thumb,isExplicit:e.isExplicit,isInOutBubble:o,isPrimary:n,actions:s,onClick:k,withPhoto:t,className:d,withDuration:u,highlightActiveTrackTitle:h})}));function x({audio:e,withPhoto:t,isInOutBubble:o,isPrimary:n,className:s,withDuration:a,highlightActiveTrackTitle:c}){const{navigate:l}=(0,d.useRouter)();return r.createElement(M,{progress:0,artist:e.artist,title:e.title,duration:e.duration,status:"stopped",thumb:e.thumb,isExplicit:e.isExplicit,isInOutBubble:o,isPrimary:n,withPhoto:t,withDuration:a,highlightActiveTrackTitle:c,className:i()("AttachAudio__restricted",s),onClick:()=>{l({kind:"AudioRestrictionRuntimeRoute",audio:e})}})}const M=({progress:e,duration:t,artist:o,title:n,status:c,thumb:d,withPhoto:I,isInOutBubble:A,isPrimary:x,isExplicit:M,className:R,withDuration:P,highlightActiveTrackTitle:T,actions:N,onClick:O})=>{const{lang:j}=(0,a.useBrowserEnv)(),{isTouchOnly:L}=(0,C.useDeviceData)(),D=(0,a.usePixelDensity)(),K=(0,a.useFeatureFlags)(),H="dark"===(0,_.useAppearance)(),{settings:B}=(0,a.useViewer)(),V=B.rightClickActionsEnabled&&!L,[F,G]=(0,r.useState)(null),U=x&&K.vkm_new_attach_track,$=U?u.Icon28Pause:h.Icon20PauseCircle,z=U?m.Icon28Play:p.Icon20PlayCircle,W=U?_.Subhead:_.Footnote,[Z,q]=(0,b.useHover)(),J="playing"===c||"paused"===c,Y=D?135:68,X=D?270:135,Q=(0,l.getAudioThumb)(d,U?X:Y),ee=T&&J;return r.createElement("div",{ref:e=>{Z(e),G(e)},className:i()("AttachAudio",R,{"AttachAudio--dark":H,"AttachAudio--out":A,"AttachAudio--primary":U}),onClick:O},I&&r.createElement("div",{className:"AttachAudio__album"},d?r.createElement("img",{className:"AttachAudio__albumImg",alt:`${n} — ${o}`,src:Q}):r.createElement("div",{className:"AttachAudio__albumImg AttachAudio__albumImg--placeholder"},r.createElement(v.Icon20SongOutline,null)),(()=>{const t=J||q;return r.createElement("div",{className:"AttachAudio__albumControls"},r.createElement("div",{className:i()("AttachAudio__albumControlsBackdrop",{"AttachAudio__albumControlsBackdrop--show":t})}),r.createElement("div",{className:"AttachAudio__albumControlsIcon"},(()=>{const e=j.use("me_attach_track_play_aria_label"),t=j.use("me_attach_track_play_aria_label");return"playing"===c?(q||U)&&r.createElement($,{"aria-label":t}):"paused"===c?(q||U)&&r.createElement(z,{"aria-label":e}):"stopped"===c?q&&r.createElement(z,{"aria-label":e}):void 0})()),!U&&J&&r.createElement(y.AttachAudioSoundBar,{isActive:"playing"===c,className:i()("AttachAudio__albumControlsBar",{"AttachAudio__albumControlsBar--hide":q})}),U&&J&&r.createElement(k.ProgressCircle,{className:"AttachAudio__albumControlsProgress",progress:Number((100*e).toFixed(2)),size:46,ariaLabel:j.use("me_attach_track_progress_aria_label")}))})()),r.createElement("div",{className:"AttachAudio__info"},r.createElement(_.Headline,{level:U?"1":"2",weight:U?"2":"3",className:"AttachAudio__title"},ee&&r.createElement(y.AttachAudioSoundBar,{isActive:"playing"===c,color:"var(--vkui--color_text_accent)"}),r.createElement("span",{className:i()("AttachAudio__titleText",{"AttachAudio__titleText--highlight":ee})},n),M&&r.createElement("span",{className:"AttachAudio__titleExplicit","aria-label":j.use("me_attach_track_explicit_aria_label")},r.createElement(f.Icon12Explicit,null))),U?r.createElement(_.Subhead,{className:"AttachAudio__artist"},o):r.createElement(_.Footnote,{className:"AttachAudio__artist"},o)),P&&r.createElement(W,{className:"AttachAudio__duration"},r.createElement("span",{role:"timer",className:"AttachAudio__durationProgress","aria-label":j.use("me_attach_track_time_left_aria_label")},J?function(e,t){return(0,s.formatDuration)(Math.ceil(t*e))}(e,t):(0,s.formatDuration)(t))),N&&!V&&r.createElement("div",{className:"AttachAudio__actions"},r.createElement(E.Dropdown,{classNames:{wrapper:i()("AttachAudio__dropdown",{"AttachAudio__dropdown--open":L}),wrapperOpened:"AttachAudio__dropdown--open"},content:r.createElement(w.ActionsMenu,null,N),align:"center",position:"bottom",openType:L?"click":"hover"},r.createElement("button",{className:"AttachAudio__action","aria-label":j.use("me_actions_more")},r.createElement(g.Icon20More,null)))),N&&V&&r.createElement(S.ContextMenu,{ref:{current:F},allowNativeContextMenu:!0,content:r.createElement(w.ActionsMenu,null,N)}))}},518388:(e,t,o)=>{"use strict";o.d(t,{AttachAudioSoundBar:()=>c});var r=o(434788),n=(o(98264),o(667294)),i=o(294184),s=o.n(i),a=o(89131);const c=({isActive:e,color:t,className:o})=>{const i=(0,n.useRef)(null),c=(0,n.useRef)(e);c.current=e;const l=(0,n.useRef)(!1),d=[[.4,1],[.3,.85],[.2,.65],[.05,.5]];(0,n.useEffect)((()=>{const e=setInterval((()=>{if(!i.current)return;if(!c.current&&l.current)return;const e=i.current.children;for(let o=0;o<e.length;o++){const r=e[o],n=r instanceof HTMLDivElement&&r.style;if(!n)return;if(!c.current){n.height="2px";continue}var t;const[i=0,s=0]=null!=(t=d[o])?t:[];n.height=(0,a.getRandomFloat)(14*i,14*s)+"px"}l.current=!c.current}),150);return()=>{clearInterval(e)}}),[]);const u=(0,r._)({},t&&{color:t});return n.createElement("div",{ref:i,className:s()("AttachAudioSoundBar",o),style:u},n.createElement("div",{className:"AttachAudioSoundBar__bar"}),n.createElement("div",{className:"AttachAudioSoundBar__bar"}),n.createElement("div",{className:"AttachAudioSoundBar__bar"}),n.createElement("div",{className:"AttachAudioSoundBar__bar"}))}},76292:(e,t,o)=>{"use strict";o.d(t,{AttachDoc:()=>C});var r=o(434788),n=(o(403658),o(667294)),i=o(197934),s=o(824283),a=o(597298),c=o(89131),l=o(294184),d=o.n(l),u=o(696023),h=o(15285),m=o(401208),p=o(410519),v=o(86894),f=o(959107),g=o(388918),_=o(874971),b=o(964929),y=o(671324),k=o(798855),E=o(234325),w=o(506315);const C=({doc:e,variant:t="inline",isInBubble:o=!1,forwardLevel:l=0,isOut:v=!1,className:g})=>{const _=(0,u.usePixelDensity)(),[,b]=(0,h.getExpectedAttachWidth)(_,o,l,232),y=(0,p.useModal)(),{vkm_chat_remove_no_preview:k}=(0,u.useFeatureFlags)(),E=(0,n.useCallback)((t=>{e.isUnsafe&&(0!==t.button&&1!==t.button||(t.preventDefault(),y.open()))}),[e.isUnsafe,y]),w=i.preview(e,b),C=[e.ext.toUpperCase(),(0,c.formatFileSize)(e.size)],I=k?i.getPreparedDocUrl(e):e.url;return"preview"===t&&e.image?n.createElement(m.AttachDocPreview,{doc:(0,r._)({},e,{url:I}),meta:C[0]+" · "+C[1],isInBubble:o,forwardLevel:l}):n.createElement(n.Fragment,null,n.createElement(a.ExternalLink,{onClick:E,onAuxClick:E,href:I,className:d()("AttachDoc",g)},n.createElement(f.AttachmentCell,{isInBubble:o,isOut:v,image:w?w.url:n.createElement(s.Icon24DocumentOutline,null),title:e.title,subtitle:C,alt:e.title})),y.isActive&&n.createElement(S,{onClose:y.close,title:e.title,url:I}))},S=({onClose:e,url:t,title:o})=>{const{lang:r}=(0,u.useBrowserEnv)();return n.createElement(y.ModalView,{onEscape:e,contextClass:"MEConfig"},n.createElement(_.ModalBackdrop,{onClick:e},n.createElement(b.ModalPanel,{className:"AttachDoc__unsafe-modal"},n.createElement(k.ModalHeader,{closeLabel:r.use("me_close"),onClose:e,title:r.use("me_download_unsafe_title")}),n.createElement(E.ModalBody,null,n.createElement(g.FormattedLangKey,{langkey:"me_download_unsafe_text",values:{filename:n.createElement("b",{className:"AttachDoc__unsafe-filename"},o)}})),n.createElement(w.ModalFooter,{buttons:[n.createElement(v.Button,{mode:"tertiary",key:"cancel",onClick:e},r.use("me_cancel")),n.createElement(v.Button,{href:t,download:!0,mode:"primary",onClick:e,key:"download"},r.use("me_download"))]}))))}},401208:(e,t,o)=>{"use strict";o.d(t,{AttachDocPreview:()=>u});o(861848);var r=o(667294),n=o(197934),i=o(597298),s=o(803524),a=o(996955),c=o(696023),l=o(15285),d=o(293216);const u=({doc:e,meta:t,isInBubble:o=!1,forwardLevel:u=0})=>{const[h,m]=(0,r.useState)(!1),p=(0,c.usePixelDensity)(),v="gif"===e.ext,[f,g]=(0,l.getExpectedAttachWidth)(p,o,u,232),_=n.preview(e,g);if(!_)return null;const b=Math.min(_.width,f),y=Math.ceil(_.height/_.width*b);return r.createElement(i.ExternalLink,{href:e.url,className:"AttachDocPreview",style:{width:Math.max(b,120),height:Math.max(y,120)},onClick:v?e=>{m((e=>!e)),e.preventDefault()}:void 0,target:v?"_self":"_blank"},r.createElement(d.PhotoItem,{className:"AttachDocPreview__photoItem",alt:e.title,src:h?e.url:_.url,width:Math.max(b,120),height:Math.max(y,120)}),v&&!h&&r.createElement("div",{className:"AttachDocPreview__play"},r.createElement(a.Icon32Play,null)),r.createElement(s.ComposerAttachPreviewMeta,{rounded:!0,top:!0,left:!0},r.createElement("span",{className:"AttachDocPreview__meta"},t)))}},650938:(e,t,o)=>{"use strict";o.d(t,{AttachVideos:()=>v,getDuration:()=>g});var r=o(434788),n=(o(458327),o(667294)),i=o(197934),s=o(294184),a=o.n(s),c=o(996955),l=o(89131),d=o(597298),u=o(15285),h=o(704057),m=o(747578),p=o(293216);const v=({videos:e,forwardLevel:t=0,getAdditionalLinkPayload:o,onWidthChange:s})=>{const a=(0,u.getAttachForwardIndent)(t),{width:c,minHeight:l,maxSingleHeight:d,preferredRatio:p}=(0,h.useImagesLayout)(),v=c-a,g=1===e.length,_=(0,n.useMemo)((()=>e.reduce(((e,t)=>e+"__"+t.id),`${v}__${l}__${p}`)),[e,v,l,p]),b=(0,n.useMemo)((()=>{const t=e.reduce(((e,t)=>{const o=i.preview(t,v);return o&&e.push((0,r._)({},o,{width:o.width||t.width||1600,height:o.height||t.height||900,videoAttach:t})),e}),[]);if(!t.length)return null;const o=(0,m.computeAttachePhotosLayout)(p,v,{minHeight:l,maxSingleHeight:d},t),n=(0,m.applyGap)(o,2),s=n[0][0];if(g){const e=i.preview(s.videoAttach,v),t=e&&e.height<s.height?Math.max(e.height,100):Math.max(s.height,100),o=e&&e.width<s.width?Math.max(e.width,250):Math.max(s.width,250);return[[(0,r._)({},s,{height:t,width:o})]]}return n}),[_,l,d,p,v]);return(0,n.useEffect)((()=>{var e,t,o,r;null==(r=s)||r(g?(null==(o=b)||null==(t=o[0])||null==(e=t[0])?void 0:e.width)||0:v)}),[v,g,s,_]),b?n.createElement("div",{className:"AttachVideos AttachVideos--inBubble",style:{maxWidth:g?"max-content":v,"--videoAttachGap":"2px"}},b.map(((t,r)=>n.createElement("div",{className:"AttachVideos__layoutRow",key:`${r}__${_}`},t.map((({width:t,height:r,url:i,videoAttach:s})=>{const{id:a,duration:c,platform:l,files:d,restriction:u}=s;return n.createElement(f,{key:a,src:i,width:t,height:r,video:s,showPlayIcon:e.length<=3,duration:c,platform:l,files:d,restriction:u,getAdditionalLinkPayload:o})})))))):null},f=({src:e,width:t,height:o,video:r,duration:i,restriction:s,files:l,platform:u,showPlayIcon:h,getAdditionalLinkPayload:m})=>{var v,f,_,b,y,k,E,w;const C=1===(null==(v=s)?void 0:v.blur),S=0===(null==(f=s)?void 0:f.can_play),I=g(i,!!(null==(_=l)?void 0:_.external))||u,A="short_video"===r.type||!r.isFromMessage||(null==(b=r.files)?void 0:b.external)?void 0:r.position;return n.createElement(d.Link,{to:{kind:"AttachMediaProxyRoute",attach:r,source:null==(y=m)?void 0:y(A)},className:"AttachVideos__link",disabled:S},n.createElement(p.PhotoItem,{width:t,height:o,src:e,alt:r.title,className:a()({AttachVideos__previewBackdrop:C||S})}),!(C||S)&&n.createElement(n.Fragment,null,h&&n.createElement("div",{className:"AttachVideos__videoPlay"},n.createElement(c.Icon32Play,null)),I&&n.createElement("div",{className:"AttachVideos__videoInfo"},I)),(C||S)&&n.createElement("div",{className:"AttachVideos__videoRestrictionWrap"},n.createElement("div",{className:"AttachVideos__videoIconRestriction",style:{backgroundImage:`url('${null==(E=s.card_icon)||null==(k=E.at(-1))?void 0:k.url}')`,filter:"invert(100%)"}}),void 0!==(null==(w=s)?void 0:w.title)&&n.createElement("div",null,s.title)))};function g(e,t){return void 0===e?"":!t||t&&e?(0,l.formatDuration)(e):""}},959107:(e,t,o)=>{"use strict";o.d(t,{AttachmentCell:()=>l,AttachmentCellButton:()=>d});var r=o(434788),n=o(86894),i=(o(238931),o(667294)),s=o(293216),a=o(294184),c=o.n(a);const l=({className:e,isAvailable:t=!0,isClickable:o,isOut:r=!1,isInBubble:a=!1,title:l,subtitle:d,image:u,imageShape:h="square",icon:m,alt:p,imageDetailRightBottom:v,buttonRight:f,additionalBlock:g})=>{const _=(0,n.useAppearance)();o=void 0===o?!f:o;const b=(0,i.useCallback)((()=>{const e="roundWithBorder"===h?"calc(var(--attachmentCellImageHeight) - 5px)":"var(--attachmentCellImageHeight)";return i.createElement("div",{className:c()("AttachmentCell__imageBlockContainer",{"AttachmentCell__imageBlockContainer--inOutBubble":a&&r,"AttachmentCell__imageBlockContainer--isDark":"dark"===_,"AttachmentCell__imageBlockContainer--roundWithBorder":"roundWithBorder"===h,"AttachmentCell__imageBlockContainer--round":"round"===h,"AttachmentCell__imageBlockContainer--square":"square"===h})},i.createElement("div",{className:"AttachmentCell__imageBlockBackground"}),i.createElement("div",{className:c()("AttachmentCell__imageBlock")},"string"==typeof u?i.createElement(s.PhotoItem,{className:"AttachmentCell__photoItem",src:u,height:e,width:e,alt:p,cover:!0}):u),m&&i.createElement("div",{className:c()("AttachmentCell__icon",{"AttachmentCell__icon--withImage":u,"AttachmentCell__icon--roundWithBorder":"roundWithBorder"===h,"AttachmentCell__icon--round":"round"===h,"AttachmentCell__icon--square":"square"===h})},m),v&&i.createElement("div",{className:"AttachmentCell__imageDetailLeftBottom"},v))}),[h,a,r,_,u,p,m,v]),y=(0,i.useCallback)((()=>Array.isArray(d)?`${d[0]} ᐧ ${d[1]}`:d),[d]);return i.createElement("div",{className:c()(e,"AttachmentCell",{"AttachmentCell--withButton":f,"AttachmentCell--clickable":o})},b(),i.createElement("div",{className:"AttachmentCell__infoBlockContainer"},i.createElement("div",{className:"AttachmentCell__infoBlock"},t?i.createElement(i.Fragment,null,i.createElement(n.Headline,{level:"1",className:"AttachmentCell__headline"},l),i.createElement(n.Footnote,{className:c()("AttachmentCell__footnote",{"AttachmentCell__footnote--inOutBubble":a&&r,"AttachmentCell__footnote--isDark":"dark"===_})},y())):i.createElement(n.Headline,{level:"1",className:"AttachmentCell__headline AttachmentCell__headline--unavailable"},l)),g&&i.createElement("div",{className:"AttachmentCell_additionalBlockContainer"},g)),f&&i.createElement("div",{className:"AttachmentCell_buttonContainer"},f))},d=e=>i.createElement(n.Button,(0,r._)({size:"s",mode:"primary"},e),e.children)},803524:(e,t,o)=>{"use strict";o.d(t,{ComposerAttachPreviewMeta:()=>a});var r=o(434788),n=(o(814106),o(667294)),i=o(294184),s=o.n(i);const a=({children:e,rounded:t,offsetLength:o=5,top:i,right:a,bottom:c,left:l})=>{const d=["ComposerAttachPreviewMeta",{"ComposerAttachPreviewMeta--rounded":t}],u=o+"px",h=(0,r._)({},i&&{top:u},a&&{right:u},c&&{bottom:u},l&&{left:u},{maxWidth:`calc(100% - ${2*o}px)`});return n.createElement("div",{className:s()(d),style:h},e)}},179636:(e,t,o)=>{"use strict";o.d(t,{ContextMenu:()=>m});o(181876);var r=o(667294),n=o(837492),i=o(429697),s=o(294184),a=o.n(s),c=o(696023),l=o(89131),d=o(576697),u=o(367763),h=o(163332);const m=(0,r.forwardRef)((({classNames:e={},content:t,forceUpdateContent:o,canOpen:s=!0,open:m=!1,hideOnClick:v=!0,hideOnWheel:f=!0,allowNativeContextMenu:g=!1,onStartOpening:_,onOpen:b,onClose:y,children:k,position:E="bottom",align:w="left",onPositionChange:C,getToggleOpen:S},I)=>{var A;const{isTouchOnly:x}=(0,u.useDeviceData)(),[M,R]=(0,r.useState)(!1),P=(0,c.usePrevious)(M),T=(0,c.usePrevious)(m),N=(0,r.useRef)(M);N.current=M;const[O,j]=(0,r.useState)(t),[L,D]=(0,r.useState)({x:-999,y:-999}),[K,H]=(0,r.useState)("closed"),B=(0,r.useContext)(h.DropdownDepthContext),V=(0,r.useCallback)((e=>{H((t=>{let o;switch(o="function"==typeof e?e(t):e,o){case"opening":case"opened":var r;null==(r=B)||r.setChildOpen(!0);break;case"closing":case"closed":var n;null==(n=B)||n.setChildOpen(!1);break;default:(0,l.exhaustivenessCheck)(o)}return o}))}),[B]),F=(0,r.useCallback)((({preventDefault:e,x:t,y:o})=>{var r;g||(null==(r=e)||r());V((r=>{switch(r){case"opened":case"opening":case"closing":return"closing";case"closed":var n;if(g)null==(n=e)||n();return D({x:t,y:o}),"opening";default:(0,l.exhaustivenessCheck)(r)}}))}),[g,V]);null==(A=S)||A(F),(0,r.useLayoutEffect)((()=>{var e;if(!p(I))return;const t=I.current,o=e=>{F({x:e.clientX,y:e.clientY,preventDefault:e.preventDefault.bind(e)})};return null==(e=t)||e.addEventListener("contextmenu",o),()=>{var e;null==(e=t)||e.removeEventListener("contextmenu",o)}}),[I,g,V,F]),(0,d.useLongTouch)(x&&p(I),p(I)?I:{current:null},(({touches:e})=>{var t,o;F({x:(null==(t=e[0])?void 0:t.clientX)||0,y:(null==(o=e[0])?void 0:o.clientY)||0})}));const G=(0,r.useCallback)((()=>{V((e=>{switch(e){case"opening":case"closed":return"closed";case"opened":case"closing":return"closing";default:return(0,l.exhaustivenessCheck)(e)}}))}),[V]),U=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),v&&G()}),[v,G]);(0,r.useLayoutEffect)((()=>{V((e=>m&&s||"closed"===e?s&&m&&"opened"!==e?"opening":e:$.current?"closing":"closed"))}),[m,s,V]);const $=(0,r.useRef)(null),z=(0,r.useCallback)((e=>{var t;return e instanceof Node&&(null==(t=$.current)?void 0:t.contains(e))}),[]);return(0,r.useLayoutEffect)((()=>{const e=e=>{z(e.target)||N.current||G()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[g,z,K,G]),(0,r.useEffect)((()=>{var e,t,o;"opening"===K&&(null==(e=_)||e());"opened"===K&&(null==(t=b)||t());"closed"===K&&(null==(o=y)||o(),R(!1))}),[K]),(0,r.useEffect)((()=>{const e=!M&&P,r=!m&&T;!o&&(["closing","opening"].includes(K)||e||r)||j(t)}),[M,t,K,P,o,m,T]),(0,r.useEffect)((()=>{if(!f||"opened"!==K)return;const e=({target:e})=>{z(e)||N.current||G()};return window.addEventListener("wheel",e,!0),()=>{window.removeEventListener("wheel",e,!0)}}),[z,K,G,f]),r.createElement(h.DropdownDepthContext.Provider,{value:(0,r.useMemo)((()=>({setChildOpen:R})),[R])},r.createElement(n.Popper,{mode:"cursor",cursor:L,align:w,position:E,portalClassName:e.portal,open:"closed"!==K,onPositionChange:C,watchContentChange:!0,content:r.createElement(i.default,{nodeRef:$,in:"opening"===K||"opened"===K,addEndListener:e=>{var t;return null==(t=$.current)?void 0:t.addEventListener("transitionend",e,!1)},mountOnEnter:!0,unmountOnExit:!0,appear:!0,classNames:"ContextMenu__contentWrapper-",onEntered:()=>V("opened"),onExited:()=>V("closed")},r.createElement("div",{ref:$,className:a()("ContextMenu__contentWrapper",e.contentWrapper),onClickCapture:e=>{M||"closing"===K&&(e.preventDefault(),e.stopPropagation())},onClick:U},O))}))}));function p(e){return!!e&&"function"!=typeof e}},284837:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachAudioActionsMenu:()=>c});var r=o(667294),n=o(599660),i=o(89131),s=o(696023),a=o(430790);const c=({cmid:e,goToMessage:t})=>{const{lang:o}=(0,s.useBrowserEnv)(),c=(0,r.useCallback)((o=>{switch(o){case"share":return;case"go_to_message":return void t(e);default:return(0,i.exhaustivenessCheck)(o)}}),[e,t]);return r.createElement(n.ActionsMenu,null,r.createElement(n.ActionsMenuAction,{onClick:()=>c("go_to_message"),title:o.use("me_attach_action_go_to_message"),leftIcon:r.createElement(a.Icon24MessageArrowRightOutline,null),type:"secondary"}))}},98859:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachDocActionsMenu:()=>c});var r=o(667294),n=o(599660),i=o(430790),s=o(696023),a=o(89131);const c=({cmid:e,goToMessage:t})=>{const{lang:o}=(0,s.useBrowserEnv)(),c=(0,r.useCallback)((o=>{switch(o){case"share":return;case"go_to_message":return void t(e);default:return(0,a.exhaustivenessCheck)(o)}}),[e,t]);return r.createElement(n.ActionsMenu,null,r.createElement(n.ActionsMenuAction,{title:o.use("me_attach_action_go_to_message"),leftIcon:r.createElement(i.Icon24MessageArrowRightOutline,null),onClick:()=>c("go_to_message"),type:"secondary"}))}},394491:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachLinkActionsMenu:()=>a});var r=o(667294),n=o(599660),i=o(430790),s=o(696023);const a=({cmid:e,goToMessage:t})=>{const{lang:o}=(0,s.useBrowserEnv)();return r.createElement(n.ActionsMenu,null,r.createElement(n.ActionsMenuAction,{title:o.use("me_attach_action_go_to_message"),leftIcon:r.createElement(i.Icon24MessageArrowRightOutline,null),onClick:()=>t(e),type:"secondary"}))}},937842:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachesLinks:()=>v});var r=o(667294),n=o(197934),i=o(89131),s=o(385228),a=o(696023),c=o(597298),l=(o(335106),o(294184)),d=o.n(l),u=o(163332),h=o(394491),m=o(367763),p=o(179636);const v=({items:e,goToMessage:t})=>(()=>{const o=new Set;return r.createElement("ul",{className:"ConvoAttachesLinks"},e.map(((e,n)=>{const i=`${e.cmid}_${e.attach.url}`,s=o.has(i)?`${i}_${n}`:i;return o.add(i),r.createElement(f,{key:s,item:e,goToMessage:t})})))})(),f=({item:e,goToMessage:t})=>{const{isTouchOnly:o}=(0,m.useDeviceData)(),[l,v]=(0,r.useState)(!1),{settings:f}=(0,a.useViewer)(),g=f.rightClickActionsEnabled&&!o,[_,b]=(0,r.useState)(null),{lang:y}=(0,a.useBrowserEnv)(),k=e=>{switch(e.kind){case"Link":return e.url;case"MiniApp":return e.shareUrl;default:(0,i.exhaustivenessCheck)(e)}};return r.createElement("li",null,r.createElement(c.ExternalLink,{ref:e=>{b(e)},href:k(e.attach),className:"ConvoAttachesLink"},r.createElement("div",null,r.createElement("div",{className:"ConvoAttachesLink__image-container"},(e=>{var t;const o=48*window.devicePixelRatio,i="Link"===e.kind?n.preview(e,o,o,!0):n.preview(e,o,o);return(null==(t=i)?void 0:t.url)?r.createElement("img",{alt:e.title,src:i.url,className:"ConvoAttachesLink__image"}):r.createElement("div",{className:"ConvoAttachesLink__image"})})(e.attach))),r.createElement("div",{className:"ConvoAttachesLink__content"},r.createElement("div",{className:"ConvoAttachesLink__name"},e.attach.title),r.createElement("div",{className:"ConvoAttachesLink__url"},k(e.attach))),!g&&r.createElement(u.Dropdown,{open:o&&l,classNames:{wrapper:d()("ConvoAttachesLinkItem__dropdown",{"ConvoAttachesLinkItem__dropdown--open":o}),wrapperOpened:"ConvoAttachesLinkItem__dropdown--open"},content:r.createElement(h.ConvoAttachLinkActionsMenu,{cmid:e.cmid,goToMessage:t}),align:"center",position:"bottom",openType:o?"click":"hover"},r.createElement("button",{className:"ConvoProfileAttachments__itemMenuButton","aria-label":y.use("me_actions_more"),onClick:e=>{e.preventDefault(),e.stopPropagation(),v((e=>!e))}},r.createElement(s.Icon20More,null))),g&&r.createElement(p.ContextMenu,{ref:{current:_},allowNativeContextMenu:!0,content:r.createElement(h.ConvoAttachLinkActionsMenu,{cmid:e.cmid,goToMessage:t})})))}},116278:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachesPhotos:()=>_});var r=o(434788),n=(o(704107),o(667294)),i=o(197934),s=o(597298),a=o(163332),c=o(377250),l=o(277659),d=o(432483),u=o(696023),h=o(89131),m=o(599660),p=o(367763),v=o(294184),f=o.n(v),g=o(179636);const _=({photos:e,goToMessage:t,withDateSeparator:o})=>{const r=(0,u.useNow)(),{api:i,lang:s}=(0,u.useBrowserEnv)(),[a,c]=(0,n.useState)(0),l=(0,n.useRef)(null),[d,m]=(0,n.useState)([]);(0,n.useLayoutEffect)((()=>{if(!window.IntersectionObserver)return;if(0!==a)return;if(!l.current)return;const e=new ResizeObserver((t=>{var o;t[0]&&c(t[0].contentRect.width),0===(null==(o=t[0])?void 0:o.contentRect.width)&&e.disconnect()}));return e.observe(l.current),()=>{e.disconnect()}}),[]);const p=(0,n.useCallback)(((e,o)=>{switch(e){case"set_as_avatar":case"copy_link":case"download":case"tag_item":case"tag_service":break;case"delete":i.fetch("photos.delete",{photo_id:o.attach.id,owner_id:o.attach.ownerId}).then((()=>{m((e=>[...e,o.attach.id]))}));break;case"restore":i.fetch("photos.restore",{photo_id:o.attach.id,owner_id:o.attach.ownerId}).then((()=>{m((e=>e.filter((e=>e!==o.attach.id))))}));break;case"go_to_message":t(o.cmid);break;default:(0,h.exhaustivenessCheck)(e)}}),[t,i]);if(!o)return n.createElement("ul",{className:"ConvoAttachesPhotos"},e.map(((e,t)=>{const o=0===t,r=0!==a?y(e.attach,a):void 0;return n.createElement(b,{key:`${e.cmid}-${e.attach.id}-${t}`,isDeleted:d.includes(e.attach.id),photo:e,photoSource:r||void 0,measuredElRef:o?l:void 0,onActionClick:p})})));const v=e.reduce(((t,o,r)=>{var n;const i=0===r,s=e[r-1];return(i||s&&!(0,h.isSameMonth)(1e3*s.date,1e3*o.date))&&t.push([]),null==(n=t[t.length-1])||n.push(o),t}),[]);return n.createElement(n.Fragment,null,v.map(((e,t)=>{var o;const i=(null==(o=e[0])?void 0:o.date)||0;return n.createElement(n.Fragment,{key:t},n.createElement("div",{className:"ConvoAttachesPhotos__dateSeparator"},s.use("me_month_year_date",{now:r,date:1e3*i,genMonths:!1})),n.createElement("ul",{className:"ConvoAttachesPhotos--separated"},e.map(((e,o)=>{const r=0===t&&0===o,i=0!==a?y(e.attach,a):void 0;return n.createElement(b,{key:`${e.cmid}-${e.attach.id}-${o}`,isDeleted:d.includes(e.attach.id),photo:e,photoSource:i||void 0,measuredElRef:r?l:void 0,onActionClick:p})}))))})))},b=({photo:e,measuredElRef:t,photoSource:o,isDeleted:i,onActionClick:h})=>{const{isTouchOnly:v}=(0,p.useDeviceData)(),{lang:_}=(0,u.useBrowserEnv)(),b=(0,u.useOwner)(),{settings:y}=(0,u.useViewer)(),k=y.rightClickActionsEnabled&&!v,E=(0,n.useRef)(null),w=(0,n.useMemo)((()=>n.createElement(n.Fragment,null,n.createElement(m.ActionsMenuAction,{key:"action_go_to_message",onClick:()=>h("go_to_message",e),title:_.use("me_attach_action_go_to_message"),leftIcon:n.createElement(c.Icon20MessageArrowRightOutline,null),type:"secondary"}),e.attach.ownerId===b.id&&n.createElement(m.ActionsMenuAction,{key:"action_delete",onClick:()=>h("delete",e),title:_.use("me_attach_action_delete_photo"),leftIcon:n.createElement(l.Icon20DeleteOutline,null),type:"danger"}))),[_,e,b.id,h]),C={kind:"message",peerId:e.authorId,cmid:e.cmid};return n.createElement("li",{className:"ConvoAttachesPhotos__item",ref:t},o&&!i&&n.createElement(n.Fragment,null,n.createElement(s.Link,{ref:E,to:{kind:"AttachMediaProxyRoute",attach:e.attach,source:C},key:e.attach.id,className:"ConvoAttachesPhotos__link"},n.createElement("img",(0,r._)({},o,{alt:"",className:"ConvoAttachPhoto__img"}))),!k&&n.createElement(a.Dropdown,(0,r._)({classNames:{wrapper:f()("ConvoAttachPhoto__dropdown",{"DropdownReforged--opened":v})},content:n.createElement(m.ActionsMenu,{className:"ConvoActionsMenu"},w),align:"right",position:"bottom"},v?{adaptation:"horizontal"}:{},{hideOnClick:!0}),n.createElement("button",{className:"ConvoAttachPhoto__action","aria-label":_.use("me_actions_more")},n.createElement(d.Icon24MoreHorizontal,null))),k&&n.createElement(g.ContextMenu,{ref:E,allowNativeContextMenu:!0,content:n.createElement(m.ActionsMenu,{className:"ConvoActionsMenu"},w)})),o&&i&&n.createElement("div",{className:"ConvoAttachesPhotos__restore"},n.createElement("div",{className:"ConvoAttachesPhoto__restore-button",onClick:()=>h("restore",e)},_.use("me_attach_action_restore"))))};function y(e,t){const o=i.preview(e,t,t,!1),r=i.preview(e,2*t,2*t,!1);return o||r?o&&r?{srcSet:`${o.url}, ${r.url} 2x`,src:r.url}:{src:o?o.url:r?r.url:""}:null}},872008:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachesVideos:()=>_});o(128831);var r=o(667294),n=o(197934),i=o(96190),s=o(89131),a=o(696023),c=o(163332),l=o(377250),d=o(385228),u=o(597298),h=o(599660),m=o(294184),p=o.n(m),v=o(650938),f=o(367763),g=o(179636);const _=({videos:e,goToMessage:t})=>{const[o,i]=(0,r.useState)(0),{api:c,lang:l}=(0,a.useBrowserEnv)(),d=(0,r.useRef)(null),[u,h]=(0,r.useState)([]),{viewer:m}=(0,a.useViewer)();(0,r.useLayoutEffect)((()=>{if(!window.IntersectionObserver)return;if(0!==o)return;if(!d.current)return;const e=new ResizeObserver((t=>{var o;t[0]&&i(t[0].contentRect.width),0===(null==(o=t[0])?void 0:o.contentRect.width)&&e.disconnect()}));return e.observe(d.current),()=>{e.disconnect()}}),[]);const p=(0,r.useCallback)(((e,o)=>{switch(e){case"go_to_message":t(o.cmid);break;case"delete_from_own":c.fetch("video.delete",{video_id:o.attach.id,owner_id:o.attach.ownerId,target_id:m.id}).then((()=>{h((e=>[...e,o.attach.id]))}));break;case"restore":c.fetch("video.restore",{video_id:o.attach.id,owner_id:o.attach.ownerId}).then((()=>{h((e=>e.filter((e=>e!==o.attach.id))))}));break;case"copy_link":case"download":case"report":case"share":case"add":case"add_to_playlist":break;default:(0,s.exhaustivenessCheck)(e)}}),[t,c,m.id]),v=Date.now();let f=null;return r.createElement("ul",{className:"ConvoAttachesVideos"},e.map(((e,t)=>{const i=0===t,s=new Date(1e3*e.date).getMonth(),a=null===f||s!==f;f=s;const c=0!==o?function(e,t){const o=n.preview(e,t),r=n.preview(e,2*t);if(!o&&!r)return null;if(!o||!r)return{src:o?o.url:r?r.url:""};return{srcSet:`${o.url}, ${r.url} 2x`,src:r.url}}(e.attach,o):void 0;return r.createElement(r.Fragment,null,a&&r.createElement("div",{className:"ConvoAttachesVideos__separator"},l.use("me_month_year_date",{now:v,date:1e3*e.date,genMonths:!1})),r.createElement(b,{key:`${e.cmid}-${e.attach.id}`,measuredElRef:i?d:void 0,isDeleted:u.includes(e.attach.id),onActionClick:p,video:e,videoSource:c||void 0}))})))},b=({video:e,videoSource:t,isDeleted:o,measuredElRef:n,onActionClick:s})=>{var m;const{isTouchOnly:_}=(0,f.useDeviceData)(),[b,y]=(0,r.useState)(!1),{settings:k}=(0,a.useViewer)(),E=k.rightClickActionsEnabled&&!_,[w,C]=(0,r.useState)(null),{lang:S}=(0,a.useBrowserEnv)(),I=(0,a.usePeers)(),A=i.safeGet(I,e.authorId),x=(0,v.getDuration)(e.attach.duration,!!(null==(m=e.attach.files)?void 0:m.external))||e.attach.platform,M=(0,r.useMemo)((()=>r.createElement(h.ActionsMenuAction,{key:"action_go_to_message",onClick:()=>s("go_to_message",e),title:S.use("me_attach_action_go_to_message"),leftIcon:r.createElement(l.Icon20MessageArrowRightOutline,null),type:"secondary"})),[S,e,s]);return r.createElement("li",{ref:n},(()=>{const n=!!t&&!o,s=r.createElement(r.Fragment,null,n&&r.createElement("div",{className:"ConvoAttachesVideoItem__preview"},!!x&&r.createElement("div",{className:"ConvoAttachesVideos__previewInfo"},x),r.createElement("img",{src:t.src,srcSet:t.srcSet,alt:""})),r.createElement("div",{className:"ConvoAttachesVideoItem__content"},r.createElement("div",{className:"ConvoAttachesVideoItem__title"},e.attach.title),r.createElement("div",{className:"ConvoAttachesVideoItem__info"},r.createElement("div",{className:"ConvoAttachesVideoItem__infoSide"},r.createElement(u.Link,{to:{kind:"PeerModalRoute",peerId:e.authorId},options:{clearModals:!0},className:"ConvoAttachesVideoItem__peer"},i.name(A)),r.createElement("div",{className:"ConvoAttachesVideo__views"},S.use("me_convo_attaches_video_views",{num:e.attach.views,formatted:"short",values:{count:S.formatNumber(e.attach.views,"short")}}))),n&&!E&&r.createElement(c.Dropdown,{open:_&&b,classNames:{wrapper:p()("ConvoAttachVideo__dropdown",{"ConvoAttachVideo__dropdown--open":_}),wrapperOpened:"ConvoAttachVideo__dropdown--open"},content:r.createElement(h.ActionsMenu,{className:"ConvoActionsMenu"},M),align:"center",position:"bottom",openType:_?"click":"hover"},r.createElement("button",{className:"ConvoAttachVideo__action","aria-label":S.use("me_actions_more"),onClick:e=>{e.preventDefault(),e.stopPropagation(),y((e=>!e))}},r.createElement(d.Icon20More,null))))),n&&E&&r.createElement(g.ContextMenu,{ref:{current:w},allowNativeContextMenu:!0,content:r.createElement(h.ActionsMenu,{className:"ConvoActionsMenu"},M)}));return n?r.createElement(u.Link,{ref:e=>{C(e)},to:{kind:"AttachMediaProxyRoute",attach:e.attach},className:"ConvoAttachesVideoItem"},s):r.createElement("div",{className:"ConvoAttachesVideoItem"},s)})())}},389706:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachments:()=>b});o(402752);var r=o(667294),n=o(86894),i=o(202158),s=o(76292),a=o(126528),c=o(907312),l=o(696023),d=o(116278),u=o(872008),h=o(163332),m=o(98859),p=o(432483),v=o(284837),f=o(937842),g=o(294184),_=o.n(g);const b=({peerId:e,goToMessage:t,className:o})=>{const[g,b]=(0,r.useState)("photos"),{attaches:y,getNextPage:k}=(0,c.useConvoAttaches)(e),{lang:E}=(0,l.useBrowserEnv)(),w=e=>{e!==g&&(y&&!y[e]&&k(e),b(e))};(0,r.useEffect)((()=>{null===y&&k(g)}));const C=(0,r.useRef)(g);C.current=g;const S=(0,r.useRef)(k);S.current=k;const I=(0,r.useCallback)((e=>{e&&S.current(C.current)}),[]),A=(0,r.useMemo)((()=>{var e,t;return{onChange:I,skip:null==(t=y)||null==(e=t[g])?void 0:e.isLoading}}),[g,y,I]);if(!y)return null;const x=y[g],M=!x||0===x.items.length&&x.isLoading,R=!M&&x&&x.items.length>0&&!x.isAllLoaded,P=x&&!x.isLoading&&0===x.items.length;return r.createElement("div",{className:_()("ConvoAttachments",o)},r.createElement(n.Tabs,{className:"ConvoAttachments_tabs"},r.createElement(n.HorizontalScroll,{arrowSize:"m"},r.createElement(n.TabsItem,{onClick:()=>w("photos"),selected:"photos"===g},E.use("me_convo_attaches_type_photo")),r.createElement(n.TabsItem,{onClick:()=>w("videos"),selected:"videos"===g},E.use("me_convo_attaches_type_video")),r.createElement(n.TabsItem,{onClick:()=>w("audios"),selected:"audios"===g},E.use("me_convo_attaches_type_music")),r.createElement(n.TabsItem,{onClick:()=>w("docs"),selected:"docs"===g},E.use("me_convo_attaches_type_doc")),r.createElement(n.TabsItem,{onClick:()=>w("links"),selected:"links"===g},E.use("me_convo_attaches_type_links")))),y&&r.createElement("div",{className:"ConvoAttachments__block"},(()=>{var e,o;if(!(null==(e=x)?void 0:e.items)||0===(null==(o=x)?void 0:o.items.length))return null;switch(g){case"audios":var n;return r.createElement("ul",{className:"ConvoAttachments__list"},null==(n=x)?void 0:n.items.map((e=>{const o=e.attach;return"Audio"!==o.kind?null:r.createElement("li",{key:`${e.cmid}-${o.id}`},r.createElement("div",{className:"ConvoAttachments__itemContainer"},r.createElement("div",{className:"ConvoAttachments__item"},r.createElement(i.AttachAudio,{audio:o,isOut:!1,isInBubble:!1})),r.createElement(h.Dropdown,{hideOnClick:!0,content:r.createElement(v.ConvoAttachAudioActionsMenu,{cmid:e.cmid,goToMessage:t}),align:"right",position:"bottom"},r.createElement("button",{className:"ConvoAttachments__itemMenuButton"},r.createElement(p.Icon24MoreHorizontal,null)))))})));case"docs":var a;return r.createElement("ul",{className:"ConvoAttachments__list"},null==(a=x)?void 0:a.items.map((e=>{const o=e.attach;return"Doc"!==o.kind?null:r.createElement("li",{className:"ConvoAttachments__listItem ConvoAtachments__docItem",key:`${e.cmid}-${o.id}`},r.createElement("div",{className:"ConvoAttachments__itemContainer"},r.createElement("div",{className:"ConvoAttachments__item"},r.createElement(s.AttachDoc,{doc:o})),r.createElement(h.Dropdown,{hideOnClick:!0,content:r.createElement(m.ConvoAttachDocActionsMenu,{cmid:e.cmid,goToMessage:t}),align:"center",position:"left"},r.createElement("button",{className:"ConvoAttachments__itemMenuButton"},r.createElement(p.Icon24MoreHorizontal,null)))))})));case"links":const e=y[g];return e?r.createElement(f.ConvoAttachesLinks,{items:e.items,goToMessage:t}):null;case"photos":var c;const o=null==(c=y[g])?void 0:c.items;return o?r.createElement(d.ConvoAttachesPhotos,{photos:o,goToMessage:t}):null;case"videos":var l;const _=null==(l=y[g])?void 0:l.items;return _?r.createElement(u.ConvoAttachesVideos,{videos:_,goToMessage:t}):null;default:return null}})(),M&&r.createElement(n.Spinner,{size:"small",className:"ConvoAttachments__loader"}),R&&r.createElement(a.OptimizedSpinner,{size:"small",className:"ConvoAttachments__loader",intersectionOptions:A}),P&&r.createElement("div",{className:"ConvoAttachments__empty"},E.use("me_convo_attaches_empty_type"))))}},704057:(e,t,o)=>{"use strict";o.d(t,{ImagesLayoutProvider:()=>i,useImagesLayout:()=>s});var r=o(667294);const n=r.createContext(void 0),i=n.Provider,s=()=>{const e=(0,r.useContext)(n);if(!e)throw Error("Все аттачи фото должны сопровождаться контекстом размеров");return e}},163332:(e,t,o)=>{"use strict";o.d(t,{Dropdown:()=>f,DropdownDepthContext:()=>v});var r=o(434788),n=o(820224),i=(o(170490),o(667294)),s=o(429697),a=o(837492),c=o(294184),l=o.n(c),d=o(89131),u=o(696023),h=o(367763),m=o(576697);const p=150,v=(0,i.createContext)(void 0),f=(0,i.forwardRef)(((e,t)=>{var{openType:o="hover",delay:c,hideDelay:f=p,classNames:g={},content:_,children:b,hideOnClick:y,hideOnWheel:k,hideOnMouseLeave:E,canOpen:w=!0,open:C=!1,onOpen:S,onClose:I,forceUpdateContent:A}=e,x=(0,n._)(e,["openType","delay","hideDelay","classNames","content","children","hideOnClick","hideOnWheel","hideOnMouseLeave","canOpen","open","onOpen","onClose","forceUpdateContent"]);const[M,R]=(0,i.useState)(!1),P=(0,u.usePrevious)(M),T=(0,u.usePrevious)(C),[N,O]=(0,i.useState)(_),{isTouchOnly:j}=(0,h.useDeviceData)(),L=j&&"hover"===o?"click":o,{displayState:D,$content:K,$trigger:H,onClick:B,onHover:V,handleHide:F,handleOpened:G,handleClosed:U}=function({canOpen:e,open:t,openType:o,delay:r,hideDelay:n,hideOnMouseLeave:s,childOpen:a}){const[c,l]=(0,i.useState)("closed"),u=(0,i.useRef)(null),h=(0,i.useRef)(null),p=(0,i.useContext)(v),f=(0,i.useCallback)((e=>{l((t=>{let o;switch(o="function"==typeof e?e(t):e,o){case"opening":case"opened":var r;null==(r=p)||r.setChildOpen(!0);break;case"closing":case"closed":var n;null==(n=p)||n.setChildOpen(!1);break;default:(0,d.exhaustivenessCheck)(o)}return o}))}),[p]),{hideOnHover:g,onMouseOver:_}=function({open:e,canOpen:t,delay:o,hideDelay:r,hideOnMouseLeave:n,openType:s,displayState:a,setDisplayState:c,$content:l,$trigger:d,childOpen:u}){const h=(0,i.useRef)(null),m=(0,i.useRef)(null),p=(0,i.useRef)(null),v=(0,i.useRef)(a);v.current=a;const f=(0,i.useRef)(u);f.current=u;const g=(0,i.useCallback)((()=>{var e,t;return(null==(e=d.current)?void 0:e.matches(":hover"))||(null==(t=l.current)?void 0:t.matches(":hover"))}),[l,d]),_=(0,i.useCallback)((e=>{e.current&&(window.clearTimeout(e.current),e.current=null)}),[]),b=(0,i.useCallback)((()=>{p.current&&(window.cancelAnimationFrame(p.current),p.current=null)}),[]),y=(0,i.useRef)(void 0===e);y.current=void 0===e;const k=(0,i.useCallback)(((e=r,t=!0)=>{if("hover"!==s&&!n)return;_(h);const o="closed"===v.current||"closing"===v.current;if(m.current||o)return;y.current=t;const i=()=>{c((e=>"opened"===e?"closing":"closed")),_(m)};e&&"opened"===v.current?m.current=window.setTimeout((()=>{g()?_(m):i()}),e):i()}),[r,s,n,_,c,g]);(0,i.useLayoutEffect)((()=>{h.current&&(t||_(h))}),[_,h,t]);const E=(0,i.useCallback)((()=>{if("hover"!==s||!t)return;_(m);const e="opened"===v.current||"opening"===v.current;if(h.current||e)return;y.current=!0;const r=()=>{c((e=>"closed"===e?"opening":"opened")),_(h)};o&&"closed"===v.current?h.current=window.setTimeout(r,o):r()}),[o,t,s,c,_]),w=(0,i.useCallback)((()=>{const e=()=>{g()||f.current?("closing"!==v.current||y.current)&&E():(n&&"opened"===v.current&&k(500,!0),n||k())};b(),p.current=window.requestAnimationFrame(e)}),[b,g,k,n,E]);return(0,i.useEffect)((()=>("hover"!==s&&!n||"closed"===a||(w(),document.addEventListener("mousemove",w,{passive:!0}),document.addEventListener("wheel",w,{passive:!0})),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("wheel",w)})),[n,a,w,s,b,u]),(0,i.useEffect)((()=>()=>{_(h),_(m),b()}),[]),(0,i.useEffect)((()=>{!1===e&&(document.removeEventListener("mousemove",w),document.removeEventListener("wheel",w))}),[e,w,_,b]),{onMouseOver:E,hideOnHover:k}}({open:t,canOpen:e,delay:r,hideDelay:n,hideOnMouseLeave:s,openType:o,displayState:c,setDisplayState:f,$content:u,$trigger:h,childOpen:a}),{onClick:b}=function({$content:e,$trigger:t,openType:o,setDisplayState:r,canOpen:n}){const s=(0,i.useCallback)((e=>{var t;if("click"===o||"contextmenu"===o||"longtouch"===o){var i;if(null==(t=e)||t.stopPropagation(),"contextmenu"===o)null==(i=e)||i.preventDefault();r((e=>{switch(e){case"opening":return"closed";case"closed":return n?"opening":"closed";case"opened":case"closing":return"closing";default:return(0,d.exhaustivenessCheck)(e)}}))}}),[o,r,n]);return(0,m.useLongTouch)("longtouch"===o,t,(()=>s())),(0,i.useEffect)((()=>{const t=t=>{("click"===o||"contextmenu"===o||"longtouch"===o)&&e.current&&t.target instanceof Node&&!e.current.contains(t.target)&&s()};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e]),{onClick:s}}({$content:u,$trigger:h,openType:o,setDisplayState:f,canOpen:e});(0,i.useLayoutEffect)((()=>{f((o=>t&&e||"closed"===o?e&&t&&"opened"!==o?"opening":o:u.current?"closing":"closed"))}),[t,e,f]);const y=(0,i.useCallback)((()=>{f("opened")}),[f]),k=(0,i.useCallback)((()=>{f("closed")}),[f]),E=(0,i.useCallback)(((e,t)=>{b(),g(e,t)}),[g,b]);return{displayState:c,$content:u,$trigger:h,onClick:b,onHover:_,handleHide:E,handleOpened:y,handleClosed:k}}({canOpen:w,open:C,openType:L,delay:c,hideDelay:f,childOpen:M,hideOnMouseLeave:E}),$=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),y&&F(0,!1)}),[y,F]);(0,i.useEffect)((()=>{if(!k||"opened"!==D)return;const e=({target:e})=>{var t;e instanceof Node&&(null==(t=K.current)?void 0:t.contains(e))||F(0,!1)};return window.addEventListener("wheel",e,!0),()=>{window.removeEventListener("wheel",e,!0)}}),[K,D,F,k]);(0,i.useEffect)((()=>{var e,t;"opened"===D&&(null==(e=S)||e());"closed"===D&&(null==(t=I)||t(),R(!1))}),[D]),(0,i.useEffect)((()=>{const e=!M&&P,t=!C&&T;!A&&(["closing","opening"].includes(D)||e||t)||O(_)}),[M,_,D,P,A,C,T]);return i.createElement("div",{className:l()("DropdownReforged",g.wrapper,{[g.wrapperOpened||"DropdownReforged--opened"]:"opened"===D,[g.wrapperClosed||"DropdownReforged--closed"]:"closed"===D})},i.createElement(v.Provider,{value:(0,i.useMemo)((()=>({setChildOpen:R})),[R])},i.createElement(a.Popper,(0,r._)({ref:e=>{H.current=e,"function"==typeof t?t(e):t&&(t.current=e)}},x,{mode:"side",portalClassName:g.portal,onMouseEnter:V,open:"closed"!==D,content:i.createElement(s.default,{nodeRef:K,in:"opening"===D||"opened"===D,addEndListener:e=>{var t;return null==(t=K.current)?void 0:t.addEventListener("transitionend",e,!1)},mountOnEnter:!0,unmountOnExit:!0,appear:!0,classNames:"DropdownReforged__contentWrapper-",onEntered:G,onExited:U},i.createElement("div",{ref:K,className:l()("DropdownReforged__contentWrapper",g.contentWrapper),onClickCapture:e=>{M||y&&"closing"===D&&(e.preventDefault(),e.stopPropagation())},onClick:$},N))}),i.createElement("div",{className:l()("DropdownReforged__trigger",g.trigger),onMouseOver:V,onMouseEnter:V,onClick:"click"===L?B:void 0,onContextMenu:"contextmenu"===L?B:e=>{e.preventDefault()}},b))))}))},388918:(e,t,o)=>{"use strict";o.d(t,{FormattedLangKey:()=>c});var r=o(434788),n=o(820224),i=o(667294),s=o(696023),a=o(89131);const c=e=>{const{lang:t}=(0,s.useBrowserEnv)(),{className:o,langkey:c}=e,l=(0,n._)(e,["className","langkey"]);return t.fold(c,(e=>i.createElement(i.Fragment,null,e)),(e=>(a.isDev&&(e=e.map(((e,t)=>"string"==typeof e?i.createElement(i.Fragment,{key:t},e):i.cloneElement(e,(0,r._)({},e.props,{key:t}))))),i.createElement("span",{className:o},e))),l)}},576241:(e,t,o)=>{"use strict";o.d(t,{LayerProvider:()=>i,useLayer:()=>s});var r=o(667294);o(973935);const n=(0,r.createContext)({}),i=({layer:e,children:t})=>r.createElement(n.Provider,{value:(0,r.useMemo)((()=>({layer:e})),[e])},t),s=()=>{const{layer:e}=(0,r.useContext)(n);return e||void 0}},988994:(e,t,o)=>{"use strict";o.d(t,{LayoutDataProvider:()=>s,useLayoutData:()=>a});var r=o(696023),n=o(667294);const i=(0,n.createContext)(null),s=({children:e,mode:t})=>{const[o]=(0,r.useViewport)({debounced:!0}),s=o<640?"one-column":"two-column";return n.createElement(i.Provider,{value:(0,n.useMemo)((()=>({mode:t||s})),[s,t])},e)};function a(){const e=(0,n.useContext)(i);if(!e)throw new Error("LayoutDataContext не добавлен в дерево Реакта!");return e}},597298:(e,t,o)=>{"use strict";o.d(t,{ExternalLink:()=>d,Link:()=>l});var r=o(434788),n=o(820224),i=o(667294),s=o(696023),a=o(781982),c=o(80497);const l=(0,i.forwardRef)(((e,t)=>{var{to:o,children:c,onNavigate:l,stopPropagation:u=!0,preventDefault:h,disabled:m,options:p}=e,v=(0,n._)(e,["to","children","onNavigate","stopPropagation","preventDefault","disabled","options"]);const{router:f}=(0,s.useBrowserEnv)(),g="AttachMediaProxyRoute"===o.kind||"AttachProxyRoute"===o.kind?(0,r._)({},o,{tab:f.currentRoute.tab}):o,_=f.toUrl(g),b=a.IRouter.isProxyRoute(o)?f.fromProxyRoute(o):o,y=e=>{var t;u&&e.stopPropagation(),h&&e.preventDefault(),f.openLink(e,o,p),null==(t=l)||t()};return!_||m?i.createElement("span",(0,r._)({},v,{ref:t}),c):b?i.createElement("a",(0,r._)({},v,{href:_,ref:t,onClick:y}),c):i.createElement(d,(0,r._)({},v,{href:_,ref:t,onClick:y}),c)})),d=(0,i.forwardRef)(((e,t)=>{var{children:o,href:a,target:l,disabled:d,onClick:u,stopPropagation:h=!0}=e,m=(0,n._)(e,["children","href","target","disabled","onClick","stopPropagation"]);const{vkDomain:p}=(0,s.useBrowserEnv)(),v=(0,s.useCombinedRefs)(t);return d?i.createElement("span",(0,r._)({},m,{ref:v}),o):i.createElement("a",(0,r._)({},m,{ref:v,onClick:e=>{var t;h&&e.stopPropagation(),null==(t=u)||t(e)},href:m.download?a:(0,c.prepareLink)(p,a),target:l||"_blank",rel:"noopener noreferrer"}),o)}))},874971:(e,t,o)=>{"use strict";o.d(t,{ModalBackdrop:()=>a});o(895593);var r=o(667294),n=o(294184),i=o.n(n),s=o(876620);const a=({isClear:e,isBodyScrollDisabled:t,onClick:o,children:n})=>{const a=i()("RE_ModalBackdrop",{"RE_ModalBackdrop--tinted":!e}),{isFullScreen:c}=(0,r.useContext)(s.ModalConfigContext),l=i()("RE_ModalBackdrop__container",c?"RE_ModalBackdrop__container--fullScreen":"RE_ModalBackdrop__container--window");var d;return d=Boolean(t),(0,r.useEffect)((()=>{const e=document.body;if(!d)return;const t=e.getBoundingClientRect(),o=window.innerWidth-(t.left+t.right);if(0===o)return;const r=document.createElement("style");return r.innerText="body { overflow-y: hidden !important; }",e.appendChild(r),e.style.borderRight=`${o}px solid transparent`,()=>{e.style.borderRight="",e.removeChild(r)}}),[d]),r.createElement("div",{className:a},o&&r.createElement("div",{className:"RE_ModalBackdrop__flesh",onClick:o}),r.createElement("div",{className:l},n))}},234325:(e,t,o)=>{"use strict";o.d(t,{ModalBody:()=>l});var r=o(434788),n=o(532048),i=(o(351667),o(667294)),s=o(294184),a=o.n(s),c=o(876620);const l=({children:e,withCustomLayout:t,withScrollHandling:o,scrollbarProps:s})=>{var l,d;const{isFullScreen:u}=(0,i.useContext)(c.ModalConfigContext),h=a()("RE_ModalBody",{"RE_ModalBody--fullScreen":u});return o?i.createElement(n.ScrollbarProvider,{className:h,scrollableProps:(0,r._)({className:a()({"RE_ModalBody--standard":!t})},null==(l=s)?void 0:l.scrollableProps),contentProps:(0,r._)({className:"RE_ModalBody__scrollbar-content"},null==(d=s)?void 0:d.contentProps)},e):i.createElement("div",{className:a()(h,{"RE_ModalBody--standard":!t})},e)}},293390:(e,t,o)=>{"use strict";o.d(t,{ModalCloseButton:()=>a});var r=o(315954),n=o(294184),i=o.n(n),s=(o(528098),o(667294));const a=e=>{const{closeLabel:t,mode:o,onClose:n}=e;return s.createElement("button",{className:i()("ModalCloseButton","modalHeader"===o&&"ModalCloseButton__modalHeaderMode","modalPanel"===o&&"ModalCloseButton__modalPanelMode"),"aria-label":t,onClick:n},s.createElement(r.Icon24Cancel,null))}},876620:(e,t,o)=>{"use strict";o.d(t,{ModalConfigContext:()=>i,ModalsConfigProvider:()=>s});var r=o(667294),n=o(988994);const i=(0,r.createContext)({isFullScreen:!1}),s=({children:e})=>{const t=(0,n.useLayoutData)(),o=(0,r.useMemo)((()=>({isFullScreen:"one-column"===t.mode})),[t.mode]);return r.createElement(i.Provider,{value:o},e)}},506315:(e,t,o)=>{"use strict";o.d(t,{ModalFooter:()=>n});o(974580);var r=o(667294);const n=({buttons:e,hint:t,children:o})=>r.createElement("footer",{className:"RE_ModalFooter"},t&&r.createElement("div",{className:"RE_ModalFooter__hint"},t),o&&r.createElement("div",{className:"RE_ModalFooter__content"},o),e&&r.createElement("div",{className:"RE_ModalFooter__actions"},e))},798855:(e,t,o)=>{"use strict";o.d(t,{ModalHeader:()=>c});o(936021);var r=o(667294),n=o(864032),i=o(293390),s=o(294184),a=o.n(s);const c=({onClose:e,closeLabel:t,backLabel:o,onBack:s,title:c,children:l,className:d})=>r.createElement("header",{className:a()("RE_ModalHeader",d)},r.createElement("div",{className:"RE_ModalHeader__content"},o&&s&&r.createElement("button",{className:"RE_ModalHeader__back",onClick:s},r.createElement("span",{className:"RE_ModalHeader__backIcon"},r.createElement(n.Icon28ChevronLeftOutline,null)),o),c&&r.createElement("h1",{className:"RE_ModalHeader__title"},c),l&&r.createElement("div",{className:"RE_ModalHeader__container"},l)),r.createElement(i.ModalCloseButton,{closeLabel:t,onClose:e,mode:"modalHeader"}))},964929:(e,t,o)=>{"use strict";o.d(t,{ModalPanel:()=>a});o(97839);var r=o(667294),n=o(294184),i=o.n(n),s=o(876620);const a=({children:e,className:t,topRight:o,size:n})=>{const{isFullScreen:a}=(0,r.useContext)(s.ModalConfigContext),c=i()("RE_ModalPanel",t,{"RE_ModalPanel--fullScreen":a});return r.createElement("article",{className:c,style:n?{width:n.width,height:n.height}:{}},e,o&&r.createElement("div",{className:"RE_ModalPanel__TopRight"},o))}},671324:(e,t,o)=>{"use strict";o.d(t,{ModalView:()=>l});o(628392);var r=o(667294),n=o(294184),i=o.n(n),s=o(355795),a=o(576241),c=o(346006);const l=({children:e,isHidden:t,onEscape:o,contextClass:n,portalTarget:l})=>{const d=(0,a.useLayer)(),u=i()("RE_ModalView",{"RE_ModalView--hidden":Boolean(t)}),{subscribeKeyDown:h}=(0,c.useModuleKeyBoardHandlers)({moduleName:c.Module.Modal}),m=(0,r.useCallback)(((e,t)=>{void 0!==o&&e("Escape")&&(t(),o())}),[o]);return(0,r.useEffect)((()=>{if(!t)return h(m)}),[h,m,t]),r.createElement(s.Portal,{portalClassName:n,portalTarget:l||d},r.createElement("div",{className:u},e))}},171656:(e,t,o)=>{"use strict";o.d(t,{ModalsProvider:()=>a,useModalContext:()=>c});var r=o(667294),n=o(89131),i=o(453934);const s=(0,r.createContext)(null),a=({children:e,modals:t,stacks:o})=>{const a=(0,r.useCallback)((e=>{let t=!0;if(Object.values(o).forEach((o=>{var r;let n=0;if((null==(r=o.currentElement)?void 0:r.groupId)===e){var i;for(t=!1;(null==(i=o.currentElement)?void 0:i.groupId)===e;)n+=1,o.goBack();o.pop(n)}})),t)throw Error("Пытаетесь закрыть группу модалок, которая закрыта")}),[o]),c=(0,r.useCallback)(((e,r)=>{const n=t.getModalParams(e),{groupId:i,isSubModal:s}=n,a=o[r];if(null!==a.findIndex(e))throw new Error("Пытаетесь открыть модалку, которая открыта");a.push({modalId:e,groupId:i,isSubModal:s})}),[o,t]),l=(0,r.useCallback)(((e,t)=>{var r;const n=o[t];if((null==(r=n.currentElement)?void 0:r.modalId)!==e)throw Error("Пытаетесь закрыть модалку, которая закрыта");n.pop()}),[o]),d=(0,r.useCallback)(((e,t)=>{o[t].forcedRemove((t=>t.modalId===e))}),[o]),u=(0,r.useCallback)(((e,t)=>o[t].findIndex(e)),[o]),[h,m]=(0,r.useState)({rightPanel:[],popup:[]});(0,r.useLayoutEffect)((()=>{const e=Object.keys(o).map((e=>o[e].subscribe((t=>{const{action:o,payload:r}=t;switch(o){case"add":m((0,i.produce)((o=>{o[e]=t.payload.isSubModal?o[e].filter((e=>e!==r.modalId)):[],o[e].push(r.modalId)})));break;case"remove":m((0,i.produce)((t=>{const o=t[e].filter((e=>!r.find((t=>e===t.modalId))));o.length<t[e].length&&(t[e]=o)})));break;default:(0,n.exhaustivenessCheck)(o)}}))));return()=>e.forEach((e=>e()))}),[o]);const p=(0,r.useCallback)((e=>o[e].size),[o]),v=(0,r.useMemo)((()=>({openedModals:h,openModal:c,closeModal:l,closeModalForced:d,closeGroup:a,getModalGroup:t.getModalGroup,createModal:t.createModal,createGroup:t.createGroup,getStackSize:p,findIndexInStack:u})),[h,c,l,d,a,t.getModalGroup,t.createModal,t.createGroup,p,u]);return r.createElement(s.Provider,{value:v},e)};function c(){const e=(0,r.useContext)(s);if(!e)throw new Error("ModalContext не добавлен в дерево Реакта!");return e}},126528:(e,t,o)=>{"use strict";o.d(t,{OptimizedSpinner:()=>l});var r=o(434788),n=(o(241676),o(667294)),i=o(294184),s=o.n(i),a=o(86894),c=o(997650);const l=({className:e,size:t="small",intersectionOptions:o,onIntersection:i})=>{const{ref:l,inView:d}=(0,c.useInView)((0,r._)({},o,{threshold:.01}));return(0,n.useEffect)((()=>{d&&i&&i()}),[d]),n.createElement("div",{ref:l,className:s()("OptimizedSpinner",e)},d&&n.createElement(a.Spinner,{size:t}))}},293216:(e,t,o)=>{"use strict";o.d(t,{PhotoItem:()=>a});var r=o(667294),n=o(659397),i=o(780835),s=(o(848056),o(538839));const a=({src:e,thumbhashUrl:t,alt:o,width:a,height:c,cover:l,showReload:d=!1,className:u,onLoad:h,onError:m})=>{const p=l?{width:a,height:c}:void 0,[v,f]=(0,r.useState)(1),[g,_]=(0,r.useState)((()=>{if(!e)return!1;const t=(0,s.isImageLoaded)(e);var o;t&&(null==(o=h)||o());return t})),[b,y]=(0,r.useState)(!1),k=(0,r.useCallback)((e=>{b&&d&&(e.preventDefault(),e.stopPropagation(),f((e=>e+1)))}),[b,d]),E=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),f((e=>e+1))}),[]);return r.createElement("div",{className:(0,n.classNames)("PhotoItem",u),style:{width:a,height:c},onClick:k},r.createElement("div",{className:(0,n.classNames)("PhotoItem__blur",{PhotoItem__nothumbhash:!t}),style:{"--thumbhashUrl":t&&`url(${t})`}}),r.createElement("img",{key:v,src:e,alt:o,className:(0,n.classNames)("PhotoItem__img",{"PhotoItem__img--loaded":g}),style:p,onLoad:()=>{var e;_(!0),y(!1),null==(e=h)||e()},onError:()=>{var e;y(!0),null==(e=m)||e()}}),b&&r.createElement("div",{className:"PhotoItem__error"},d&&r.createElement("button",{type:"button",className:"PhotoItem__reload",onClick:E},r.createElement(i.Icon16Replay,{className:"PhotoItem__reloadIcon"}))))}},579957:(e,t,o)=>{"use strict";o.d(t,{ConvoAudiosPlaylistContext:()=>i,ConvoAudiosPlaylistProvider:()=>s});var r=o(667294),n=o(460554);const i=r.createContext((()=>{})),s=({convo:e,children:t})=>{const o=(0,r.useRef)(e);o.current=e;const s=(0,r.useCallback)((()=>{const e=(0,n.mapConvoToConvoAudioTrackList)(o.current),t={type:"temp",convoPeerId:o.current.peerId};return new n.ConvoAudiosPlaylist({list:e,meta:t})}),[]);return r.createElement(i.Provider,{value:s},t)}},837492:(e,t,o)=>{"use strict";o.d(t,{Popper:()=>m});var r=o(434788),n=o(820224),i=(o(833249),o(667294)),s=o(294184),a=o.n(s),c=o(355795),l=o(696023),d=o(15285),u=o(576241),h=o(90308);const m=(0,i.forwardRef)((function(e,t){var o,s,{open:m=!0,position:y="auto",mode:k="side",align:E="auto",adaptation:w,content:C,portalClassName:S,children:I,portalTarget:A,cursor:x,watchContentChange:M=!1,onPositionChange:R}=e,P=(0,n._)(e,["open","position","mode","align","adaptation","content","portalClassName","children","portalTarget","cursor","watchContentChange","onPositionChange"]);const T=(0,u.useLayer)(),[N,O]=(0,i.useState)(null),j=(0,l.useCombinedRefs)(t),[L,D]=(0,i.useState)(null),[K,H]=(0,i.useState)(null),[B,V]=(0,i.useState)(null),{observe:F}=(0,h.useResizeObserver)(),G=(0,i.useCallback)(((e=!1)=>{if(m){if("side"===k&&j.current&&(0!==(n=j.current).offsetWidth||0!==n.offsetHeight)){var t;const[n,i,s]=function(e,t,o,n,i,s,a){var c,l,u,h;let m="fixed",y=e.getBoundingClientRect(),{innerWidth:k,innerHeight:E}=window,w=window.scrollY||document.documentElement.scrollTop,C=window.scrollX||document.documentElement.scrollLeft;s&&(y=(0,d.getOffsetRect)(e,s),k=s.clientWidth,E=s.clientHeight,w=s.scrollTop,C=s.scrollLeft,m="absolute");const S=null==(c=t)?void 0:c.getBoundingClientRect(),I=(null==(l=S)?void 0:l.width)||0,A=(null==(u=S)?void 0:u.height)||0,x=I&&!a?Math.max(y.width,I):void 0,M=A&&!a?Math.max(y.height,A):void 0;if(o===p){o=g(y.top-w,w+E-y.top-y.height)}if(n===p){n=_(C+k/3,y.left+.5*y.width,C+2*k/3)}const R=d.browser.safari_mobile&&(null==(h=window.visualViewport)?void 0:h.pageTop)||0,P=y.left,T=y.top+R,N=P+y.width,O=T+y.height,j=.5*y.width,L=.5*I,D=.5*y.height,K=.5*A,H=y.width<I,B=y.height<A,V=T<A,F=O+A>E+w,G=s&&T-w<A,U=O<A,$=T+D<K,z=T+A>E+w,W=T+D+K>E+w,Z=P-y.width<I,q=P+I>k+C,J=N-y.width<I,Y=N+I>k+C,X=P+j<L,Q=P+j+L>k+C,ee="horizontal"===i,te="vertical"===i;te||(("top"===o&&V||"center"===n&&$||f.includes(n)&&U)&&(o="bottom"),("bottom"===o&&F||"center"===n&&W||f.includes(n)&&z)&&(o="top"));ee||(v.includes(o)&&(f.includes(n)&&(Z&&(n="left"),q&&(n="right")),"center"===n&&(Q&&(n="right"),X&&(n="left"))),f.includes(o)&&(v.includes(n)&&(U&&(n="bottom"),z&&(n="top")),J&&(o="right",n="right"===n?"left":n),Y&&(o="left",n="left"===n?"right":n)));let oe={};switch(o){case"top":oe={width:x,top:T-A};break;case"bottom":oe={width:x,top:O};break;case"left":oe={height:M,left:P-I};break;case"right":oe={height:M,left:N}}v.includes(o)&&H&&("right"===n&&(oe.left=N-I),"center"===n&&(oe.left=P+j-L),ee&&(("center"===n&&X||"right"===n&&J)&&(oe.left=0),("center"===n&&Q||"left"===n&&Y)&&(oe.left=k-I+C)));if(f.includes(o)&&B){switch(n){case"center":oe.top=T+D-K;break;case"top":oe.top=T-A+y.height}te&&(("center"===n&&$||f.includes(n)&&U)&&(oe.top=0),G&&"center"===n&&(oe.top=w),("center"===n&&W||f.includes(n)&&z)&&(oe.top=E-A+w))}return[b((0,r._)({top:T,left:P},oe,{position:m})),n,o]}(j.current,N,y,E,w,(null==(t=A)?void 0:t.current)?A.current:void 0,e);var o;if(n)null==(o=R)||o({left:n.left,top:n.top});D(n),H(i),V(s)}var n;if("cursor"===k&&x){const[e,t,o]=function(e,t,o,n){var i,s,a;const{innerWidth:c,innerHeight:l}=window,{x:d,y:u}=e,h=null==(i=t)?void 0:i.getBoundingClientRect(),m=(null==(s=h)?void 0:s.width)||0,v=(null==(a=h)?void 0:a.height)||0,y=m||void 0,k=v||void 0;if(o===p){o=g(u,l-u)}if(n===p){n=_(d,d,c-d)}const E=u<v,w=l-u<v,C=u<v/2,S=l-u<v/2,I=d<m,A=c-d<m;("top"===o&&E||"center"===n&&C)&&(o="bottom");("bottom"===o&&w||"center"===n&&S)&&(o="top");f.includes(n)&&(I&&(n="left"),A&&(n="right"));const x={};switch(o){case"top":x.top=u-v;break;case"bottom":x.top=u}switch(n){case"left":x.left=d;break;case"right":x.left=d-m}return[b((0,r._)({position:"fixed",left:d,top:u,height:k,width:y},x)),n,o]}(x,N,y,E);var i;if(e)null==(i=R)||i({left:e.left,top:e.top});D(e),H(t),V(o)}}}),[x,k,y,E,j,m,N,A,w,R]);return(0,i.useLayoutEffect)((()=>{var e,t;G();const o=null==(e=Array.from((null==(t=N)?void 0:t.children)||[]))?void 0:e[0];if(!o||!M)return;return F(o,(e=>{e.borderBoxSize[0]&&G(!0)}))}),[null==(o=N)?void 0:o.children,F,G,M]),i.createElement(i.Fragment,null,"cursor"!==k&&I&&i.cloneElement(I,(0,r._)({},I.props,{ref:j})),m&&i.createElement(c.Portal,(0,r._)({},P,{ref:O,className:a()("MEPopper","MEConfig",K&&`MEPopper--align${U=K,U.length>0?U.slice(0,1).toUpperCase()+U.slice(1):""}`,B&&`MEPopper--${B}`),"data-align":K,"data-position":B,portalClassName:S,style:L||void 0,portalTarget:(null==(s=A)?void 0:s.current)||T}),C));var U})),p="auto",v=["top","bottom"],f=["left","right"];function g(e,t){return t>e?"bottom":"top"}function _(e,t,o){return t>=e&&t<=o?"center":t>o?"right":"left"}function b(e){return(0,r._)({},e,{top:Math.round(e.top),left:Math.round(e.left)})}},355795:(e,t,o)=>{"use strict";o.d(t,{Portal:()=>c});var r=o(434788),n=o(820224),i=o(667294),s=o(973935),a=o(696023);const c=(0,i.forwardRef)((function(e,t){var{children:o,portalClassName:c,portalTarget:l}=e,d=(0,n._)(e,["children","portalClassName","portalTarget"]);const[u,h]=(0,i.useState)(null),m=(0,a.usePrevious)(c);return(0,i.useEffect)((()=>{u&&(m&&u.classList.remove(...m.split(" ")),c&&u.classList.add(...c.split(" ")))}),[u,c,m]),(0,i.useLayoutEffect)((()=>{if(null===l)return;const e=function(e,t){const o=document.createElement("div");e&&o.classList.add(...e.split(" "));return(t||document.body).appendChild(o)}(c,l);return h(e),()=>{e.remove()}}),[l]),u?s.createPortal(i.createElement("div",(0,r._)({},d,{ref:t}),o),u):null}))},376753:(e,t,o)=>{"use strict";o.d(t,{ProgressCircle:()=>a});o(417819);var r=o(667294),n=o(294184),i=o.n(n),s=o(696023);const a=({size:e,progress:t,strokeWidth:o=2,strokeColor:n="white",strokeOverlayColor:a,className:c,ariaLabel:l})=>{const{lang:d}=(0,s.useBrowserEnv)(),u=(e-o)/2,h=`0 0 ${e} ${e}`,m=u*Math.PI*2,p=m-m*t/100;return r.createElement("div",{role:"progressbar",className:i()("ProgressCircle",c),style:{width:e,height:e},"aria-label":null!=l?l:d.use("me_progress_circle_default_aria_label"),"aria-valuenow":Math.floor(t)},r.createElement("svg",{width:e,height:e,viewBox:h},a&&r.createElement("circle",{className:"ProgressCircle__progressOverlay",cx:e/2,cy:e/2,r:u,stroke:a,strokeWidth:`${o}px`}),r.createElement("circle",{className:"ProgressCircle__progress",cx:e/2,cy:e/2,r:u,stroke:n,strokeWidth:`${o}px`,transform:`rotate(-90 ${e/2} ${e/2})`,style:{strokeDasharray:m,strokeDashoffset:p}})))}},682930:(e,t,o)=>{"use strict";o.d(t,{Provider:()=>p});var r=o(434788),n=o(667294),i=o(96190),s=o(696023),a=o(171656),c=o(364705),l=o(200028),d=o(883950),u=o(755534),h=o(438511),m=o(5051);const p=({children:e,env:t,featureFlags:o,state:p,dispatch:v,owner:f})=>{const g=(0,n.useCallback)((e=>{v((0,r._)({type:"CacheUpdateReceived"},e))}),[v]),_=i.safeGet(p.peers,p.viewer.id),b=(0,n.useMemo)((()=>(0,r._)({viewer:_},p.viewer)),[_,p.viewer]),y=(0,n.useMemo)((()=>({popup:t.modals.stack,rightPanel:new d.Stack})),[t.modals.stack]),k=(0,m.useStickerEmojiMenuPopper)();return n.createElement(s.BrowserEnvProvider,{value:t},n.createElement(c.RouterProvider,null,n.createElement(a.ModalsProvider,{modals:t.modals.system,stacks:y},n.createElement(s.DispatchProvider,{value:v},n.createElement(s.FeatureFlagsProvider,{value:o},n.createElement(s.HelpHintsProvider,{value:p.helpHints},n.createElement(s.LastSeenProvider,{value:p.lastSeens},n.createElement(s.TypingsProvider,{value:p.typings},n.createElement(s.PeersProvider,{value:p.peers},n.createElement(s.OwnerProvider,{value:f},n.createElement(u.StickersConfigProvider,null,n.createElement(h.StickerEmojiMenuProvider,{value:k},n.createElement(s.ConvosProvider,{value:p.convos},n.createElement(s.ChannelsProvider,{value:p.channels},n.createElement(s.OrganisersProvider,{value:p.organisers},n.createElement(s.ConvosSearchIndexProvider,{value:p.convosSearchIndex},n.createElement(s.ViewerProvider,{value:b},n.createElement(s.InsertIntoCacheProvider,{value:g},n.createElement(l.ComposerDraftsProvider,{value:p.composerDrafts},n.createElement(l.ChannelComposerDraftsProvider,{value:p.channelComposerDrafts},n.createElement(l.CommentsComposerDraftsProvider,{value:p.commentsComposerDrafts},n.createElement(s.VideoMessageShapesProvider,{value:p.videoMessageShapes},e))))))))))))))))))))))}},364705:(e,t,o)=>{"use strict";o.d(t,{RouterProvider:()=>a,useConvoRoute:()=>l,useRouter:()=>c});var r=o(696023),n=o(781982),i=o(667294);const s=(0,i.createContext)({}),a=({children:e})=>{const{router:t}=(0,r.useBrowserEnv)(),[o,a]=(0,i.useState)(t.currentRoute),[c,l]=(0,i.useState)(t.modalRoute?[t.modalRoute]:[]);(0,i.useLayoutEffect)((()=>{const e=t.subscribe(((e,o)=>{l((r=>{let i=[];if(n.IRouter.isModalRoute(e))switch(o){case"PUSH":const o=r[r.length-1];i=r,o&&t.toUrl(o)===t.toUrl(e)||(i=r.concat(e));break;case"POP":const n=r.findIndex((o=>t.toUrl(o)===t.toUrl(e)));i=r.slice(0,n+1),0===i.length&&i.push(e);break;case"REPLACE":i=[...r.slice(0,-1),e]}return i})),a(e)}));return()=>e()}),[t]);const d=c.slice(-1)[0],u=(0,i.useMemo)((()=>({router:t,route:o,fromUrl:t.fromUrl,toUrl:t.toUrl,toRoute:t.fromProxyRoute,modalRoute:d||null,modalRoutes:c,screenRoute:t.screenRoute,runtimeRoute:t.runtimeRoute})),[t,o,d,c]);return i.createElement(s.Provider,{value:u},e)},c=()=>{const{route:e,router:t,screenRoute:o,modalRoute:r,runtimeRoute:n,modalRoutes:a,toUrl:c,toRoute:l,fromUrl:d}=(0,i.useContext)(s);return{route:e,screenRoute:o,modalRoute:r,runtimeRoute:n,modalRoutes:a,navigate:t.push,back:t.back,forward:t.forward,replace:t.replace,fromUrl:d,toUrl:c,toRoute:l}},l=()=>{const{screenRoute:e}=c();if("ConvoRoute"!==e.kind)throw Error("Используйте хук только внутри роута Convo");return e}},5051:(e,t,o)=>{"use strict";o.d(t,{StickerEmojiMenu:()=>_,StickerEmojiMenuPopper:()=>g,useStickerEmojiMenuPopper:()=>b});var r=o(434788),n=o(820224),i=(o(152440),o(667294)),s=o(51715),a=o(696023),c=o(709646),l=o(429697),d=o(927411),u=o(294184),h=o.n(u),m=o(197934),p=o(95154),v=o(699611),f=o(755534);const g=(0,i.memo)((e=>{var{isOpen:t,toggleIsOpen:o,className:s,contentClassName:a,children:c,onStickerSend:d}=e,u=(0,n._)(e,["isOpen","toggleIsOpen","className","contentClassName","children","onStickerSend"]);const m=(0,i.useRef)(null),p=(0,i.useRef)(null),v=(0,i.useCallback)(((...e)=>{var t;return null==(t=d)?void 0:t(...e)}),[d]);return(0,i.useEffect)((()=>{const e=e=>{e.target instanceof Node&&m.current&&!m.current.contains(e.target)&&p.current&&!p.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[o]),i.createElement("div",{className:h()(s,"StickerEmojiMenuPopper"),onMouseDown:e=>{e.preventDefault()},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},i.createElement("div",{className:"StickerEmojiMenuPopper__trigger",ref:p},c),i.createElement(l.default,{nodeRef:m,in:t,timeout:200,classNames:"StickerEmojiMenuPopper__content-",mountOnEnter:!0},i.createElement("div",{ref:m,className:h()(a,"StickerEmojiMenuPopper__content")},i.createElement(_,(0,r._)({onStickerSend:v,isVisible:t},u)))))})),_=(0,i.memo)((e=>{var{className:t}=e,o=(0,n._)(e,["className"]);const l=(0,a.useOwner)(),{api:u,router:g,logger:_}=(0,a.useBrowserEnv)(),{profileType:b}=(0,a.useViewer)(),y=c.isEdu(b),k=(0,f.useStickersConfig)();(0,i.useEffect)((()=>{var e;!o.isVisible&&k.api&&(0,v.setActivePackKeyOptions)({activePackKey:(null==(e=k.api.cache.stickersActiveTab)?void 0:e.get())||void 0})}),[o.isVisible,k.api]);const E=(0,i.useCallback)(((e,t={})=>u.fetchForExternalLibs(e,t,{timeout:3e4,retries:5}).catch((e=>e instanceof d.IApi.RequestError?Promise.reject(e.apiError):e instanceof d.IApi.ExecuteErrors?Promise.reject({errors:e.list}):Promise.reject(e)))),[u]),w=(0,i.useCallback)((e=>{g.openLink(e,{kind:"StickersStoreProxyRoute"})}),[g]),C=(0,i.useCallback)((()=>{o.peerId?g.push({kind:"MiniAppModalRoute",miniAppId:m.resolveMiniAppId(p.UGC_STICKERS_APP_ID),hash:new URLSearchParams({peer_id:String(o.peerId),ref:"keyboard"}).toString()}):_.error("У стикерпикера нету peerId для открытия миниаппа UGC")}),[_,o.peerId,g]);return i.createElement(s.StickersEmojiKeyboard,(0,r._)({},o,{className:h()(t,"StickerEmojiMenu"),userId:l.id,onAPIRequest:E,onShopClick:y?void 0:w,onUGCEditClick:C}))})),b=()=>{const e=(0,i.useRef)(!1),t=(0,i.useRef)(),[o,r]=(0,i.useState)(!1),n=(0,i.useCallback)(((o,n=!0)=>{o!==e.current&&window.clearTimeout(t.current),e.current=o,t.current=window.setTimeout((()=>{r(o),t.current=void 0}),n?o?100:200:0)}),[]);return(0,i.useEffect)((()=>()=>{window.clearTimeout(t.current)}),[]),(0,i.useMemo)((()=>({isOpen:o,toggleIsOpen:n})),[o,n])}},438511:(e,t,o)=>{"use strict";o.d(t,{StickerEmojiMenuProvider:()=>i,useStickerEmojiMenu:()=>s});var r=o(667294);const n=r.createContext(void 0),i=n.Provider;function s(){const e=(0,r.useContext)(n);if(!e)throw Error("Каждая беседа должна сопровождаться контекстом StickerEmojiMenu");return e}},755534:(e,t,o)=>{"use strict";o.d(t,{StickersConfigProvider:()=>l,useStickersConfig:()=>d});var r=o(11010),n=o(667294),i=o(478748),s=o(696023),a=o(927411);const c=n.createContext(null),l=({children:e})=>{const{api:t}=(0,s.useBrowserEnv)(),o=(0,s.useOwner)(),l=(0,n.useRef)(),[d,u]=(0,n.useState)({}),h=(0,n.useCallback)(((e,o={})=>t.fetchForExternalLibs(e,o,{timeout:3e4,retries:5}).catch((e=>e instanceof a.IApi.RequestError?Promise.reject(e.apiError):e instanceof a.IApi.ExecuteErrors?Promise.reject({errors:e.list}):Promise.reject(e)))),[t]);return(0,n.useEffect)((()=>{l.current=new i.API({onAPIRequest:h,userId:o.id})}),[h,o.id]),(0,n.useEffect)((()=>{(0,r._)((function*(){if(!l.current)return;if(!(yield l.current.cache.reload()))return;const e=yield l.current.cache.imageConfigs.get();e&&u({id:e.default_id,items:e.items,api:l.current})}))()}),[]),n.createElement(c.Provider,{value:d},e)};function d(){const e=(0,n.useContext)(c);if(!e)throw new Error("StickersConfigProvider не добавлен в дерево Реакта!");return e}},538839:(e,t,o)=>{"use strict";o.d(t,{blobToImageUrl:()=>c,fileToStaticImageUrl:()=>u,getFilesFromDataTransferItems:()=>i,getImageSizeByFile:()=>l,isImageLoaded:()=>d});var r=o(11010),n=o(790351);function i(e){return s.apply(this,arguments)}function s(){return(s=(0,r._)((function*(e){const t=[];return yield Promise.all(Array.from(e).map((0,r._)((function*(e){if("file"!==e.kind)return;const o=e.webkitGetAsEntry();if(o){const r=yield function(e,t){return new Promise((o=>{let r=0;const n=[];function i(e){if(function(e){return e.isFile}(e)){r++;const i=t.getAsFile();e.file((e=>{r--,n.push(e),0===r&&o(n)}),(()=>{i&&(r--,n.push(i)),0===r&&o(n)}))}else(function(e){return e.isDirectory})(e)&&s(e.createReader())}function s(e){r++,e.readEntries((e=>{r--;for(const t of e)i(t);0===r&&o(n)}))}i(e)}))}(o,e);return void t.push(...r)}const r=e.getAsFile();r&&t.push(r)})))),t.map(a)}))).apply(this,arguments)}function a(e){if(e.type)return e;const t=e.name.split(".").pop();if(!t)return e;let o="";switch(t.toLowerCase()){case"mov":o="video/quicktime";break;case"3gp":o="video/3gpp"}return o?new File([e],e.name,{type:o}):e}function c({blob:e}){return URL.createObjectURL(e)}function l(e){return new Promise(((t,o)=>{const r=new Image,n=URL.createObjectURL(e);r.onload=()=>{t({width:r.width,height:r.height}),URL.revokeObjectURL(n),r.remove()},r.onerror=e=>{o(e),r.remove()},r.src=n}))}function d(e){const t=new Image;return t.src=e,t.complete||t.width+t.height>0}function u(e){return new Promise(((t,o)=>{if(!n.IMAGE_TYPES.includes(e.type))return o();if("image/gif"!==e.type)return t(c({blob:e}));const i=new Image;i.onload=(0,r._)((function*(){const{width:r,height:n}=yield l(e),s=document.createElement("canvas");s.height=n,s.width=r;const a=s.getContext("2d");if(!a)return o();a.clearRect(0,0,s.width,s.height),a.drawImage(i,0,0),t(s.toDataURL("image/png",1)),s.remove(),i.remove()})),i.onerror=()=>{o(),i.remove()},i.src=c({blob:e})}))}},747578:(e,t,o)=>{"use strict";o.d(t,{applyGap:()=>p,computeAttachePhotosLayout:()=>h});var r=o(434788),n=o(89131);function i(e){if((0,n.isNonEmptyArray)(e))return e;if(n.isDev)throw new Error("not an NonEmptyArray");return[[]]}function s(e,t){const o=e/t.reduce(((e,t)=>e+t.width),0),n=t.map((e=>{const{height:t,width:n}=e;return(0,r._)({},e,{height:t*o,width:n*o})}));return i(n)}function a(e,t){const{height:o,width:n}=t,i=e/o;return(0,r._)({},t,{height:e,width:n*i})}function c(e){let t=0,o=0;const r=e[0];for(const e of r)o+=e.width;for(const o of e)o[0]&&(t+=o[0].height);return o/t}function l(e,t){let o=t[0];const r=[...t,e].sort(((e,t)=>e-t)),n=r.findIndex((t=>t===e)),i=r[n-1],s=r[n+1];if(!i&&s)o=s;else if(!s&&i)o=i;else if(s&&i){o=s/e>e/i?i:s}return o}function d(e,t){return i(e.map((e=>{const o=l(e.width/e.height,t);return e.width>e.height?(0,r._)({},e,{width:o*e.height}):(0,r._)({},e,{height:e.width/o})})))}function u(e,{minHeight:t},o){return i(o.reduceRight(((o,r)=>{const n=o[o.length-1],i=a(t,r),{width:s}=i,c=n?n.reduce(((e,t)=>e+t.width),0):0;return s+c<=e&&n?n.push(i):o.push([i]),o}),[]).reverse().map((e=>e.reverse())).map((t=>s(e,i(t)))))}function h(e,t,o,r){try{const{maxSingleHeight:n}=o,h=[],p={},v=[9/16,3/4,1,4/3,16/9],f=function(e,t){const{minHeight:o}=t,r=function(e,t,o){const r=[t];let n=e;do{n=r[r.length-1]-t*o,n<e&&(n=e),r.push(n)}while(n!==e);return r}(o,e,.05),n=[];for(let e=0;e<r.length;e++){const t=r[e];t&&n.push({minHeight:t})}return n}(t/e,o),g=d(r,v),_=r[0];if(1===r.length&&_)return function(e,t,o,r){if(d([o],t)[0]){const{width:t,height:n}=o;if(t>=n)return[s(e,[o])];const i=r||16/9*e,c=s(e,[o])[0];return c&&c.height<i?[[c]]:[[a(i,o)]]}return[[o]]}(t,v,_,n);for(const o of f){const r=m(u(t,o,g),e,t),n=c(r);h.push(n),p[n]=r}const b=l(e,i(h));return b&&p[b]||u(t,o,r)}catch(e){return[r]}}function m(e,t,o){return function(e,t){const o=1.75,r=c(e),n=r/t;if(n>o){const n=r/(o*t);return e.forEach((e=>e.forEach((e=>e.height=e.height*n)))),e}if(n<1/o){const n=r/(1/o*t);return e.forEach((e=>e.forEach((e=>e.height=e.height*n)))),e}return e}(function(e,t){return i(e.map((e=>{if(1===e.length&&e[0]){const o=e[0],n=o.width>o.height;return[(0,r._)({},o,{width:t,height:n?o.height>t/2?t/2:o.height:t})]}return e})))}(function(e){var t;const o=e.length,r=i(e[e.length-1]),n=1===r.length;if(o<=2||!n)return e;const c=e[e.length-2];if(!c)return e;const l=null==(t=c)?void 0:t.reduce(((e,t)=>e+t.width),0);c.push(r[0]);const d=i(c.map((e=>a(1,e))));return e[e.length-2]=s(l,d),i(e.splice(0,e.length-1))}(e),o),t)}function p(e,t){return e.forEach((e=>e.forEach(((o,r)=>{0===r||r===e.length-1?o.width=Math.ceil(o.width-t/2):o.width=Math.ceil(o.width-t)})))),e}},65970:(e,t,o)=>{"use strict";o.d(t,{LangPersistentKey:()=>n,getKeyCombo:()=>h,isGlobalKeyCombo:()=>u,isModuleKeyCombo:()=>l});var r,n,i=o(15285);!function(e){e.Mod="Mod",e.Alt="Alt",e.Shift="Shift",e.Meta="Meta"}(r||(r={})),function(e){e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.ArrowUp="ArrowUp",e.Escape="Escape",e.Enter="Enter",e.Backspace="Backspace",e.Tab="Tab",e.Slash="/",e.PageDown="PageDown",e.PageUp="PageUp",e.Home="Home",e.End="End",e.Space="Space"}(n||(n={}));const s={" ":n.Space};var a;!function(e){e.F="F"}(a||(a={}));const c=[r.Shift,r.Mod,n.ArrowDown,n.ArrowUp,n.Enter,n.Escape,n.Backspace,`${r.Shift}+${n.Enter}`,`${r.Mod}+${n.Enter}`,n.ArrowLeft,n.ArrowRight,n.Tab,n.Space],l=e=>c.includes(e),d=[`${r.Mod}+${a.F}`,`${r.Mod}+${r.Shift}+${a.F}`,`${r.Mod}+${n.Slash}`],u=e=>d.includes(e),h=e=>{try{const o=[];var t;Object.values(r).forEach((t=>{m[t](e)&&o.push(t)}));const i=null!=(t=s[e.key])?t:e.key;return Object.values(n).forEach((e=>i===e&&o.push(e))),Object.values(a).forEach((t=>{i.toUpperCase()!==t?e.code.slice(3)===t&&o.push(t):o.push(t)})),o.join("+")}catch(e){return""}},m={[r.Mod]:e=>i.isMac?"Meta"===e.key||e.metaKey:e.ctrlKey,[r.Alt]:e=>e.altKey,[r.Shift]:e=>e.shiftKey,[r.Meta]:e=>i.isMac?e.ctrlKey:e.metaKey}},15285:(e,t,o)=>{"use strict";o.d(t,{browser:()=>c,emptyImage:()=>_,enRuKeysMap:()=>m,formatPhoneNumber:()=>f,getAttachForwardIndent:()=>u,getExpectedAttachWidth:()=>h,getOffsetRect:()=>s,getOrganiserUid:()=>v,getPeersInlineNames:()=>p,isMac:()=>l,isWindows:()=>d});var r=o(11010),n=o(667294),i=o(89131);function s(e,t){var o,r,n;if("undefined"==typeof window||!(e instanceof HTMLElement))return{top:0,left:0,width:0,height:0};const i=e.getBoundingClientRect(),s=null==(o=t)?void 0:o.getBoundingClientRect(),a=document.body,c=document.documentElement,l=t?t.scrollTop:window.pageYOffset||c.scrollTop||a.scrollTop,d=(t?t.scrollLeft:window.pageXOffset)||c.scrollLeft||a.scrollLeft,u=c.clientTop||a.clientTop||0,h=c.clientLeft||a.clientLeft||0;return{top:i.top-((null==(r=s)?void 0:r.top)||0)+l-u,left:i.left-((null==(n=s)?void 0:n.left)||0)+d-h,width:i.width,height:i.height}}const a=navigator.userAgent.toLowerCase(),c={version:(a.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[/: ]([\d.]+)/)||[0,"0"])[1],safari:!/chrome/i.test(a)&&/webkit|safari|khtml/i.test(a),safari_mobile:/iphone|ipod|ipad/i.test(a),ios:/.+(ipod|ipad|iphone.*os)/i.test(a),touch:window.matchMedia("(pointer: coarse)").matches,voiceRecordingSupported:Boolean(window.navigator.mediaDevices&&"getUserMedia"in window.navigator.mediaDevices&&(window.AudioContext||window.webkitAudioContext))},l="userAgentData"in window.navigator&&"platform"in window.navigator.userAgentData?0===window.navigator.userAgentData.platform.indexOf("mac"):0===window.navigator.platform.indexOf("Mac"),d=window.navigator.platform.toLowerCase().startsWith("win"),u=e=>e>0?22+10*(e-1):0;function h(e,t,o,r){const n=r+(t?0:8)-u(o);return[n,n*(e?"undefined"!=typeof window?window.devicePixelRatio:2:1)]}const m={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","]":"ъ",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж","'":"э",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю","/":".",[l?"\\":"`"]:"ё"},p=(e,t,o,r)=>{const i=[];return e.forEach(((n,s)=>{i.push(o(n),(o=>o===e.length-1?"":t===e.length&&o===e.length-2?` ${r.use("me_chat_members_last_divider")} `:", ")(s))})),t>e.length&&(0===e.length?i.push(r.use("me_chat_members_count",{num:t-e.length})):i.push(r.use("me_chat_members_count_lots",{num:t-e.length,values:{names:""}}))),i.length>0?n.createElement(n.Fragment,null,i):null};function v(e){switch(e.kind){case"filters":return e.filter;case"folders":return e.id;default:(0,i.exhaustivenessCheck)(e)}}function f(e){return g.apply(this,arguments)}function g(){return(g=(0,r._)((function*(e){var t,r;const{parsePhoneNumber:n}=yield o.e(4387).then(o.bind(o,304387)),i=n(e.replace(/^(\+|)+/,"+"));var s,a;return{isValid:i.valid,international:null!=(s=null==(t=i.number)?void 0:t.international)?s:e,national:null!=(a=null==(r=i.number)?void 0:r.national)?a:e}}))).apply(this,arguments)}const _="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},559360:(e,t,o)=>{"use strict";o.d(t,{SEND_OPTIONS:()=>d,TOPICS:()=>a,VISIBILITY:()=>s,empty:()=>i,getPostThemeIdFromKey:()=>c,getPostThemeKeyFromId:()=>l,validateRequiredFields:()=>u});var r=o(434788),n=o(839963);function i(){return{text:"",attaches:{},uploadsTrackIds:new Set,visibility:"all",donutDelay:-1,topic:"no_theme",sendOptions:{selected:[],disabled:[]},resetSendOptions:[]}}const s=["all","donut"],a=[["no_theme",0],["art",1],["it",7],["games",12],["music",16],["photo",19],["science",21],["sport",23],["tourism",25],["cinema",26],["humor",32],["style",43]],c=e=>{const t=a.find((t=>t[0]===e));if(!t)throw new Error(`Передан некорректный ключ ${e} для темы поста`);return t[1]},l=e=>{if(void 0===e)return"no_theme";const t=a.find((t=>t[1]===e));if(!t)throw new Error(`Передан некорректный ID ${e} для темы поста`);return t[0]},d=["close_comments","signed","mute_notifications","mark_as_ads"];function u(e){const t=i();return Object.entries(e).reduce(((e,[o,i])=>{const s=n.resolveId(+o);return e[s]=i,i.uploadsTrackIds instanceof Set||(e[s]=(0,r._)({},i,{uploadsTrackIds:t.uploadsTrackIds})),e}),{})}},655829:(e,t,o)=>{"use strict";function r(){return{text:"",attaches:{},uploadsTrackIds:new Set}}function n(e,t){const o=0!==Object.keys(e.attaches).length;return 0===t.length&&!o&&!i(e)}function i(e){return 0!==e.uploadsTrackIds.size}o.d(t,{empty:()=>r,hasActiveUploads:()=>i,isEmpty:()=>n})},400681:(e,t,o)=>{"use strict";o.d(t,{DEFAULT_FORWARD_AUTHOR_HIDDEN:()=>a,empty:()=>s,getNormalForward:()=>d,hasActiveUploads:()=>l,isEmpty:()=>c,validateRequiredFields:()=>u});var r=o(434788),n=o(96190),i=o(89131);function s(){return{text:"",attaches:{},uploadsTrackIds:new Set}}const a=!1;function c(e,t){const o=0!==Object.keys(e.attaches).length;return 0===t.length&&!e.forward&&!o&&!l(e)}function l(e){return 0!==e.uploadsTrackIds.size}function d(e,t){if(!e.forward||e.forward.kind!==t)return;const o=[...e.forward.items].filter((e=>"Normal"===e.kind));return(0,i.isNonEmptyArray)(o)?o:void 0}function u(e){const t=s();return Object.entries(e).reduce(((e,[o,i])=>{const s=n.resolveId(+o);return Array.isArray(i)?(e[s]=i,e):("kind"in i||(i.uploadsTrackIds instanceof Set||(i=(0,r._)({},i,{uploadsTrackIds:t.uploadsTrackIds})),e[s]=[i]),e)}),{})}},709646:(e,t,o)=>{"use strict";o.d(t,{VIEWER_DEFAULT_PUSH_SETTINGS:()=>r,eduAccount:()=>s,isEdu:()=>n,isService:()=>i});const r={userConvo:{isEnabled:!0,withMessageText:!0},chatConvo:{isEnabled:!0,withMessageText:!0},groupConvo:{isEnabled:!0,withMessageText:!0},mention:"every-mention",messageReaction:{isEnabled:!0,withMessageText:!0}};function n(e){return"edu"===e}function i(e){return Boolean(e.accounts.find((e=>e.isService)))}function s(e){return e.accounts.find((e=>n(e.profileType)))}},80497:(e,t,o)=>{"use strict";o.d(t,{prepareLink:()=>n});var r=o(95154);function n(e,t){return function(e){return e.startsWith("mailto:")}(t)||function(e){return e.startsWith("tel:")}(t)?t:(t.startsWith("/")||t.startsWith("http://")||t.startsWith("https://")||(t="https://"+t),function(e,t){if(t.startsWith("/"))return!t.startsWith("//");try{const{hostname:o}=new URL(t);return[...r.VK_RELATED_DOMAINS,e,r.SFERUM_DOMAIN].some((e=>o===e||o.endsWith("."+e)))}catch(e){return!1}}(e,t)?t:function(e,t){return`https://${e}/away.php?to=${encodeURIComponent(t)}&utf=1`}(e,t))}},927411:(e,t,o)=>{"use strict";var r;o.d(t,{IApi:()=>r}),function(e){e.resolveTrackId=function(e,t){if(0===t.length)throw new Error("Нельзя отдавать пустую строку в IApi.resolveTrackId");return`${e}-${t}`};class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}e.TimeoutError=t;class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}}e.AbortError=o;class r extends Error{constructor(e,t,o){super(t),this.code=e,this.apiError=o,Object.setPrototypeOf(this,r.prototype)}}e.RequestError=r;class n extends Error{constructor(e){super(e[0].error_msg),this.list=e,Object.setPrototypeOf(this,n.prototype)}}e.ExecuteErrors=n}(r||(r={}))},781982:(e,t,o)=>{"use strict";o.d(t,{IRouter:()=>r});var r,n=o(89131);!function(e){let t;e.SettingsRouteSectionKeys=["main","account","folders","notifications","theme","experimental","about","edu"],e.ChannelModalRouteSectionKeys=["settings"],function(e){e[e.Message=0]="Message",e[e.Post=1]="Post",e[e.Composer=2]="Composer",e[e.Comment=3]="Comment",e[e.ChannelComposer=4]="ChannelComposer",e[e.CommentsComposer=5]="CommentsComposer"}(t=e.RouteSourceKind||(e.RouteSourceKind={})),e.globalParamsKeys=["tab","folder","createPoll","sferum"],e.convoRouteExtraParamsKeys=["settings"],e.withExtraConvoParams=e=>"MainRoute"===e.kind||"ConvoRoute"===e.kind||"ChannelRoute"===e.kind||"ChannelsListRoute"===e.kind,e.isModalRoute=e=>{switch(e.kind){case"PeerModalRoute":case"PhotoModalRoute":case"VideoModalRoute":case"MiniAppModalRoute":case"PollModalRoute":case"ImportantMessagesModalRoute":case"MiniAppCatalogModalRoute":case"ChannelModalRoute":return!0;case"CallJoinRoute":case"ChannelRoute":case"ChannelsListRoute":case"ChatJoinRoute":case"ConvoRoute":case"MainRoute":case"NotFoundRoute":case"SettingsRoute":return!1;default:(0,n.exhaustivenessCheck)(e)}},e.isProxyRoute=e=>{switch(e.kind){case"AttachProxyRoute":case"AttachMediaProxyRoute":case"HashtagProxyRoute":case"HashtagMentionProxyRoute":case"ScreenNameProxyRoute":case"VkProxyRoute":case"StickerPackProxyRoute":case"StickersStoreProxyRoute":return!0;case"PeerModalRoute":case"PhotoModalRoute":case"VideoModalRoute":case"MiniAppModalRoute":case"PollModalRoute":case"ImportantMessagesModalRoute":case"CallJoinRoute":case"ChannelRoute":case"ChannelsListRoute":case"ChatJoinRoute":case"ConvoRoute":case"MainRoute":case"NotFoundRoute":case"MiniAppCatalogModalRoute":case"SettingsRoute":case"ChannelModalRoute":return!1;default:(0,n.exhaustivenessCheck)(e)}},e.isRuntimeRoute=e=>{switch(e.kind){case"ModalMessageRuntimeRoute":case"EmptyRuntimeRoute":case"AudioRestrictionRuntimeRoute":case"RedirectRuntimeRoute":return!0;case"PeerModalRoute":case"PhotoModalRoute":case"VideoModalRoute":case"MiniAppModalRoute":case"PollModalRoute":case"ImportantMessagesModalRoute":case"CallJoinRoute":case"ChannelRoute":case"ChannelsListRoute":case"ChatJoinRoute":case"ConvoRoute":case"MainRoute":case"NotFoundRoute":case"SettingsRoute":case"MiniAppCatalogModalRoute":case"ChannelModalRoute":return!1;default:(0,n.exhaustivenessCheck)(e)}}}(r||(r={}))},166916:(e,t,o)=>{"use strict";var r;o.d(t,{IUploader:()=>r}),function(e){class t extends Error{constructor(e="Aborted"){super(e),Object.setPrototypeOf(this,t.prototype)}}e.AbortError=t;class o extends Error{constructor(e="Timeout"){super(e),Object.setPrototypeOf(this,o.prototype)}}e.TimeoutError=o}(r||(r={}))},883950:(e,t,o)=>{"use strict";o.d(t,{Modals:()=>i,Stack:()=>n,resolveId:()=>s});var r=o(53416);class n{push(e){this.history.push(e),this.index=this.history.length-1,this.listeners.call({action:"add",payload:e})}goBack(e=1){this.index-=e}subscribe(e){return this.listeners.push(e)}get lastElement(){return this.history[this.history.length-1]||null}get currentElement(){return this.history[this.index]||null}findIndex(e){const t=this.history.findIndex((t=>t.modalId===e));return-1!==t?t:null}get size(){return this.history.length}onItemsRemove(e){this.index=this.history.length-1,this.listeners.call({action:"remove",payload:e}),this.lastElement&&this.listeners.call({action:"add",payload:this.lastElement})}constructor(){this.index=0,this.pop=(e=1)=>{const t=this.history.splice(-e,e);this.onItemsRemove(t)},this.forcedRemove=e=>{const t=this.history.reduce(((t,o)=>(e(o)?t.toRemove.push(o):t.actualHistory.push(o),t)),{actualHistory:[],toRemove:[]});this.history=t.actualHistory,this.onItemsRemove(t.toRemove)},this.history=[],this.listeners=function(){let e=[];return{get length(){return e.length},push:t=>(e.push(t),function(){e=e.filter((e=>e!==t))}),call(t){e.forEach((e=>e&&e(t)))}}}()}}class i{removeGroup(e){this.system.groups.delete(e)}removeModal(e){const{groupId:t}=this.getModalParams(e),o=this.system.groups.get(t);if(void 0!==o){const{group:t}=o,r=t.findIndex((t=>t.id===e));t.splice(r,1)}this.system.modals.delete(e)}constructor(){this.createGroup=()=>{const e=(0,r.nanoid)(),t={id:e,group:[]};return this.system.groups.set(e,t),{data:t,remove:this.removeGroup.bind(this,e)}},this.createModal=(e,t=!1,o)=>{const n=this.system.groups.get(e);if(!n)throw Error("Нет такого стека");const i=o||(0,r.nanoid)();return n.group.push({id:i}),this.system.modals.set(i,{groupId:n.id,isSubModal:t}),{id:i,remove:this.removeModal.bind(this,i)}},this.getModalGroup=e=>{const t=this.system.groups.get(e);if(!t)throw Error("Передан Id несуществующей группы модалок");return t},this.getModalParams=e=>{const t=this.system.modals.get(e);if(!t)throw Error("Попытка получить несуществующую модалку");return t},this.system={modals:new Map,groups:new Map}}}function s(e){return e}},790351:(e,t,o)=>{"use strict";o.d(t,{AUDIO_TYPES:()=>m,IMAGE_TYPES:()=>u,Uploader:()=>k,VIDEO_TYPES:()=>h,areAudios:()=>x,areImages:()=>C,areVideos:()=>I,isChannelUpload:()=>L,isConvoUpload:()=>D,isImage:()=>w,preloadImage:()=>M});var r=o(11010),n=o(434788),i=o(694788),s=o(166916),a=o(89131),c=o(96190),l=o(839963),d=o(453934);const u=["image/png","image/gif","image/jpeg","image/webp"],h=["video/x-msvideo","video/mp4","video/mpeg","video/3gpp","video/quicktime","video/x-flv","video/x-ms-wmv","video/avi","video/webm"],m=["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"],p=e=>"image"===e.kind,v=e=>"video"===e.kind,f=e=>"audio"===e.kind,g=e=>"doc"===e.kind;class _{getUploadServer(e,t){let o=this.cache.get(e);if(!o)return o=t().then((t=>(this.cache.set(e,{url:t,timestamp:Date.now()}),t))),this.cache.set(e,o),o;if(o instanceof Promise)return o;return this.validateCache(o.timestamp)?Promise.resolve(o.url):(this.cache.delete(e),this.getUploadServer(e,t))}dropCache(){0!==this.cache.size&&Array.from(this.cache.entries()).forEach((([e,t])=>{if(t instanceof Promise)return;this.validateCache(t.timestamp)||this.cache.delete(e)}))}validateCache(e){return Date.now()-e<=5e3}constructor(){this.cache=new Map,setInterval((()=>{this.dropCache.call(this)}),6e4)}}class b{handleUploadV2Erros(e){if("error_code"in e)throw new Error(`${e.error_code}: ${e.error_msg}`);if("error_code"in e.files.file1)throw new Error(`${e.files.file1.error_code}: ${e.files.file1.error_msg}`)}uploadImage(e,t){var o=this;return(0,r._)((function*(){const r={peer_id:t.viewerId,group_id:t.groupId&&c.toRealId(t.groupId),upload_v2:o.uploadV2},n=()=>o.api.fetch("photos.getMessagesUploadServer",r).then((({upload_url:e})=>e)),s=()=>o.photosUploadUrlCache.getUploadServer(JSON.stringify(r),n),a=e=>o.api.fetch("photos.saveMessagesPhoto",e).then((e=>{if(0===e.length||void 0===e[0])throw new Error("Метод photos.saveMessagesPhoto не вернул фотографию");const t=(0,i.fromApiPhoto)({apiPhoto:e[0]});if(void 0===t)throw new Error("Не удалось конвертировать фотографию с сервера");return t})),l=new FormData;return 0===o.uploadV2?(l.append("file1",e.file),o.uploadRequest(s,l,e.trackId,(({data:e})=>a(e)))):(l.append("file1",e.file),o.uploadRequest(s,l,e.trackId,(({data:e})=>(o.handleUploadV2Erros(e),a({upload_v2:1,photo:JSON.stringify(e)})))))}))()}uploadVideo(e,t){var o=this;return(0,r._)((function*(){const n={target:t,preview:1,no_comments:1},s=new FormData;return s.append("video_file",e.file),o.uploadRequest((()=>o.api.fetch("video.save",n).then((({upload_url:e})=>{if(!e)throw new Error("В методе video.save не вернулся upload_url");return e}))),s,e.trackId,(0,r._)((function*({data:{video_id:e,owner_id:t}}){const r={kind:"Video",id:e,ownerId:t,image:[{url:i.emptyPreview,width:1,height:1}],views:0,isFromMessage:!0};try{const n=(yield o.api.fetch("video.get",{owner_id:t,videos:`${t}_${e}`,extended:0})).items[0];if(!n)return r;return(0,i.fromApiVideo)({apiVideo:n})||r}catch(e){return r}})))}))()}uploadAudio(e){var t=this;return(0,r._)((function*(){const o={},r=new FormData;return r.append("file",e.file),t.uploadRequest((()=>t.api.fetch("audio.getUploadServer",o).then((({upload_url:e})=>e))),r,e.trackId,(({data:{server:e,audio:o,hash:r}})=>t.api.fetch("audio.save",{server:e,audio:o,hash:r}).then((e=>(0,i.fromApiAudio)(e)))))}))()}uploadDoc(e){var t=this;return(0,r._)((function*(){const o=()=>t.api.fetch("docs.getUploadServer",{}).then((({upload_url:e})=>e)),r=new FormData;return r.append("file",e.file),t.uploadRequest((()=>t.docsUploadUrlCache.getUploadServer("docsUploadServer",o)),r,e.trackId,(({data:{file:e}})=>t.api.fetch("docs.save",{file:e}).then((e=>{if(!e.doc)throw new Error("Метод doc.save не вернул документ");const t=(0,i.fromApiDoc)(e.doc);if(!t)throw new Error("Не удалось конвертировать документ (нет поля url)");return t}))))}))()}uploadWallDoc(e,t){var o=this;return(0,r._)((function*(){const t={group_id:0},r=()=>o.api.fetch("docs.getWallUploadServer",t).then((({upload_url:e})=>e)),n=new FormData;return n.append("file",e.file),o.uploadRequest((()=>o.wallDocsUploadUrlCache.getUploadServer(JSON.stringify(t),r)),n,e.trackId,(({data:{file:e}})=>o.api.fetch("docs.save",{file:e,group_id:0}).then((e=>{if(!e.doc)throw new Error("Метод doc.save не вернул документ");const t=(0,i.fromApiDoc)(e.doc);if(!t)throw new Error("Не удалось конвертировать документ (нет поля url)");return t}))))}))()}uploadVoice(e,t){var o=this;return(0,r._)((function*(){const r={type:"audio_message",peer_id:t.targetPeerId},n=new FormData;return n.append("file",e.file),o.uploadRequest((()=>o.api.fetch("docs.getMessagesUploadServer",r).then((({upload_url:e})=>e))),n,e.trackId,(({data:{file:e}})=>o.api.fetch("docs.save",{file:e}).then((e=>{if(!e.audio_message)throw new Error("Метод doc.save не вернул аудиосообщение");return(0,i.fromApiVoice)(e.audio_message)}))))}))()}uploadChatPhoto(e,t){var o=this;return(0,r._)((function*(){if(!t.targetPeerId||!c.isChatPeerId(t.targetPeerId))throw new Error("Для обновления аватара чата targetPeerId обязательно должен быть ChatId");const r=yield(n=e,new Promise((e=>{const t=new Image,o=URL.createObjectURL(n.file);t.onload=()=>{const o=Math.min(t.width,t.height),r=Math.floor((t.width-o)/2),n=Math.floor((t.height-o)/2);e({x:r,y:n,width:o})},t.src=o})));var n;const i={chat_id:c.toRealId(t.targetPeerId),crop_x:r.x,crop_y:r.y,crop_width:r.width},s=new FormData;return s.append("photo",e.file),o.uploadRequest((()=>o.api.fetch("photos.getChatUploadServer",i).then((({upload_url:e})=>e))),s,e.trackId,(({data:{response:e}})=>o.api.fetch("messages.setChatPhoto",{file:e,user_id:c.toRealId(t.viewerId)}).then((()=>{}))))}))()}uploadOwnerPhoto(e,t){var o=this;return(0,r._)((function*(){const r={owner_id:t.viewerId,upload_v2:o.uploadV2},n=()=>o.api.fetch("photos.getOwnerPhotoUploadServer",r).then((({upload_url:e})=>e)),i=e=>o.api.fetch("photos.saveOwnerPhoto",e).then((()=>{})),s=new FormData;return 0===o.uploadV2?(s.append("photo",e.file),o.uploadRequest(n,s,e.trackId,(({data:{server:e,photo:o,hash:r}})=>i({owner_id:t.viewerId,server:e,hash:r,photo:o})))):(s.append("file1",e.file),o.uploadRequest(n,s,e.trackId,(({data:e})=>(o.handleUploadV2Erros(e),i({upload_v2:1,photo:JSON.stringify(e)})))))}))()}uploadChannelPhoto(e,t){var o=this;return(0,r._)((function*(){const r={owner_id:t.targetPeerId},n=new FormData;return n.append("photo",e.file),o.uploadRequest((()=>o.api.fetch("photos.getOwnerPhotoUploadServer",r).then((({upload_url:e})=>e))),n,e.trackId,(({data:{hash:e,photo:r,server:n}})=>o.api.fetch("photos.saveOwnerPhoto",{owner_id:l.toRealGroupId(t.targetPeerId),server:n,hash:e,photo:r}).then((()=>{}))))}))()}uploadWallImage(e,t){var o=this;return(0,r._)((function*(){const r={group_id:l.toRealGroupId(t.targetPeerId),upload_v2:0},n=()=>o.api.fetch("photos.getWallUploadServer",r).then((({upload_url:e})=>e)),s=new FormData;return s.append("photo",e.file),o.uploadRequest((()=>o.wallPhotosUploadUrlCache.getUploadServer(JSON.stringify(r),n)),s,e.trackId,(({data:{server:e,hash:r,photo:n}})=>o.api.fetch("photos.saveWallPhoto",{group_id:l.toRealGroupId(t.targetPeerId),server:e,hash:r,photo:n}).then((e=>{if(0===e.length||void 0===e[0])throw new Error("Метод photos.saveWallPhoto не вернул фотографию");const t=(0,i.fromApiPhoto)({apiPhoto:e[0]});if(void 0===t)throw new Error("Не удалось конвертировать фотографию с сервера");return t}))))}))()}convoUpload(e,t){var o=this;return(0,r._)((function*(){return p(e)?o.uploadImage(e,t):v(e)?o.uploadVideo(e,"messages"):f(e)?o.uploadAudio(e):g(e)?o.uploadDoc(e):"voice"===e.kind?o.uploadVoice(e,t):(e=>"chat-photo"===e.kind)(e)?o.uploadChatPhoto(e,t):(e=>"owner-photo"===e.kind)(e)?o.uploadOwnerPhoto(e,t):Promise.reject()}))()}channelsUpload(e,t){var o=this;return(0,r._)((function*(){return p(e)?o.uploadWallImage(e,t):v(e)?o.uploadVideo(e,"wall"):f(e)?o.uploadAudio(e):g(e)?o.uploadWallDoc(e,t):"channel-photo"===e.kind?o.uploadChannelPhoto(e,t):Promise.reject()}))()}upload(e,t){var o=this;return(0,r._)((function*(){return j(t)?o.channelsUpload(e,t):function(e){return!j(e)}(t)?o.convoUpload(e,t):Promise.reject()}))()}uploadRequest(e,t,o,n){const i=new AbortController;var a=this;return{abort:()=>i.abort(),trackId:o,response:(0,r._)((function*(){return function(e,t,o={}){return new Promise(((r,n)=>{var i;const{method:a="POST",signal:c,onUploadProgress:l,headers:d={},timeout:u}=o;if(null==(i=c)?void 0:i.aborted)return n(new s.IUploader.AbortError);const h=new XMLHttpRequest,m=()=>h.abort();c&&(c.addEventListener("abort",m),h.addEventListener("readystatechange",(()=>{const{readyState:e}=h;e===K&&c.removeEventListener("abort",m)}))),h.addEventListener("abort",(()=>{n(new s.IUploader.AbortError)})),h.addEventListener("error",n),h.addEventListener("timeout",(()=>{n(new s.IUploader.TimeoutError)})),h.upload.addEventListener("progress",(e=>{var t;e.lengthComputable&&(null==(t=l)||t(e))})),h.addEventListener("loadend",(()=>{const{readyState:e,status:t,responseText:o}=h;let i;try{i=JSON.parse(o)}catch(e){return n(e)}return e===K&&t===H?r({data:i}):n(i)})),h.open(a,e,!0),Object.entries(d).forEach((([e,t])=>{h.setRequestHeader(e,t)})),u&&(h.timeout=u),h.send(t)}))}(yield e(),t,{signal:i.signal,timeout:a.requestTimeout,headers:{Accept:"application/json, text/plain, */*"},onUploadProgress:({loaded:e,total:t})=>{a.emitter.emit(o,{loaded:e,total:t})}}).then(n).finally((()=>{a.emitter.removeListener(o)}))}))()}}trackProgress(e,t){this.emitter.addListener(e,t)}constructor(e,t){this.emitter=new E,this.requestTimeout=0,this.photosUploadUrlCache=new _,this.wallPhotosUploadUrlCache=new _,this.docsUploadUrlCache=new _,this.wallDocsUploadUrlCache=new _,this.api=e,this.featureFlags=t,this.uploadV2=this.featureFlags.vkm_upload_v2?1:0}}class y{subscribe(e,t){return this.emitter.addListener(e,t),()=>{this.emitter.removeListener(e)}}get(e){return this.attaches.get(e)}filterMissing(e){return e.filter((e=>!this.attaches.has(e)))}update(e,t){const o=this.attaches.get(e),r="function"==typeof t?t(o):t;r&&(this.attaches.set(e,r),this.emitter.emit(e,r))}remove(e){new Set(e).forEach((e=>{this.attaches.delete(e),this.emitter.removeListener(e)}))}constructor(){this.attaches=new Map,this.emitter=new E}}class k extends b{uploadFiles(e,t,o,r={}){e.forEach((e=>{this.toUploaderFileInfo(e,t).then((e=>{this.doUpload(e,o,r)})).catch((()=>{var t,o;null==(t=(o=r).onConvertationError)||t.call(o,e)}))}))}abortUpload(e){const t=this.uploads.get(e);var o,r;t&&(t.process.abort(),null==(o=(r=t.handlers).onUploadAbort)||o.call(r,e),this.uploads.delete(e));const n=this.failedUploads.get(e);var i,s;n&&(null==(i=(s=n.handlers).onUploadAbort)||i.call(s,e),this.failedUploads.delete(e));this.state.remove([e])}retryUpload(e){const t=this.failedUploads.get(e);if(t){this.failedUploads.delete(e);const{file:o,messengerData:r,handlers:i}=t;this.doUpload(o,r,i),this.state.update(o.trackId,(e=>{if(e)return(0,n._)({},e,{error:!1,abortable:!1})}))}}getOrphans(e){return this.state.filterMissing(e)}subscribe(e,t){if(0===e.length)return()=>{};t(this.getState(e));const o=e.map((o=>this.state.subscribe(o,(()=>{t(this.getState(e))}))));return t=>{o.forEach((e=>e())),t(e)}}getState(e){if(0===e.length)return{};const t=e.reduce(((e,t)=>{const o=this.state.get(t);return o&&e.push(o),e}),[]);return this.buildOptimisticAttachments(t)}doUpload(e,t,o){var r,n;const{trackId:i}=e;null==(r=(n=o).onUploadStart)||r.call(n,[i]),this.upload(e,t).then((e=>(this.uploads.set(i,{process:e,handlers:o}),this.trackProgress(i,(({loaded:e,total:t})=>this.updateAttachProgress(i,{loaded:e,total:t,error:!1,abortable:e!==t},o))),Promise.resolve(e.response).then((e=>{var t,r;const n=this.modifyUploadedAttach(i,e),s=new Map(n?[[i,n]]:[]);null==(t=(r=o).onUploadFinish)||t.call(r,s),this.state.remove([i])})).catch((e=>e instanceof s.IUploader.AbortError?Promise.resolve():Promise.reject(e))).finally((()=>{this.uploads.delete(i)}))))).catch((r=>{var n,s;console.error("[UPLOADER] Ошибка загрузки",r),null==(n=(s=o).onError)||n.call(s,i),this.failedUploads.set(i,{file:e,messengerData:t,handlers:o}),this.updateAttachProgress.call(this,i,{loaded:0,total:0,error:!0,abortable:!1},o)}))}toUploaderFileInfo(e,{asFiles:t,asVoice:o,asChatPhoto:n,asOwnerPhoto:i,asChannelPhoto:s}){var a=this;return(0,r._)((function*(){if(!(e instanceof File)){if(!o)throw new Error("Загрузить аудиосообщения можно только с флагом asVoice");const{blob:t,duration:r,waveform:n}=e,i=new File([t],"voice_recording",{type:"audio/ogg"}),s=k.toFileInfo(i,"voice"),c=yield function(e,t,o,r){return Promise.resolve({kind:"OptimisticVoice",id:e.trackId,blob:t,duration:o,waveform:r,loaded:0,total:e.file.size})}(s,t,r,n);return a.state.update(s.trackId,c),s}const r=e;if(n)return k.toFileInfo(r,"chat-photo");if(i)return k.toFileInfo(r,"owner-photo");if(s)return k.toFileInfo(r,"channel-photo");if(!t&&w(r)){const e=k.toFileInfo(r,"image"),t=yield function(e){return T.apply(this,arguments)}(e);return a.state.update(e.trackId,t),e}if(!t&&S(r)){const e=k.toFileInfo(r,"video"),t=yield function(e){return N.apply(this,arguments)}(e);return a.state.update(e.trackId,t),e}if(!t&&A(r)){const e=k.toFileInfo(r,"audio"),t=yield(c=e,new Promise((e=>{const t=new Audio,o=URL.createObjectURL(c.file);t.addEventListener("loadedmetadata",(()=>{e({kind:"OptimisticAudio",id:c.trackId,duration:t.duration,artist:"",title:c.file.name,loaded:0,total:c.file.size})})),t.src=o})));return a.state.update(e.trackId,t),e}var c;const l=k.toFileInfo(r,"doc"),d=yield function(e){return O.apply(this,arguments)}(l);return a.state.update(l.trackId,d),l}))()}modifyUploadedAttach(e,t){var o;if(!t)return null;const r=this.state.get(e);let s=t;if("Video"===t.kind&&"OptimisticVideo"===(null==(o=r)?void 0:o.kind)){const e=!!r.duration,o=r.image.url!==i.emptyPreview,a=t.image.length>1||t.image[0].url!==i.emptyPreview;e&&o&&!a&&(s=(0,n._)({},t,{duration:r.duration,image:[r.image]}))}return s}updateAttachProgress(e,t,{onUploadProgressUpdate:o}){this.state.update(e,(e=>{if(e){switch(e.kind){case"OptimisticPhoto":var r;null==(r=o)||r("photo");break;case"OptimisticVideo":var i;null==(i=o)||i("video");break;case"OptimisticDoc":var s;null==(s=o)||s("file")}return(0,n._)({},e,t)}}))}buildOptimisticAttachments(e){return e.reduce(((e,t)=>{const o=[],r=[],n=[],i=[];switch(t.kind){case"OptimisticPhoto":o.push(t);break;case"OptimisticVideo":r.push(t);break;case"OptimisticAudio":n.push(t);break;case"OptimisticDoc":i.push(t);break;case"OptimisticVoice":e.voice=t}return o.length&&(e.photos=[...e.photos||[],...o]),r.length&&(e.videos=[...e.videos||[],...r]),n.length&&(e.audios=[...e.audios||[],...n]),i.length&&(e.docs=[...e.docs||[],...i]),e}),{})}static clearOptimisticAttachments(e,t){t.forEach((t=>{if("photos"in e){if(!e.photos)return;const o=(0,a.toNonEmpty)(e.photos.filter((({id:e})=>e!==t)));o?e.photos=o:delete e.photos}if("videos"in e){if(!e.videos)return;const o=(0,a.toNonEmpty)(e.videos.filter((({id:e})=>e!==t)));o?e.videos=o:delete e.videos}if("audios"in e){if(!e.audios)return;const o=(0,a.toNonEmpty)(e.audios.filter((({id:e})=>e!==t)));o?e.audios=o:delete e.audios}if("docs"in e){if(!e.docs)return;const o=(0,a.toNonEmpty)(e.docs.filter((({id:e})=>e!==t)));o?e.docs=o:delete e.docs}"voice"in e&&delete e.voice}))}static buildAttachments(e){return e.reduce(((e,t)=>(0,d.produce)(e,(o=>{var r,n,i,s;let c=null,l=null,d=null,u=null;switch(t.kind){case"Photo":c=(0,a.toNonEmpty)([t]);break;case"Video":l=(0,a.toNonEmpty)([t]);break;case"Audio":d=(0,a.toNonEmpty)([t]);break;case"Doc":u=(0,a.toNonEmpty)([t]);break;case"Voice":o.voice=t}(null==(r=c)?void 0:r.length)&&(o.photos=[...e.photos||[],...c]),(null==(n=l)?void 0:n.length)&&(o.videos=[...e.videos||[],...l]),(null==(i=d)?void 0:i.length)&&(o.audios=[...e.audios||[],...d]),(null==(s=u)?void 0:s.length)&&(o.docs=[...e.docs||[],...u])}))),{})}static hash(){return Math.floor(1e8*Math.random()+1e8).toString(16)}static resolveTrackId(e,t){if(0===t.length)throw new Error("Нельзя отдавать пустую строку в Uploader.resolveTrackId");return`${e}-${t}`}static toFileInfo(e,t){switch(t){case"image":return{kind:"image",trackId:k.resolveTrackId("image",k.hash()),file:e};case"video":return{kind:"video",trackId:k.resolveTrackId("video",k.hash()),file:e};case"audio":return{kind:"audio",trackId:k.resolveTrackId("audio",k.hash()),file:e};case"doc":return{kind:"doc",trackId:k.resolveTrackId("doc",k.hash()),file:e};case"voice":return{kind:"voice",trackId:k.resolveTrackId("voice",k.hash()),file:e};case"chat-photo":return{kind:"chat-photo",trackId:k.resolveTrackId("chat-photo",k.hash()),file:e};case"owner-photo":return{kind:"owner-photo",trackId:k.resolveTrackId("owner-photo",k.hash()),file:e};case"channel-photo":return{kind:"channel-photo",trackId:k.resolveTrackId("channel-photo",k.hash()),file:e};default:(0,a.exhaustivenessCheck)(t)}}constructor(...e){super(...e),this.uploads=new Map,this.failedUploads=new Map,this.state=new y}}class E{addListener(e,t){this.map.set(e,[...this.map.get(e)||[],t])}removeListener(e){this.map.delete(e)}emit(e,t){var o;null==(o=this.map.get(e))||o.forEach((e=>e(t)))}constructor(){this.map=new Map}}function w(e){return!(e instanceof DataTransferItem&&"file"!==e.kind)&&Boolean(e.type&&u.includes(e.type))}function C(e){return e.every(w)}function S(e){return!(e instanceof DataTransferItem&&"file"!==e.kind)&&(e instanceof File&&!e.type?/\.wmv$|\.avi$/.test(e.name):Boolean(e.type&&h.includes(e.type)))}function I(e){return e.every(S)}function A(e){return!(e instanceof DataTransferItem&&"file"!==e.kind)&&Boolean(e.type&&m.includes(e.type))}function x(e){return e.every(A)}function M(e){const t=URL.createObjectURL(e);return new Promise(((e,o)=>{const r=new Image;r.onload=()=>{e({url:t,width:r.width,height:r.height})},r.onerror=o,r.src=t}))}function R(e){return new Promise(((t,o)=>{const r=document.createElement("video");r.volume=0,r.preload="metadata",r.onloadedmetadata=()=>t(r),r.onerror=o,r.src=e}))}function P(){return(P=(0,r._)((function*(e){function t(e,t){return new Promise(((o,r)=>{e.onseeked=()=>{e.videoWidth&&e.videoHeight||o(void 0);const t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;const r=t.getContext("2d");r?(r.drawImage(e,0,0),o(t.toDataURL("image/jpeg"))):o(void 0)},e.onerror=r,e.currentTime=t}))}try{return t(e,.5*e.duration)}catch(i){var o,r,n;if("string"==typeof i||!(i instanceof Event))return Promise.reject(i);const s=null==(o=i.composedPath())?void 0:o[0];if(!(s instanceof HTMLVideoElement)||4!==(null==(n=s)||null==(r=n.error)?void 0:r.code))return Promise.reject(i);return t(yield R(e.src),Math.min(e.duration,1))}}))).apply(this,arguments)}function T(){return(T=(0,r._)((function*(e){const t=yield M(e.file);return{kind:"OptimisticPhoto",id:e.trackId,image:t,loaded:0,total:e.file.size}}))).apply(this,arguments)}function N(){return N=(0,r._)((function*(e){var t,o,r;let n=null,s=i.emptyPreview;try{n=yield(a=e.file,R(URL.createObjectURL(a))),s=(yield function(e){return P.apply(this,arguments)}(n))||i.emptyPreview}catch(e){}var a;return{kind:"OptimisticVideo",id:e.trackId,duration:Math.floor((null==(t=n)?void 0:t.duration)||0),loaded:0,total:e.file.size,image:{url:s,width:(null==(o=n)?void 0:o.videoWidth)||1,height:(null==(r=n)?void 0:r.videoHeight)||1}}})),N.apply(this,arguments)}function O(){return(O=(0,r._)((function*(e){var t;const o=/\.([0-9a-z]+)$/i.exec(e.file.name),r={kind:"OptimisticDoc",id:e.trackId,title:e.file.name,size:e.file.size,ext:(null==(t=o)?void 0:t[1])||"",loaded:0,total:e.file.size};if(w(e.file)){const t=yield M(e.file);return(0,n._)({},r,{image:t})}return r}))).apply(this,arguments)}function j(e){return!!e.targetPeerId&&l.isChannelId(e.targetPeerId)&&!!e.isChannel}function L(e,t){return!!e&&l.isChannelId(e)&&!!t}function D(e,t){return!!e&&!l.isChannelId(e)||!t}const K=4,H=200},850989:(e,t,o)=>{"use strict";o.d(t,{addDelegateEvent:()=>a,removeDelegateEvent:()=>c});var r=o(795558),n=o(953908);let i=new window.Map;function s(e){let t=i.get(e.currentTarget);if(!t)return;let o,n=t[e.type];if(n)for(let t=0;t<n.length;t++){let i,[s,a]=n[t];if((0,r.hasClass)(e.target,s)?i=a(e,e.target):(o=(0,r.gpeByClass)(s,e.target,e.currentTarget))&&(i=a(e,o)),!1===i)break}}function a(e,t,o,r,a){let c=i.get(e);c||(i.set(e,{}),c=i.get(e));let l=t.split(" ");for(let t=0;t<l.length;t++){let i=l[t];c[i]||(c[i]=[],a?(0,n.addEvent)(e,i,s,!1,!1,a):(0,n.addEvent)(e,i,s)),c[i].push([o,r])}}function c(e,t,o,r){let a=i.get(e);if(!a)return;t.split(" ").forEach((t=>{a[t]&&(a[t]=a[t].filter((e=>e[0]!==o||e[1]!==r)),0===a[t].length&&(0,n.removeEvent)(e,t,s))}));0===Object.keys(a).map((e=>a[e].length)).reduce(((e,t)=>e+t))&&i.delete(e)}},2914:(e,t,o)=>{"use strict";o.d(t,{createScroll:()=>l,getNativeOption:()=>i});var r=o(15080),n=o(438221);function i(e,t){return document.body[e]||document.documentElement[e]}class s{update(){}resize(){this.innerHeight=window.innerHeight}scrollTop(e){if(void 0===e)return i("scrollTop",this.el);!function(e,t,o){"scrollTop"===e&&window.scrollTo(0,t)}("scrollTop",e,this.el)}contHeight(){return i("scrollHeight")}smoothScroll(e){(0,n.scrollToY)(e+this.scrollTop(),300)}getContainer(){return this.el}getScroller(){return null}scrollBottom(e){if(void 0===e)return this.contHeight()-this.scrollTop()-this.getScrollHeight();let t=this.contHeight()-e-this.getScrollHeight();this.scrollTop(t)}scrollBottomFixSave(e){let t=Date.now();const o=()=>{Date.now()-t<500&&this.scrollBottom(e),window.removeEventListener("scroll",o)};window.addEventListener("scroll",o),this.scrollBottom(e)}onScroll(e){let t=this.scrollTop(),o=t-this.prevScroll,r=this.contHeight();this.opts.onScroll&&this.opts.onScroll(-o,this),this.opts.scrollChange&&this.opts.scrollChange(t),this.opts.more&&r-t<2*this.innerHeight&&this.opts.more(this),this.prevScroll=t}getScrollHeight(){return this.innerHeight}destroy(){(0,r.destroyModule)(this.module)}constructor(e,t){this.el=e,this.opts=t,this.module=(0,r.createModule)({handlers:(e,t)=>{e(window,"scroll",this.onScroll.bind(this)),e(window,"resize",this.resize.bind(this))}}),this.innerHeight=window.innerHeight,this.prevScroll=this.scrollTop()}}class a{update(){this.scroll.update("sync")}scrollTop(e){return void 0!==e?this.scroll.scrollTop(e):this.scroll.data.scrollTop}getContainer(){return this.scroll.content}getScroller(){return this.scroll.scroller}contHeight(){return this.scroll.data.scrollHeight}smoothScroll(e){this.scroll.scrollTop(this.scrollTop()+e,300)}scrollBottom(e){return void 0!==e?this.scroll.scrollBottom(e):this.scroll.data.scrollBottom}scrollBottomFixSave(e){let t=Date.now();this.scroll.emitter.addOnceListener("resize",(()=>{Date.now()-t<500&&this.scroll&&this.scrollBottom(e)})),this.scrollBottom(e)}getScrollHeight(){return this.scroll.data.viewportHeight}destroy(){this.scroll.destroy()}constructor(e,t){this.prevTop=0,this.scroll=new uiScroll(e,{hidden:void 0===t.hidden||t.hidden,shadows:t.shadows,stopScrollPropagation:!1,theme:t.scrollTheme,onmore:()=>t.more&&t.more(this),onscroll:e=>{const o=this.scrollTop(),r=this.prevTop-o;this.prevTop=o,t.scrollChange&&t.scrollChange(o),t.onScroll&&t.onScroll(r,this)}})}}class c{update(){}getContainer(){return this.el}getScroller(){return null}scrollTop(e){return 0}contHeight(){return 0}smoothScroll(e){}scrollBottom(e){return 0}scrollBottomFixSave(e){}getScrollHeight(){return 0}destroy(){}constructor(e,t){this.el=e}}function l(e,t){return t.noScroll?new c(e):t.nativeScroll?new s(e,t):new a(e,t)}},873004:(e,t,o)=>{"use strict";o.d(t,{Atom:()=>r});class r{set(e,{notify:t=!0}={}){t&&this.base.notify(this.key)}getKey(){return`${this.base.options.storeName}-${this.key}`}constructor({key:e,base:t}){this.key=e,this.base=t}}},131966:(e,t,o)=>{"use strict";o.d(t,{Store:()=>r});class r{subscribe(e,t){const o=this.getListeners(t);return o.add(e),()=>{o.delete(e)}}notify(e,t){this.getListeners(t).forEach((t=>{t(e)}))}refresh(){try{localStorage.setItem(this.key,""),localStorage.removeItem(this.key)}catch(e){}}destroy(){this.listeners.clear(),this.syncListeners.clear(),r.instances.delete(this.key)}get key(){const{dbName:e,storeName:t,version:o}=this.options;return`${e}-v${o}-${t}`}getListeners(e){return e?this.syncListeners:this.listeners}constructor(e){this.listeners=new Set,this.syncListeners=new Set,this.options=e,r.instances.set(this.key,this)}}r.instances=new Map,window.addEventListener("storage",(({key:e,newValue:t})=>{var o;e&&null!==t&&(null==(o=r.instances.get(e))||o.notify())}))},426775:(e,t,o)=>{"use strict";o.d(t,{SyncAtom:()=>i,SyncAtomType:()=>r});var r,n=o(873004);!function(e){e.OBJECT="object",e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.STRING_NUMBER="string_number"}(r||(r={}));class i extends n.Atom{get(){const e=this.getKey();try{let t=localStorage.getItem(e);if(!t)return null;switch(this.type){case r.OBJECT:try{t=JSON.parse(t)}catch(e){return null}break;case r.NUMBER:t=Number(t)||0;break;case r.STRING_NUMBER:t=Number(t)||t;break;case r.BOOLEAN:t=Boolean(Number(t))}return t}catch(t){return console.log(`${e}: Ошибка чтения данных из хранилища`),console.log(t),this.cache||null}}set(e,t){const o=this.getKey();let n;switch(this.type){case r.OBJECT:n=JSON.stringify(e);break;case r.BOOLEAN:n=String(Number(e));break;default:n=String(e)}try{localStorage.setItem(o,n)}catch(t){console.log(`${o}: Не удалось записать данные в хранилище`),console.log(t),this.cache=e}super.set(e,t)}delete(){const e=this.getKey();try{delete this.cache,localStorage.removeItem(e)}catch(t){console.log(`${e}: Ошибка удаления ключа из хранилища`),console.log(t)}}getKey(){return`${this.base.key}-${this.key}`}constructor(e){super(e);const{base:t,type:o}=e;this.base=t,this.type=o}}},380312:(e,t,o)=>{"use strict";o.d(t,{createSyncStore:()=>s});var r=o(131966),n=o(426775);class i extends r.Store{createAtom(e,t){return new n.SyncAtom({key:e,type:t,base:this})}constructor(e){super(e)}}function s(e){return new i(e)}},10887:(e,t,o)=>{"use strict";o.d(t,{LangPackProvider:()=>h});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(667294),c=o(351529),l=o(511143),d=o(310003);const u=new Map;function h(e){var{children:t,suspense:o}=e,h=(0,n._)(e,["children","suspense"]);const m=(0,a.useMemo)((()=>JSON.stringify(h)),[h]),p=(0,s.useUnit)(l.loadPackFx),v=(0,a.useMemo)((()=>{let e=u.get(m);return e||(e=(0,d.wrapSuspense)(p((0,r._)({id:m},h))),u.set(m,e)),e}),[m,h]);return o&&v.read(),(0,i.jsx)(c.LangPackIdProvider,{value:m,children:t})}},310003:(e,t,o)=>{"use strict";var r;function n(e){let t,o=r.PENDING;const n=e.then((e=>{t=e,o=r.SUCCESS})).catch((e=>{t=e,o=r.ERROR}));return{read:()=>{switch(o){case r.SUCCESS:return t;case r.PENDING:throw n;case r.ERROR:throw t}}}}o.d(t,{wrapSuspense:()=>n}),function(e){e.ERROR="error",e.SUCCESS="success",e.PENDING="pending"}(r||(r={}))},535727:(e,t,o)=>{"use strict";o.d(t,{usePatchChildrenRef:()=>s});var r=o(667294),n=o(488543);const i=e=>"string"==typeof e.type,s=e=>{var t;const o=(0,r.isValidElement)(e)&&(i(e)?e.ref:e.props.getRootRef),s=(0,n.useExternRef)(o);return(0,r.useEffect)((()=>{s.current||console.error("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента")}),[null==(t=e)?void 0:t.type,s]),[s,(0,r.isValidElement)(e)?(0,r.cloneElement)(e,{[i(e)?"ref":"getRootRef"]:s}):e]}},366812:(e,t,o)=>{"use strict";o.d(t,{APIProvider:()=>c});var r=o(785893),n=o(667294),i=o(879706),s=o(478748),a=o(744165);function c({userId:e,peerId:t,onAPIRequest:o,children:c}){const[l,d]=(0,n.useReducer)(((e,t)=>(e.cache.destroy(),t)),new s.API({userId:e,peerId:t,onAPIRequest:o}));return(0,n.useEffect)((()=>{const r=new s.API({userId:e,peerId:t,onAPIRequest:o});d(r),r.cache.reload()}),[e,t,o]),(0,n.useEffect)((()=>{if((0,a.isUgcStickersEnabled)())return l.updates.start(),()=>{l.updates.stop()}}),[l]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.APIGate,{api:l}),c]})}},72771:(e,t,o)=>{"use strict";o.d(t,{AvatarSuggestionRow:()=>v});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(86894),c=o(331533),l=o(320054),d=o(976332),u=o(538115),h=o(63767),m=o(578351),p=o(450390);const v=e=>{var t,o,v,f,g,{Component:_}=e,b=(0,n._)(e,["Component"]);const y=(0,a.useAppearance)(),{onVmojiSuggestionClick:k}=(0,m.useStickersKeyboard)(),E=(0,s.useStore)(d.$avatarSuggestion),w=(0,s.useStore)(l.$stickersVerticalGap);if(!k)return null;const C=null==(v=E)||null==(o=v.resources)||null==(t=o.find((e=>e.key===`image_${y}`)))?void 0:t.value,S=null==(f=E)?void 0:f.title,I=null==(g=E)?void 0:g.description;return(0,i.jsx)(_,(0,r._)({style:{"--stickers-vertical-gap":`${w}px`},className:p.default.banner,asideMode:"dismiss",onDismiss:e=>{e.preventDefault(),e.stopPropagation(),(0,u.hideHelpHint)(h.HelpHintIdTypes.VMOJI_AVATAR_SUGGESTION)},onClick:k,mode:"image",imageTheme:"light",before:(0,i.jsx)("div",{className:p.default.placeholder}),background:(0,i.jsx)("div",{className:p.default.character,style:{backgroundImage:`url('${C}')`}}),header:S&&(0,i.jsx)(a.Headline,{level:"1",children:S}),subheader:I&&(0,i.jsx)(a.Paragraph,{children:(0,i.jsx)(c.InnerHTML,{children:I})})},b))}},910682:(e,t,o)=>{"use strict";o.d(t,{Emoji:()=>l});var r=o(434788),n=o(820224),i=o(785893),s=o(659397),a=o(331092),c=o(777459);function l(e){var{emoji:t,className:o}=e,l=(0,n._)(e,["emoji","className"]);return(0,i.jsx)("i",(0,r._)({className:(0,s.classNames)(c.default.emoji,`@${(0,a.unicodeToByteHex)(t)}`,o),"data-emoji":t},l))}},229172:(e,t,o)=>{"use strict";o.d(t,{EmojiItem:()=>l});var r=o(434788),n=o(820224),i=o(785893),s=o(659397),a=o(910682),c=o(808209);function l(e){var{emoji:t,active:o,onEmojiClick:l,className:d,onClick:u}=e,h=(0,n._)(e,["emoji","active","onEmojiClick","className","onClick"]);return(0,i.jsx)("div",(0,r._)({className:(0,s.classNames)(d,c.default.item,{[c.default.itemActive]:o}),onClick:e=>{var o,r;null==(o=u)||o(e),null==(r=l)||r(t)}},h,{children:(0,i.jsx)(a.Emoji,{emoji:t})}))}},17420:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboard:()=>A});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(86894),c=o(906811),l=o(659397),d=o(667294),u=o(88871),h=o(449345),m=o(448011),p=o(363515),v=o(52493),f=o(634273),g=o(210802),_=o(579865),b=o(213916),y=o(609892),k=o(750466),E=o(609571),w=o(486589),C=o(816925),S=o(475423),I=o(473684);function A(e){var{className:t}=e,o=(0,n._)(e,["className"]);const{emojiSections:A,insertEmoji:x}=(0,E.useEmojiKeyboard)(),{bannerPackIndex:M,getAvatarSuggestionEmojiRow:R,avatarSuggestion:P,avatarSuggestionTab:T}=(0,w.useAvatarSuggestion)(),N=(0,s.useStore)(v.$emojiPadding),O=(0,s.useStore)(f.$selectedEmojiPackIndex),j=(0,d.useRef)(null),{setGridRef:L,columns:D}=(0,g.useGrid)({tab:_.Tab.EMOJI,itemWidth:m.EMOJI_SIZE+N}),K=(0,d.useMemo)((()=>{const e=[];return A.forEach((([t,o],r)=>{if(e.push({type:C.EmojiKeyboardElementType.HEADER,element:(0,i.jsx)(p.EmojiKeyboardHeader,{title:t},t),sticky:!0}),!M&&r===O||M===r){const t=R(O);t&&e.push(t)}(0,l.chunkArray)(o,D).forEach(((o,n)=>{e.push({type:C.EmojiKeyboardElementType.ROW,element:(0,i.jsx)(h.EmojiKeyboardRow,{"data-section-index":r,"data-row-index":n,emoji:o,onEmojiClick:x},`${t}${o[0]}`)})}))})),e}),[D,A,P]),H=(0,d.useMemo)((()=>K.reduce(((e,{type:t},o)=>(t===C.EmojiKeyboardElementType.HEADER&&e.push(o),e)),[])),[K]),B=e=>H.includes(e),{rangeExtractor:V,isSticky:F}=(0,b.useSticky)({rows:K}),G=(0,c.useVirtualizer)({overscan:5,rangeExtractor:V,count:K.length,getScrollElement:()=>j.current,estimateSize:()=>m.EMOJI_SIZE});(0,y.useScrollView)(j),(0,k.useKeyboardEvent)({columns:D,virtualizer:G,headerIndexes:H}),(0,S.useCalculateSelectedEmojiPackIndex)(G,H),(0,d.useEffect)((()=>{null!==M&&T===_.Tab.EMOJI&&H[M]&&G.scrollToIndex(H[M],{align:"start",behavior:"auto"})}),[M]);const U=G.getVirtualItems().filter(Boolean);return(0,i.jsx)(u.ViewItem,(0,r._)({getRef:L,className:(0,l.classNames)(I.default.keyboard,t),style:{"--emoji-size":`${m.EMOJI_SIZE}px`,"--emoji-padding":`${N}px`,"--emoji-columns":D}},o,{children:(0,i.jsx)(a.CustomScrollView,{boxRef:j,className:I.default.scroll,autoHideScrollbar:!0,children:(0,i.jsx)("div",{className:I.default.in,style:{height:G.getTotalSize()},children:U.map((({key:e,index:t,start:o})=>(0,i.jsx)("div",{"data-index":t,ref:G.measureElement,className:(0,l.classNames)(I.default.item,{[I.default.itemHeader]:B(t)}),style:F(t)?{position:"sticky"}:{position:"absolute",transform:`translateY(${o}px)`},children:K[t].element},e)))})})}))}},750466:(e,t,o)=>{"use strict";o.d(t,{useKeyboardEvent:()=>d});var r,n=o(667294),i=o(504190),s=o(765998),a=o(41045),c=o(609571);!function(e){e.ENTER="Enter",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight"}(r||(r={}));const l=Object.values(r);function d({columns:e,virtualizer:t,headerIndexes:o}){var d,u;const{emojiSections:h,insertEmoji:m}=(0,c.useEmojiKeyboard)(),p=(0,i.useStore)(s.$isVisible),v=(0,i.useStore)(a.$selectedEmoji),f=(null==(d=v)?void 0:d.emojiIndex)||0,g=(null==(u=v)?void 0:u.sectionIndex)||0,_=Math.floor(f/e),b=(e,r)=>{const n=o[g]+_;t.scrollToIndex(n,{align:"center",behavior:"auto"}),(0,a.setSelectedEmoji)({sectionIndex:e,emojiIndex:r})};(0,n.useEffect)((()=>{if(!p)return;const t=t=>{const{key:o}=t,n=v;if(l.includes(o))if((e=>{e.preventDefault(),e.stopPropagation()})(t),n)switch(o){case r.ENTER:{var i;if(!v)return;const{sectionIndex:e,emojiIndex:t}=v,o=null==(i=h[e])?void 0:i[1][t];return void(o&&m(o))}case r.ARROW_UP:if(!v)return;if(Number(n.emojiIndex)>=e)return void b(n.sectionIndex,n.emojiIndex-e);if(n.sectionIndex){var s;const t=(null==(s=h[n.sectionIndex-1])?void 0:s[1].length)||0;if(t){const o=n.emojiIndex%e,r=t-1,i=r%e,s=r-r%e+Math.min(o,i);b(n.sectionIndex-1,s)}}return;case r.ARROW_DOWN:{var a;const t=(null==(a=h[n.sectionIndex])?void 0:a[1].length)||0;return n.emojiIndex-n.emojiIndex%e!=t-1-(t-1)%e?void b(n.sectionIndex,Math.min(n.emojiIndex+e,t-1)):void(n.sectionIndex!==h.length-1&&b(n.sectionIndex+1,n.emojiIndex%e))}case r.ARROW_LEFT:if(n.emojiIndex)return void b(n.sectionIndex,n.emojiIndex-1);if(n.sectionIndex){var c;const e=(null==(c=h[n.sectionIndex-1])?void 0:c[1].length)||0;e&&b(n.sectionIndex-1,e-1)}return;case r.ARROW_RIGHT:{var d;const e=(null==(d=h[n.sectionIndex])?void 0:d[1].length)||0;return n.emojiIndex!==e-1?void b(n.sectionIndex,n.emojiIndex+1):void(n.sectionIndex!==h.length-1&&b(n.sectionIndex+1,0))}}else b(0,0)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[p,v,h])}},816925:(e,t,o)=>{"use strict";var r;o.d(t,{EmojiKeyboardElementType:()=>r}),function(e){e.ROW="row",e.HEADER="header"}(r||(r={}))},363515:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboardHeader:()=>m});var r=o(434788),n=o(820224),i=o(785893),s=o(86894),a=o(504190),c=o(659397),l=o(548499),d=o(850286),u=o(791677);const h={[d.StickerEmojiKeyboardVariant.WIDE]:u.default.headerWide,[d.StickerEmojiKeyboardVariant.COMPACT]:u.default.headerCompact,[d.StickerEmojiKeyboardVariant.REGULAR]:u.default.headerRegular,[d.StickerEmojiKeyboardVariant.ADAPTIVE]:u.default.headerAdaptive};function m(e){var{title:t,className:o}=e,m=(0,n._)(e,["title","className"]);const{translate:p}=(0,l.useLangPack)(),v=(0,a.useStore)(d.$variant);return(0,i.jsx)("div",(0,r._)({"data-header":!0,className:(0,c.classNames)(u.default.header,h[v],o)},m,{children:(0,i.jsx)(s.Subhead,{className:u.default.title,weight:"3",children:p(t)})}))}},448011:(e,t,o)=>{"use strict";o.d(t,{EMOJI_SIZE:()=>v,EmojiKeyboardProvider:()=>f});var r=o(11010),n=o(434788),i=o(820224),s=o(785893),a=o(504190),c=o(667294),l=o(298995),d=o(765998),u=o(563431),h=o(41045),m=o(74779),p=o(609571);const v=16;function f(e){var{onEmojiInsert:t}=e,o=(0,i._)(e,["onEmojiInsert"]);const v=(0,m.useAPI)(),f=(0,a.useStore)(d.$isVisible),g=e=>e?e.sort((([,e],[,t])=>t-e)).map((([e])=>e)):[],[_,b]=(0,c.useState)(Object.entries((0,n._)({stickers_picker_recently_used:g(v.cache.recentEmoji.get())},l.sections))),y=_.filter((([,e])=>e.length)),k=(0,r._)((function*(){const e=v.cache.recentEmoji.get();e&&((0,u.setRecentEmoji)(e),b((t=>(t[0][1]=g(e),t))))}));return(0,c.useEffect)((()=>{f||(k(),(0,h.setSelectedEmoji)(null))}),[v,f]),(0,s.jsx)(p.EmojiKeyboardContext.Provider,(0,n._)({value:{emojiSections:y,onEmojiInsert:t}},o))}},298995:(e,t,o)=>{"use strict";o.d(t,{sections:()=>r});const r={stickers_picker_emotions:["😀","😃","😄","😁","😅","😆","😂","🤣","😉","😊","☺","🙂","🙃","😇","😗","😙","😚","😘","😍","🥰","🤩","🤗","😋","😜","🤪","😛","😝","🤑","🤭","🤐","🤫","😶","🤔","🤨","🧐","😐","😑","🙄","😬","🤥","😏","😌","🤤","😴","🤓","😎","🥳","🤠","😒","😔","😪","😕","😟","🙁","☹","😮","😯","😲","😳","🥺","😦","😧","😨","😰","😥","😢","😭","😱","😖","😣","😞","😓","😩","😫","😷","🤒","🤕","🤢","🤮","🤧","🥶","🥵","🥴","😵","🤯","😤","😠","😡","🤬","😈","👿","💀","☠","💩","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","🦠"],stickers_picker_gestures_and_people:["👍","👎","👌","✌","🤞","🤟","🤘","🤙","🖕","✊","👊","🤛","🤜","👈","👉","👆","👇","☝","👋","🤚","🖐","✋","🖖","👏","🙌","👐","🤲","🤝","🙏","💪","🦵","🦶","👂","👃","🧠","🦷","🦴","👀","👁","👅","👄","✍","💅","🤳","👫","👭","👬","👩‍❤️‍💋‍👨","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👩‍❤️‍👨","👨‍❤️‍👨","👩‍❤️‍👩","👪","👶","🧒","👦","👧","🧑","👱","👨","🧔","👱‍♂️","👨‍🦰","👨‍🦱","👨‍🦳","👨‍🦲","👩","👱‍♀️","👩‍🦰","👩‍🦱","👩‍🦳","👩‍🦲","🧓️","🙍‍♂️️","🙍‍♀️️","🙎‍♂️","🙎‍♀️️","🙅‍♂️","🙅‍♀️","🙆‍♂️","🙆‍♀️","💁‍♂️","💁‍♀️️","🙋‍♂️","🙋‍♀️️","🙇‍♂️","🙇‍♀️️","🤦‍♂️","🤦‍♀️","🤷‍♂️","🤷‍♀️","💆‍♂️️","💆‍♀️","💇‍♂️️","💇‍♀️","🚶‍♂️️","🚶‍♀️️","🏃‍♂️️","🏃‍♀️","💃","🕺","🕴️","👯‍♂️️","👯‍♀️","🧖‍♂️","🧖‍♀️️","👼","🎅","🤶","🦸‍♂️","🦸‍♀️","🦹‍♂️","🦹‍♀️","🧙‍♂️","🧙‍♀️","🧚‍♂️","🧚‍♀️","🧛‍♂️","🧛‍♀️","🧜‍♂️","🧜‍♀️","🧝‍♂️","🧝‍♀️","🧞‍♂️","🧞‍♀️","🧟‍♂️","🧟‍♀️","👨‍⚕️","👩‍⚕️","👨‍🎓","👩‍🎓","👨‍🏫","👩‍🏫","👨‍⚖️","👩‍⚖️","👨‍🌾","👩‍🌾","👨‍🍳","👩‍🍳","👨‍🔧","👩‍🔧","👨‍🏭","👩‍🏭","👨‍💼","👩‍💼","👨‍🔬","👩‍🔬","👨‍💻","👩‍💻","👨‍🎤","👩‍🎤","👨‍🎨","👩‍🎨","👨‍✈️","👩‍✈️","👨‍🚀","👩‍🚀","👨‍🚒","👩‍🚒","👮‍♂️","👮‍♀️","🕵️‍♂️","🕵️‍♀️","💂‍♂️","💂‍♀️","👷‍♂️","👷‍♀️","🤴","👸","👳‍♂️","👳‍♀️","👲","🧕","🤵","👰","🤰","🤱","🛀","🛌"],stickers_picker_symbols:["💋","❤","💔","❣","💘","💝","💖","💗","💓","💞","💕","💟","💜","🧡","💛","💚","💙","🖤","💯","💢","💥","💫","🕳","💣","💬","👁️‍🗨️","🗨","🗯","💭","💤","🗣","👤","👥","👣","🔇","🔊","📢","📣","🔔","🔕","🎼","🎵","🎶","⚠","🚸","☢","☣","🆚","🆓","🆕","🚮","🚾","🚭","✅","♻","⚕","🔱","‼","⁉","❓","❗","🆘","⛔","🚫","🚳","🚯","🚱","🚷","📵","🔞"],stickers_picker_animals_and_plants:["🐵","🐒","🦍","🐶","🐕","🐩","🐺","🦊","🦝","🐱","🐈","🦁","🐯","🐅","🐆","🐴","🐎","🦄","🦓","🦌","🐮","🐂","🐃","🐄","🐷","🐽","🐖","🐗","🐏","🐑","🐐","🐪","🐫","🦙","🦒","🐘","🦏","🦛","🐭","🐁","🐀","🐹","🐰","🐇","🐿","🦔","🦇","🐻","🐨","🐼","🦘","🦡","🐾","🦃","🐔","🐓","🐣","🐤","🐥","🐦","🐧","🕊","🦅","🦆","🦢","🦉","🦚","🦜","🐸","🐊","🐢","🦎","🐍","🐲","🐉","🦕","🦖","🐳","🐋","🐬","🐟","🐠","🐡","🦈","🐙","🦀","🦞","🦐","🦑","🐚","🐌","🦋","🐛","🐜","🐝","🐞","🦗","🕷","🕸","🦂","🦟","💐","🌸","💮","🏵","🌹","🥀","🌺","🌻","🌼","🌷","🌳","🌲","🎄","🌴","🌵","🌾","🌱","🌿","☘","🍀","🍁","🍂","🍃","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌡","☀","🌝","🌞","⭐","🌟","🌠","☁","⛅","⛈","🌤","🌥","🌦","🌧","🌨","🌩","🌪","🌫","🌬","💨","🌀","🌈","🌂","☂","☔","⛱","⚡","❄","☃","⛄","☄","🔥","💦","💧","🌊"],stickers_picker_food_and_drink:["🍏","🍎","🍐","🍅","🥝","🍑","🍒","🍓","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🥭","🥥","🥑","🍆","🥔","🥕","🌽","🌶","🥒","🥬","🥦","🍄","🥜","🌰","🍞","🥐","🥖","🥨","🥯","🥞","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🥙","🥚","🍳","🥘","🍲","🥣","🥗","🍿","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🥤","🥢","🍽","🍴","🥄"],stickers_picker_sport_and_activities:["⚽","⚾","🥎","🏀","🏐","🏈","🏉","🎾","🥏","🎳","🏏","🏑","🏒","🥍","🏓","🏸","🥊","🥋","🥅","⛳","⛸","🎣","🎽","🛹","🎿","🛷","🥌","🎯","🎱","🎮","🕹","🎰","🎲","🧩","♟","🧗‍♂️️","🧗‍♀️","🤺","🏇","⛷","🏂","🏌️‍♂️","🏌️‍♀️","🏄‍♂️","🏄‍♀️","🚣‍♂️","🚣‍♀️","🏊‍♂️","🏊‍♀️","⛹️‍♂️","⛹️‍♀️","🏋️‍♂️","🏋️‍♀️","🚴‍♂️","🚴‍♀️","🚵‍♂️","🚵‍♀️","🤸","🤼‍♂️","🤼‍♀️","🤽‍♂️","🤽‍♀️","🤾‍♂️","🤾‍♀️","🤹‍♂️","🤹‍♀️","🧘‍♂️","🧘‍♀️","🎖","🏆","🏅","🥇","🥈","🥉"],stickers_picker_travel_and_transport:["🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚝","🚞","🚋","🚌","🚍","🚎","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🏎","🏍","🛵","🚲","🛴","🚏","🛣","🛤","🛢","⛽","🚨","🚥","🚦","🛑","🚧","⚓","⛵","🛶","🚤","🛳","⛴","🛥","🚢","✈","🛩","🛫","🛬","💺","🚁","🚟","🚠","🚡","🛰","🚀","🛸","🌍","🌎","🌏","🌐","🗺","🗾","🧭","🏔","⛰","🌋","🗻","🏕","🏖","🏜","🏝","🏞","🏟","🏛","🏗","🧱","🏘","🏚","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏨","🏩","🏪","🏫","🏬","🏭","🏯","🏰","💒","🗼","🗽","⛪","🕌","🕍","⛩","🕋","⛲","⛺","🌁","🌃","🏙","🌄","🌅","🌆","🌇","🌉","♨","🌌","🎠","🎡","🎢","💈","🎪"],stickers_picker_subjects:["🎙","🎚","🎛","🎤","🎧","📻","🎷","🎸","🎹","🎺","🎻","🥁","📯","🎭","🖼","🎨","🧵","🧶","🔮","🧿","🧸","🃏","🀄","🎴","🎃","🎆","🎇","🧨","✨","🎈","🎉","🎊","🎋","🎍","🎎","🎏","🎐","🎑","🧧","🎀","🎁","🎗","🎟","🎫","🛎","🧳","⌛","⏳","⌚","⏰","⏱","⏲","🕰","👓","🕶","🥽","🥼","👔","👕","👖","🧣","🧤","🧥","🧦","👗","👘","👙","👚","👛","👜","👝","🛍","🎒","👞","👟","🥾","🥿","👠","👡","👢","👑","👒","🎩","🎓","🧢","⛑","📿","💄","💍","💎","📱","📲","☎","📞","📟","📠","🔋","🔌","💻","🖥","🖨","⌨","🖱","🖲","💽","💾","💿","📀","🧮","🎥","🎞","📽","🎬","📺","📷","📸","📹","📼","🔍","🔎","🕯","💡","🔦","🏮","📔","📕","📖","📗","📘","📙","📚","📓","📒","📃","📜","📄","📰","🗞","📑","🔖","🏷","💰","💴","💵","💶","💷","💸","💳","🧾","💹","💱","💲","✉","💌","📧","📨","📩","📤","📥","📦","📫","📪","📬","📭","📮","🗳","✏","✒","🖋","🖊","🖌","🖍","📝","💼","📁","📂","🗂","📅","📆","🗒","🗓","📇","📈","📉","📊","📋","📌","📍","📎","🖇","📏","📐","✂","🗃","🗄","🗑","🔒","🔓","🔏","🔐","🔑","🗝","🔨","⛏","⚒","🛠","🗡","⚔","🔪","🔫","🏹","🛡","🔧","🔩","⚙","🗜","⚖","🔗","⛓","🧰","🧲","⚗","🧪","🧫","🧬","🔬","🔭","📡","💉","💊","🚪","🛏","🛋","🚽","🚿","🛁","🧴","🧷","🧹","🧺","🧻","🧼","🧽","🧯","🛒","🚬","⚰","⚱","🏺","🗿"],stickers_picker_flags:["🇷🇺","🇰🇿","🇧🇾","🇺🇦","🇲🇳","🇬🇪","🇦🇿","🇹🇯","🇧🇷","🇱🇹","🇱🇻","🇪🇪","🇦🇲","🏁","🚩","🎌","🏴","🏳","🏳️‍🌈","🏴‍☠️","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇨","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇺","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇬","🇺🇲","🇺🇳","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼"]}},449345:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboardRow:()=>v,rowVariantModifier:()=>p});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(659397),c=o(667294),l=o(229172),d=o(41045),u=o(850286),h=o(609571),m=o(327503);const p={[u.StickerEmojiKeyboardVariant.WIDE]:m.default.rowWide,[u.StickerEmojiKeyboardVariant.COMPACT]:m.default.rowCompact,[u.StickerEmojiKeyboardVariant.REGULAR]:m.default.rowRegular,[u.StickerEmojiKeyboardVariant.ADAPTIVE]:m.default.rowAdaptive};function v(e){var t,o,{emoji:v,onEmojiClick:f,className:g}=e,_=(0,n._)(e,["emoji","onEmojiClick","className"]);const{emojiSections:b}=(0,h.useEmojiKeyboard)(),y=(0,s.useStore)(u.$variant),k=(0,s.useStore)(d.$selectedEmoji),E=null==(t=k)?void 0:t.emojiIndex,w=null==(o=k)?void 0:o.sectionIndex,C=void 0!==E&&void 0!==w?b[w][1][E]:void 0,S=(0,c.useMemo)((()=>v.map((e=>(0,i.jsx)(l.EmojiItem,{className:m.default.emoji,emoji:e,active:e===C,onEmojiClick:f},e)))),[v,C,f]);return(0,i.jsx)("div",(0,r._)({className:(0,a.classNames)(m.default.row,p[y],g)},_,{children:S}))}},598750:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboardRowBanner:()=>u});var r=o(434788),n=o(820224),i=o(785893),s=o(659397),a=o(86894),c=o(504190),l=o(850286),d=o(449345);const u=e=>{var{className:t}=e,o=(0,n._)(e,["className"]);const u=(0,c.useStore)(l.$variant);return(0,i.jsx)("div",{className:(0,s.classNames)(t,d.rowVariantModifier[u]),children:(0,i.jsx)(a.Banner,(0,r._)({noPadding:!0},o))})}},258838:(e,t,o)=>{"use strict";o.d(t,{PeerProvider:()=>u});var r=o(11010),n=o(504190),i=o(723062),s=o(667294),a=o(158345),c=o(733477),l=o(173235),d=o(74779);function u({children:e}){const t=(0,d.useAPI)(),o=(0,n.useStore)(a.$peerId),u=(0,r._)((function*(){const e=yield t.users.get({user_ids:String(o),fields:String(["photo_50","first_name_gen"])}).then((e=>e[0])).catch((()=>{}));e&&(0,l.setUserPeer)(e)})),h=(0,r._)((function*(){const e=yield t.messages.getConversationsById({peer_ids:String(o)}).then((({items:e})=>e[0])).catch((()=>{}));e&&(0,c.setChatPeer)(e)}));return(0,s.useEffect)((()=>{(0,l.setUserPeer)(null),(0,c.setChatPeer)(null),o&&(i.Ranges.isChatOrChannelPeer(o)?h():i.Ranges.isUserId(o)&&u())}),[o]),e}},315108:(e,t,o)=>{"use strict";o.d(t,{Skeleton:()=>s});var r=o(785893),n=o(659397),i=o(792704);function s({width:e,height:t,borderRadius:o,className:s}){return(0,r.jsx)("div",{className:(0,n.classNames)(i.default.skeleton,s),style:{width:e,height:t,borderRadius:o}})}},51715:(e,t,o)=>{"use strict";o.d(t,{StickersEmojiKeyboard:()=>P});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(659397),c=o(667294),l=o(272125),d=o(869048),u=o(960644),h=o(10887),m=o(461541),p=o(404976),v=o(366812),f=o(258838),g=o(17420),_=o(348421),b=o(448011),y=o(782089),k=o(239065),E=o(158345),w=o(717326),C=o(765998),S=o(147611),I=o(699611),A=o(850286),x=o(74779),M=o(419928);const R={[A.StickerEmojiKeyboardVariant.WIDE]:M.default.keyboardWide,[A.StickerEmojiKeyboardVariant.COMPACT]:M.default.keyboardCompact,[A.StickerEmojiKeyboardVariant.REGULAR]:M.default.keyboardRegular,[A.StickerEmojiKeyboardVariant.ADAPTIVE]:M.default.keyboardAdaptive};function P(e){var{lang:t,userId:o,peerId:s,variant:a,isVisible:c,visibleTab:l,onAPIRequest:d,activePackKey:u,onTabChange:m,onShopClick:p,onEmojiInsert:g,onStickerSend:_,onUGCEditClick:w,onUGCReportClick:x,onVmojiEditClick:M,onVmojiCreateClick:R,onStockItemGiftClick:P,onStockItemSettingsClick:N,onVmojiSuggestionClick:O}=e,j=(0,n._)(e,["lang","userId","peerId","variant","isVisible","visibleTab","onAPIRequest","activePackKey","onTabChange","onShopClick","onEmojiInsert","onStickerSend","onUGCEditClick","onUGCReportClick","onVmojiEditClick","onVmojiCreateClick","onStockItemGiftClick","onStockItemSettingsClick","onVmojiSuggestionClick"]);return(0,i.jsxs)(h.LangPackProvider,{name:"stickers_picker",domain:"vk.com",lang:t,suspense:!1,children:[(0,i.jsx)(E.PeerGate,{peerId:s}),(0,i.jsx)(A.VariantGate,{variant:a}),(0,i.jsx)(C.VisibleGate,{isVisible:c}),(0,i.jsx)(S.VisibleTabGate,{visibleTab:l}),(0,i.jsx)(I.ActivePackKeyGate,{activePackKey:u}),(0,i.jsx)(v.APIProvider,{userId:o,peerId:s,onAPIRequest:d,children:(0,i.jsx)(f.PeerProvider,{children:(0,i.jsx)(k.StickersEmojiKeyboardProvider,{onTabChange:m,onShopClick:p,children:(0,i.jsx)(y.StickersKeyboardProvider,{onUGCReportClick:x,onStickerSend:_,onUGCEditClick:w,onVmojiEditClick:M,onVmojiCreateClick:R,onStockItemGiftClick:P,onStockItemSettingsClick:N,onVmojiSuggestionClick:O,children:(0,i.jsx)(b.EmojiKeyboardProvider,{onEmojiInsert:g,children:(0,i.jsx)(T,(0,r._)({},j))})})})})})]})}function T(e){var{className:t}=e,o=(0,n._)(e,["className"]);const h=(0,x.useAPI)(),v=(0,s.useStore)(A.$variant),f=(0,s.useStore)(S.$visibleTab),{isStickersActiveTab:b}=(0,s.useStore)(w.$tabbarActiveTabState),{isEmojiVisibleTab:y,isStickersVisibleTab:k}=(0,s.useStore)(S.$visibleTabState),E=(0,c.useRef)(null);return(0,c.useEffect)((()=>{l.LottieManager.init()}),[]),(0,i.jsx)(u.HelpHintsProvider,{api:h,noToken:!0,children:(0,i.jsx)(d.AppRootProvider,{portalRoot:E,children:(0,i.jsx)("div",(0,r._)({ref:E,className:(0,a.classNames)(t,M.default.keyboard,R[v])},o,{children:(0,i.jsxs)("div",{className:M.default.in,children:[(0,i.jsxs)(m.View,{switched:b&&!f,children:[(0,i.jsx)(g.EmojiKeyboard,{mounted:!f||y}),(0,i.jsx)(_.StickersKeyboard,{mounted:!f||k})]}),(0,i.jsx)(p.Tabbar,{})]})}))})})}},239065:(e,t,o)=>{"use strict";o.d(t,{StickersEmojiKeyboardProvider:()=>u});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(667294),c=o(717326),l=o(74779),d=o(895655);function u(e){var{onTabChange:t,onShopClick:o}=e,u=(0,n._)(e,["onTabChange","onShopClick"]);const h=(0,l.useAPI)(),m=(0,s.useStore)(c.$tabbarActiveTab),p=h.cache.tabbarActiveTab.get();if((0,a.useEffect)((()=>{p!==m&&h.cache.tabbarActiveTab.set(m)}),[m,p]),o){const e=o;o=t=>{h.store.markAsViewed({type:"stickers",reset:String(["store_new_items","global_promotion"])}),e(t)}}return(0,i.jsx)(d.StickersEmojiKeyboardContext.Provider,(0,r._)({value:{onTabChange:t,onShopClick:o}},u))}},348421:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboard:()=>O});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(86894),c=o(906811),l=o(3817),d=o(667294),u=o(659397),h=o(88871),m=o(592388),p=o(946388),v=o(837565),f=o(124676),g=o(886957),_=o(702195),b=o(765998),y=o(699611),k=o(391931),E=o(829596),w=o(579380),C=o(320054),S=o(74779),I=o(210802),A=o(579865),x=o(213916),M=o(609892),R=o(486589),P=o(557261),T=o(578351),N=o(585851);function O(e){var{className:t}=e,o=(0,n._)(e,["className"]);const O=(0,S.useAPI)(),{setSelectedPack:j}=(0,T.useStickersKeyboard)(),{getAvatarSuggestionStickerRow:L,bannerPackIndex:D,avatarSuggestion:K}=(0,R.useAvatarSuggestion)(),{packs:H}=(0,s.useStore)(E.$packs),B=(0,s.useStore)(b.$isVisible),V=(0,s.useStore)(w.$avatarSuggestionTab),F=(0,s.useStore)(C.$stickersSize),G=(0,s.useStore)(y.$activePackKey),U=(0,s.useStore)(k.$selectedPackKey),$=(0,s.useStore)(C.$stickersVerticalGap),z=(0,s.useStore)(C.$stickersHorizontalGap),W=(0,s.useStore)(C.$stickersKeyboardVerticalOrder),Z=(0,d.useRef)(null),q=(0,d.useRef)([]),J=(0,d.useRef)(!1);(0,M.useScrollView)(Z);const{setGridRef:Y,columns:X}=(0,I.useGrid)({tab:A.Tab.STICKERS,itemWidth:F+z}),Q=(0,d.useMemo)((()=>{var e,t;if(!H||!X)return[{type:P.StickersKeyboardElementType.HEADER,element:(0,i.jsx)(v.StickersKeyboardHeader,{},Math.random()),sticky:!0},...(0,u.createArray)(6).map((e=>({type:P.StickersKeyboardElementType.ROW,element:(0,i.jsx)(m.StickersKeyboardRow,{columns:X},e)})))];const o=[];let r=null;const n=null==(e=H)?void 0:e.get(U);return void 0!==(null==(t=n)?void 0:t.index)&&(r=n.index),H.forEach((e=>{var t,n;const{id:s,index:a}=e,c=null==(t=e.stickers)?void 0:t.map(l.getStickerContext);o.push({type:P.StickersKeyboardElementType.HEADER,element:(0,i.jsx)(v.StickersKeyboardHeader,{pack:e},s),sticky:!0});const d=s===E.ServicePackKey.VMOJI;d&&o.push({type:P.StickersKeyboardElementType.ROW,element:(0,i.jsx)(g.StickersKeyboardVmojiRow,{},E.ServicePackKey.VMOJI)});const h=s===E.ServicePackKey.UGC&&!(null==(n=c)?void 0:n.length);h&&o.push({type:P.StickersKeyboardElementType.ROW,element:(0,i.jsx)(f.StickersKeyboardUGCRow,{},E.ServicePackKey.UGC)});const p=r||0;if(null===D&&a===p||D===a){const e=L(p,d||h);e&&o.push(e)}c&&(0,u.chunkArray)(c,X).forEach(((t,r)=>{o.push({type:P.StickersKeyboardElementType.ROW,element:(0,i.jsx)(m.StickersKeyboardRow,{stickers:t,columns:X,pack:e},`${s}${r}`)})}))})),o}),[H,X,K]),ee=(0,d.useMemo)((()=>{const e=q.current,t=Q.reduce(((e,{type:t},o)=>(t===P.StickersKeyboardElementType.HEADER&&e.push(o),e)),[]);return(0,u.isEqual)(t,e)||!t.length?e:(q.current=t,t)}),[Q]),te=e=>ee.includes(e),{rangeExtractor:oe,isSticky:re}=(0,x.useSticky)({rows:Q}),ne=(0,c.useVirtualizer)({rangeExtractor:oe,count:Q.length,estimateSize:()=>F,getScrollElement:()=>Z.current}),{range:ie}=ne,se=e=>{var t;const o=null==(t=H)?void 0:t.get(e);o&&(((e,t,o)=>{const{index:r}=e;if(void 0===r)return;const n=ee[r];(U!==t||o)&&void 0!==n&&ne.scrollToIndex(n,{align:"start",behavior:"auto"})})(o,e),j(e))};(0,d.useEffect)((()=>{null!==D&&V===A.Tab.STICKERS&&ee[D]&&ne.scrollToIndex(ee[D],{align:"start",behavior:"auto"})}),[D]),(0,d.useEffect)((()=>{const e=Z.current;if(e&&!H)return e.style.setProperty("overflow","hidden","important"),()=>{e.style.removeProperty("overflow")}}),[H]),(0,d.useEffect)((()=>{const e=O.cache.stickersActiveTab.get();H&&(J.current=!1,G||e?(se(G||e),J.current=!0):J.current=!0)}),[ee,H,G,B]),(0,d.useEffect)((()=>{const e=J.current,{startIndex:t,endIndex:o}=ne.calculateRange();if(!t&&!o||!ee.length||!H||!e)return;const r=[...H.values()],n=ee.findIndex((e=>e>=t)),i=ee.findIndex((e=>e>=o)),s=r[n-Number(n===i&&t!==o)];if(!s)return;const{id:a}=s;j(a)}),[ie,ee]);const ae=ne.getVirtualItems().filter(Boolean);return(0,i.jsx)(_.StickersKeyboardSelectProvider,{selectPack:se,children:(0,i.jsxs)(h.ViewItem,(0,r._)({getRef:Y,className:(0,u.classNames)(N.default.keyboard,t),style:{"--stickers-columns":X,"--stickers-size":`${F}px`,"--stickers-vertical-gap":`${$}px`,"--stickers-horizontal-gap":`${z}px`,"--stickers-tab-flex-direction":`${W}`}},o,{children:[(0,i.jsx)(a.CustomScrollView,{boxRef:Z,className:(0,u.classNames)(N.default.scroll,{[N.default.scrollDisabled]:!H}),autoHideScrollbar:!0,children:(0,i.jsx)("div",{className:N.default.in,style:{height:ne.getTotalSize()},children:ae.map((({key:e,index:t,start:o})=>(0,i.jsx)("div",{"data-index":t,ref:ne.measureElement,className:(0,u.classNames)(N.default.item,{[N.default.itemHeader]:te(t)}),style:re(t)?{position:"sticky"}:{position:"absolute",transform:`translateY(${o}px)`},children:Q[t].element},e)))})}),H&&(0,i.jsx)(p.StickersKeyboardGroups,{})]}))})}},557261:(e,t,o)=>{"use strict";var r;o.d(t,{StickersKeyboardElementType:()=>r}),function(e){e.ROW="row",e.HEADER="header"}(r||(r={}))},406056:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardGroup:()=>p});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(659397),c=o(667294),l=o(275825),d=o(391931),u=o(829596),h=o(578351),m=o(87613);function p(e){var t,{group:o,className:p}=e,v=(0,n._)(e,["group","className"]);const{selectPack:f}=(0,h.useStickersKeyboardSelect)(),g=(0,s.useStore)(d.$selectedPackKey),{packs:_}=(0,s.useStore)(u.$packs),b=(0,c.useRef)(null),[y,k]=(0,c.useState)(),E=e=>()=>{f(e)},w=(0,c.useMemo)((()=>{if(Array.isArray(o)||(o=[o]),_)return o.map((e=>{const t=_.get(e);if(t)return(0,i.jsx)(l.StickersKeyboardGroupItem,{className:m.default.item,pack:t,active:e===g,onClick:E(e)},e)}))}),[o,_,g]);(0,c.useLayoutEffect)((()=>{var e;const t=b.current;if(!t)return;const o=null==(e=t.children[0])?void 0:e.clientWidth;o&&k(o)}),[b]);const C=Boolean(Array.isArray(o)&&Number(null==(t=w)?void 0:t.length)>1&&g&&o.includes(g));return(0,i.jsx)("div",(0,r._)({ref:b,className:(0,a.classNames)(m.default.group,p,{[m.default.groupActive]:C,[m.default.groupHidden]:!y}),style:{"--group-item-width":`${y}px`}},v,{children:w}))}},275825:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardGroupItem:()=>S});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(659397),c=o(548499),l=o(622284),d=o(667294),u=o(194449),h=o(773974),m=o(450084),p=o(179153),v=o(25155),f=o(50466),g=o(641899),_=o(829596),b=o(717326),y=o(204280),k=o(829280),E=o(371300);const w=new Map([[_.ServicePackKey.UGC,(0,i.jsx)(v.Icon24UgcStickerOutline,{},_.ServicePackKey.UGC)],[_.ServicePackKey.VMOJI,(0,i.jsx)(h.Icon24VmojiOutline,{},_.ServicePackKey.VMOJI)],[_.ServicePackKey.RECENT,(0,i.jsx)(f.Icon24RecentOutline,{},_.ServicePackKey.RECENT)],[_.ServicePackKey.FAVORITE,(0,i.jsx)(g.Icon24FavoriteOutline,{},_.ServicePackKey.FAVORITE)]]),C={blue:E.default.inIndicator,red:E.default.inIndicatorRed,gray:E.default.inIndicatorGray,"":""};function S(e){var t,o,h,v,f,g,_,S,{pack:I,active:A,children:x,indicator:M}=e,R=(0,n._)(e,["pack","active","children","indicator"]);const{translate:P}=(0,c.useLangPack)(),T=(0,s.useStore)(k.$vmojiPromotion),N=(0,s.useStore)(y.$isTransitionActive),{isStickersActiveTab:O}=(0,s.useStore)(b.$tabbarActiveTabState),[j,L]=(0,d.useState)(!0),[D,K]=(0,d.useState)(!1),H=P(null==(t=I)?void 0:t.title),B=null==(o=I)?void 0:o.isNew,V=null==(h=I)?void 0:h.isVmoji,F=null==(v=I)?void 0:v.hintId,G=null==(f=I)?void 0:f.hintWidth,U=(null==(g=T)?void 0:g.dot_color)||"",$=w.get(null==(_=I)?void 0:_.id)||x,z=new u.BaseUrlBuilder({size:24,images:null==(S=I)?void 0:S.previews}).build(),W=(0,m.useHelpHint)(F);(0,d.useEffect)((()=>{$&&L(!1)}),[$]),(0,d.useEffect)((()=>{W&&A&&!D&&(p.HelpHints.hide(W),K(!0))}),[W,A,D]);let Z=(0,i.jsx)("div",(0,r._)({},R,{children:(0,i.jsx)("div",{className:(0,a.classNames)(E.default.in,{[E.default.inActive]:A,[E.default.inHidden]:j,[E.default.inPlaceholder]:!z&&!$,[E.default.inIndicator]:B||M,[C[U]]:V}),children:$?(0,i.jsx)("div",{"aria-label":H,className:(0,a.classNames)(E.default.icon,E.default.iconService),children:$}):(0,i.jsx)("img",{alt:H,className:(0,a.classNames)(E.default.icon),src:z,onLoad:()=>{L(!1)}})})}));if(W){const{title:e,description:t}=W;Z=(0,i.jsx)(l.TextTooltip,{className:E.default.tooltip,maxWidth:G,placement:"top-start",appearance:"accent",header:e,text:t,offsetDistance:-4,shown:!A&&!N&&!D&&O,children:Z})}return Z}},717282:(e,t,o)=>{"use strict";o.d(t,{ShopButton:()=>u});var r=o(785893),n=o(504190),i=o(548499),s=o(210162),a=o(275825),c=o(895655),l=o(147611),d=o(127509);function u(){const{translate:e}=(0,i.useLangPack)(),{shopIndicatorMode:t,onShopClick:o}=(0,c.useStickersEmojiKeyboard)(),{isStickersVisibleTab:u}=(0,n.useStore)(l.$visibleTabState);if(!u||!o)return null;const h=Boolean(t);return(0,r.jsx)(a.StickersKeyboardGroupItem,{"aria-label":e("stickers_picker_store"),className:d.default.button,indicator:h,onClick:o,children:(0,r.jsx)(s.Icon24ShoppingCartOutline,{})})}},946388:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardGroups:()=>E});var r,n=o(434788),i=o(820224),s=o(785893),a=o(504190),c=o(659397),l=o(86894),d=o(74106),u=o(906811),h=o(667294),m=o(717282),p=o(406056),v=o(829596),f=o(147611),g=o(391931),_=o(919005),b=o(53071),y=o(578351),k=o(396893);function E(e){var{className:t}=e,o=(0,i._)(e,["className"]);const{hasPointer:E}=(0,l.useAdaptivityWithJSMediaQueries)(),{getGroupIndex:w,isGroupedStockItem:C,prevSelectedPackKey:S}=(0,y.useStickersKeyboard)(),I=(0,a.useStore)(g.$selectedPackKey),{packsGroups:A}=(0,a.useStore)(v.$packs),{isStickersVisibleTab:x}=(0,a.useStore)(f.$visibleTabState),M=(0,h.useRef)(null),[R,P]=(0,h.useState)(!1),[T,N]=(0,h.useState)(!0),O=(0,h.useMemo)((()=>{var e;return(null==(e=A)?void 0:e.map((e=>(0,s.jsx)(p.StickersKeyboardGroup,{className:k.default.groupIn,group:e},String(e)))))||[]}),[A]),j=O.length,L=(0,u.useVirtualizer)({count:j,overscan:5,horizontal:!0,getScrollElement:()=>M.current,estimateSize:()=>32,onChange:({range:{startIndex:e,endIndex:t}})=>{P(e>0),N(t<O.length-1)}}),{scrollTo:D}=(0,_.useSmoothScroll)(L),K=e=>L.getVirtualItems().find((({index:t})=>t===e)),H=e=>()=>{var t;const{startIndex:o,endIndex:n}=L.range,i=null==(t=L.scrollElement)?void 0:t.getBoundingClientRect();if(!i)return;const{width:s}=i;switch(e){case r.LEFT:{const e=K(o-1);if(!e)return;const{size:t,end:r}=e;D({offset:r+2*t-s});break}case r.RIGHT:{const e=K(n-1);if(!e)return;const{size:t,start:o}=e;D({offset:o-t});break}}};return(0,b.useHorizontalScroll)(M),(0,h.useEffect)((()=>{var e,t,o;if(!I||!A)return;const r=w(I),n=w(S),i=C(S);if(void 0===r)return;if(i&&r>Number(n))return;const s=K(r);if(!s)return;const{start:a}=s,c=null==(e=L.scrollElement)?void 0:e.getBoundingClientRect(),l=null==(o=L.scrollElement)||null==(t=o.getElementsByClassName(k.default.groupIn)[0])?void 0:t.getBoundingClientRect();l&&c&&D({offset:a+l.width/2-c.width/2})}),[I,A]),(0,s.jsxs)("div",(0,n._)({className:(0,c.classNames)(k.default.groups,{[k.default.groupsForced]:x},t)},o,{children:[(0,s.jsx)(m.ShopButton,{}),(0,s.jsxs)("div",{className:k.default.container,children:[E&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,c.classNames)(k.default.shadow,k.default.shadowLeft,{[k.default.shadowVisible]:R})}),(0,s.jsx)("div",{className:(0,c.classNames)(k.default.shadow,k.default.shadowRight,{[k.default.shadowVisible]:T})}),(0,s.jsx)("div",{"aria-hidden":!0,className:(0,c.classNames)(k.default.chevron,k.default.chevronLeft,{[k.default.chevronActive]:R}),onClick:H(r.LEFT),children:(0,s.jsx)(d.Icon16ChevronOutline,{})}),(0,s.jsx)("div",{"aria-hidden":!0,className:(0,c.classNames)(k.default.chevron,k.default.chevronRight,{[k.default.chevronActive]:T}),onClick:H(r.RIGHT),children:(0,s.jsx)(d.Icon16ChevronOutline,{})})]}),(0,s.jsx)("div",{ref:M,className:k.default.in,children:(0,s.jsx)("div",{className:k.default.items,style:{width:L.getTotalSize()},children:Boolean(O.length)&&L.getVirtualItems().map((({key:e,index:t,start:o})=>(0,s.jsx)("div",{"data-index":t,ref:L.measureElement,className:(0,c.classNames)(k.default.group),style:{transform:`translateX(${o}px)`},children:O[t]},e)))})})]})]}))}!function(e){e.LEFT="left",e.RIGHT="right"}(r||(r={}))},637661:(e,t,o)=>{"use strict";o.d(t,{GiftButton:()=>m});var r=o(785893),n=o(504190),i=o(659397),s=o(136161),a=o(419065),c=o(173235),l=o(322057),d=o(578351),u=o(440652),h=o(344786);function m({pack:e}){var t,o;const{onStockItemGiftClick:m}=(0,d.useStickersKeyboard)(),p=(0,n.useStore)(c.$userPeer),v=(0,n.useStore)(l.$stockItemsAvailableToGift);if(!(null==(t=e)?void 0:t.canGift))return null;const{id:f,canGift:g,stockItem:_}=e,b=Boolean(f&&g&&p&&!(null==(o=v)?void 0:o.includes(f)));return(0,r.jsxs)(r.Fragment,{children:[b&&(0,r.jsx)(a.PeerInfo,{className:(0,i.classNames)(u.default.peer,h.default.headerAside),pack:e}),m&&(0,r.jsx)(s.Icon20GiftOutline,{className:(0,i.classNames)(h.default.icon,h.default.headerAside),onClick:()=>{var e;_&&(null==(e=m)||e(_,p))}})]})}},419065:(e,t,o)=>{"use strict";o.d(t,{PeerInfo:()=>p});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(548499),c=o(347136),l=o(622284),d=o(86894),u=o(366897),h=o(173235),m=o(711857);function p(e){var{pack:t}=e,o=(0,n._)(e,["pack"]);const{translate:p}=(0,a.useLangPack)(),v=(0,s.useStore)(h.$userPeer);if(!t||!v)return null;const{isStyle:f}=t,{first_name_gen:g,photo_50:_}=v;return(0,i.jsx)(l.TextTooltip,{className:m.default.tooltip,text:(0,i.jsx)(d.Caption,{className:m.default.text,level:"1",children:p(f?"stickers_picker_peer_has_style":"stickers_picker_peer_has_pack",{name:g})}),offsetDistance:8,offsetSkidding:50,placement:"bottom-end",forcePortal:!0,nonInteractive:!0,children:(0,i.jsx)(u.Avatar,(0,r._)({src:_,size:20},o,{children:(0,i.jsx)(u.Avatar.Badge,{children:(0,i.jsx)(c.Icon12CheckCircleFill,{className:m.default.icon})})}))})}},837565:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardHeader:()=>y});var r=o(434788),n=o(820224),i=o(785893),s=o(86894),a=o(504190),c=o(659397),l=o(548499),d=o(388768),u=o(315108),h=o(637661),m=o(757910),p=o(63874),v=o(518744),f=o(554e3),g=o(850286),_=o(344786);const b={[g.StickerEmojiKeyboardVariant.WIDE]:_.default.headerWide,[g.StickerEmojiKeyboardVariant.COMPACT]:_.default.headerCompact,[g.StickerEmojiKeyboardVariant.REGULAR]:_.default.headerRegular,[g.StickerEmojiKeyboardVariant.ADAPTIVE]:_.default.headerAdaptive};function y(e){var{pack:t,className:o}=e,y=(0,n._)(e,["pack","className"]);const{translate:k}=(0,l.useLangPack)(),E=(0,a.useStore)(g.$variant);if(o=(0,c.classNames)(_.default.header,b[E],o),!t)return(0,i.jsx)("div",(0,r._)({className:o},y,{children:(0,i.jsx)(u.Skeleton,{width:128,height:"var(--vkui--font_subhead--line_height--regular)"})}));const{title:w}=t;return(0,i.jsxs)("div",(0,r._)({"data-header":!0,className:(0,c.classNames)(_.default.header,o)},y,{children:[(0,i.jsx)(s.Subhead,{className:_.default.title,weight:"3",children:k(w)}),(0,i.jsx)(d.Tooltip,{pack:t}),(0,i.jsx)(f.StyleSettingsButton,{pack:t}),(0,i.jsx)(v.VmojiEditButton,{pack:t}),(0,i.jsx)(h.GiftButton,{pack:t}),(0,i.jsx)(m.UGCEditButton,{pack:t}),(0,i.jsx)(p.UGCMoreButton,{pack:t})]}))}},554e3:(e,t,o)=>{"use strict";o.d(t,{StyleSettingsButton:()=>l});var r=o(785893),n=o(659397),i=o(784118),s=o(578351),a=o(926904),c=o(344786);function l({pack:e}){var t,o,l;const{onStockItemSettingsClick:d}=(0,s.useStickersKeyboard)();if(!d)return null;const u=(null==(t=e)?void 0:t.hasStyles)||(null==(o=e)?void 0:o.isStyle)||(null==(l=e)?void 0:l.isVmoji);if(!e||!u)return null;const{stockItem:h}=e;return(0,r.jsx)(i.Icon20GearOutline,{className:(0,n.classNames)(a.default.icon,c.default.icon),onClick:()=>{var e;h&&(null==(e=d)||e(h))}})}},388768:(e,t,o)=>{"use strict";o.d(t,{Tooltip:()=>u});var r=o(434788),n=o(785893),i=o(659397),s=o(297973),a=o(548499),c=o(622284),l=o(144295),d=o(344786);function u({pack:{tooltip:e}}){const{translate:t}=(0,a.useLangPack)();if(!e)return null;const{text:o,header:u}=e;return(0,n.jsx)(c.TextTooltip,(0,r._)({className:l.default.tooltip,appearance:"black",offsetDistance:8,forcePortal:!0},e,{header:u&&t(String(u)),text:o&&t(String(o)),children:(0,n.jsx)(s.Icon16InfoOutline,{className:(0,i.classNames)(l.default.icon,d.default.icon)})}))}},757910:(e,t,o)=>{"use strict";o.d(t,{UGCEditButton:()=>d});var r=o(785893),n=o(504190),i=o(659397),s=o(784118),a=o(944952),c=o(578351),l=o(344786);function d({pack:e}){var t,o,d,u;const{onUGCEditClick:h}=(0,c.useStickersKeyboard)(),m=(0,n.useStore)(a.$ugcInfo);return(null==(t=e)?void 0:t.isPack)&&(null==(o=m)?void 0:o.can_edit)&&(null==(u=m)||null==(d=u.items)?void 0:d.length)&&h?(0,r.jsx)(s.Icon20GearOutline,{className:(0,i.classNames)(l.default.icon,l.default.headerAside),onClick:h}):null}},63874:(e,t,o)=>{"use strict";o.d(t,{UGCMoreButton:()=>m});var r=o(785893),n=o(504190),i=o(659397),s=o(548499),a=o(17117),c=o(385228),l=o(384627),d=o(944952),u=o(578351),h=o(344786);function m({pack:e}){var t,o,m,p;const{translate:v}=(0,s.useLangPack)(),{onUGCReportClick:f}=(0,u.useStickersKeyboard)(),g=(0,n.useStore)(d.$ugcInfo);if(!(null==(t=e)?void 0:t.isPack)||(null==(o=g)?void 0:o.can_edit)||!(null==(p=g)||null==(m=p.items)?void 0:m.length)||!f)return null;return(0,r.jsx)(l.DropdownActionSheet,{content:(0,r.jsx)(l.DropdownActionSheet.Item,{type:"destructive",before:(0,r.jsx)(a.Icon20ReportOutline,{}),onClick:()=>{f(e.rawData)},children:v("stickers_picker_report")}),placement:"bottom-end",forcePortal:!1,children:(0,r.jsx)(c.Icon20More,{className:(0,i.classNames)(h.default.icon,h.default.headerAside)})})}},518744:(e,t,o)=>{"use strict";o.d(t,{VmojiEditButton:()=>p});var r=o(785893),n=o(86894),i=o(504190),s=o(659397),a=o(129041),c=o(548499),l=o(829280),d=o(578351),u=o(692531),h=o(344786);const m=99;function p({pack:e}){var t,o,p,v,f;const{translate:g}=(0,c.useLangPack)(),{onVmojiEditClick:_}=(0,d.useStickersKeyboard)(),b=(0,i.useStore)(l.$vmojiPromotion);if(!(null==(t=e)?void 0:t.isVmoji)||!_)return null;const{vmojiAvatar:y}=e,k=null==(p=b)||null==(o=p.constructor_new_items)?void 0:o.counter_value,E=null==(f=b)||null==(v=f.constructor_new_items)?void 0:v.open_params,w=Number(k)>0;let C=g("stickers_picker_vmoji_items_counter",{count:k});return Number(k)>=m&&(C=g("stickers_picker_vmoji_items_counter_max",{count:m})),(0,r.jsxs)("div",{className:(0,s.classNames)(u.default.brush,h.default.headerAside),onClick:()=>{var e;y&&(null==(e=_)||e(y,E))},children:[w&&(0,r.jsx)(n.Subhead,{className:(0,s.classNames)(u.default.counter,h.default.icon),weight:"3",children:C}),(0,r.jsx)(a.Icon20BrushOutline,{className:h.default.icon})]})}},782089:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardProvider:()=>R});var r=o(11010),n=o(434788),i=o(820224),s=o(785893),a=o(504190),c=o(667294),l=o(765998),d=o(944952),u=o(173235),h=o(734264),m=o(237341),p=o(730368),v=o(717326),f=o(699611),g=o(922793),_=o(326157),b=o(689106),y=o(703104),k=o(829596),E=o(391931),w=o(322057),C=o(976332),S=o(829280),I=o(74779),A=o(63767),x=o(579865),M=o(578351);function R(e){var{onStickerSend:t,onUGCEditClick:o,onVmojiEditClick:R,onUGCReportClick:P,onVmojiCreateClick:T,onStockItemGiftClick:N,onStockItemSettingsClick:O,onVmojiSuggestionClick:j}=e,L=(0,i._)(e,["onStickerSend","onUGCEditClick","onVmojiEditClick","onUGCReportClick","onVmojiCreateClick","onStockItemGiftClick","onStockItemSettingsClick","onVmojiSuggestionClick"]);const D=(0,I.useAPI)(),{isServiceStockItem:K}=(0,M.useStickersKeyboard)(),{packs:H}=(0,a.useStore)(k.$packs),B=(0,a.useStore)(u.$userPeer),V=(0,a.useStore)(l.$isVisible),F=(0,a.useStore)(y.$stockItems),G=(0,a.useStore)(f.$activePackKey),U=(0,a.useStore)(S.$vmojiPromotion),$=(0,a.useStore)(E.$selectedPackKey),z=(0,c.useRef)(),W=z.current,Z=(0,r._)((function*(){const[e,t]=yield Promise.all([D.cache.ugcInfo.get(),D.cache.ugcPacks.get()]);(0,d.setUGCInfo)(e),(0,h.setUGCPacks)(t)})),q=(0,r._)((function*(){var e,t;const[o,r,n,i,s,a]=yield Promise.all([D.cache.global.get(),D.cache.getStockItems({active:!0}),D.cache.imageConfigs.get(),D.cache.recentStickers.get(),D.cache.favoriteStickers.get(),D.cache.avatarSuggestion.get(),Z()]);(0,p.setRecentStickers)(i),(0,_.setFavoriteStickers)(s),(0,g.setImageConfigs)(n),(0,C.setAvatarSuggestion)(a),(0,m.setHasAvatar)(D.cache.hasAvatar.get()),(0,S.setVmojiPromotion)((null==(e=o)?void 0:e.vmoji_promotion)||null),(0,b.setStoreNewItemsCount)((null==(t=o)?void 0:t.store_new_items)||0),(0,y.setStockItems)(r)}));return(0,c.useEffect)((()=>{F&&V&&D.cache.reload(),q();const e=D.cache.stickersSync.subscribe(q,!0),t=D.cache.stickersAsync.subscribe(q,!0),o=D.cache.stickersListAsync.subscribe(Z,!0),n=D.cache.stickersAsync.subscribe((0,r._)((function*(e){if(e===A.AvatarSuggestionAtomName)(0,C.getAvatarSuggestionFromCache)()})),!1);return()=>{e(),t(),o(),n()}}),[D,V]),(0,c.useEffect)((()=>{if((0,w.setStockItemsAvailableToGift)(null),!B)return;const{id:e}=B;var t;t=e,D.store.getStickerPacksAvailableForGift({user_id:t}).then(w.setStockItemsAvailableToGift)}),[B]),(0,c.useEffect)((()=>{void 0!==G&&(0,v.setTabbarActiveTab)(x.Tab.STICKERS)}),[G]),(0,s.jsx)(M.StickersKeyboardContext.Provider,(0,n._)({value:{setSelectedPack:e=>{if($&&(z.current=$),e){var t;(null==(t=H)?void 0:t.get(e))&&(D.cache.stickersActiveTab.set(e),(e=>{var t,o,r;if(K(e))return;const n=null==(t=F)?void 0:t.find((({product:{id:t}})=>t===e));n&&F&&(n.product.is_vmoji&&(null==(o=U)?void 0:o.dot_color)&&(0,S.clearVmojiPromotionDot)(),(n.product.is_new||(null==(r=U)?void 0:r.dot_color))&&(n.product.is_new=!1,D.cache.stockItems.set(F,{notify:!1}),D.store.updateStickerProductsState({product_ids:String(e),key:"is_new",value:"0"})))})(e))}(0,E.setSelectedPackKey)(e)},prevSelectedPackKey:W,onStickerSend:t,onUGCEditClick:o,onUGCReportClick:P,onVmojiEditClick:R,onVmojiCreateClick:T,onStockItemGiftClick:N,onStockItemSettingsClick:O,onVmojiSuggestionClick:j}},L))}},702195:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardSelectProvider:()=>a});var r=o(434788),n=o(820224),i=o(785893),s=o(578351);function a(e){var{selectPack:t}=e,o=(0,n._)(e,["selectPack"]);return(0,i.jsx)(s.StickersKeyboardSelectContext.Provider,(0,r._)({value:{selectPack:t}},o))}},880316:(e,t,o)=>{"use strict";o.d(t,{StickerKeyboardRowBanner:()=>u});var r=o(434788),n=o(820224),i=o(785893),s=o(659397),a=o(504190),c=o(86894),l=o(850286),d=o(592388);const u=e=>{var{className:t}=e,o=(0,n._)(e,["className"]);const u=(0,a.useStore)(l.$variant);return(0,i.jsx)("div",{className:(0,s.classNames)(t,d.rowVariantModifier[u]),children:(0,i.jsx)(c.Banner,(0,r._)({noPadding:!0},o))})}},592388:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardRow:()=>w,rowVariantModifier:()=>k});var r=o(11010),n=o(434788),i=o(820224),s=o(785893),a=o(504190),c=o(667294),l=o(659397),d=o(86894),u=o(194449),h=o(105744),m=o(320054),p=o(922793),v=o(326157),f=o(850286),g=o(74779),_=o(578351),b=o(310690);const y=new Map([[d.Appearance.LIGHT,u.Theme.LIGHT],[d.Appearance.DARK,u.Theme.DARK]]),k={[f.StickerEmojiKeyboardVariant.WIDE]:b.default.rowWide,[f.StickerEmojiKeyboardVariant.COMPACT]:b.default.rowCompact,[f.StickerEmojiKeyboardVariant.REGULAR]:b.default.rowRegular,[f.StickerEmojiKeyboardVariant.ADAPTIVE]:b.default.rowAdaptive},E=32;function w(e){var{pack:t,stickers:o,columns:u,className:w}=e,C=(0,i._)(e,["pack","stickers","columns","className"]);const S=(0,g.useAPI)(),I=(0,d.useAppearance)(),{addToFavorite:A,removeFromFavorite:x,onStickerSend:M}=(0,_.useStickersKeyboard)(),R=(0,a.useStore)(f.$variant),P=(0,a.useStore)(m.$stickersSize),T=(0,a.useStore)(p.$imageConfigs),N=(0,a.useStore)(v.$favoriteStickers),O=(e,o=(()=>{var e;return null==(e=t)?void 0:e.referrer})())=>(0,r._)((function*(){const{isBase:t,rawData:r}=e;if(M(e,o),!t||!r)return;const i=yield S.cache.recentStickers.get();if(!i)return;if(-1!==i.findIndex((({sticker_id:t})=>t===e.id)))return;const s=i.length>=E?i.length-E+1:0;i.splice(0,s,(0,n._)({},r,{inner_type:"base_sticker_new"})),S.cache.recentStickers.set(i,{notify:!1})})),j=(e,o)=>{var r;if(!(null==(r=t)?void 0:r.isPack))return()=>{o?x(e):A(e)}},L=(0,c.useMemo)((()=>{var e;return(null==(e=o)?void 0:e.map((e=>{var t;if(!o||!T)return;const{id:r,isAllowed:n}=e,{items:i,default_id:a}=T,c=Boolean(null==(t=N)?void 0:t.find((({sticker_id:e})=>e===r)));return(0,s.jsx)(h.Sticker,{className:b.default.sticker,name:String(r),size:P,sticker:e,theme:y.get(I),configs:i,favorite:c,disabled:!n,defaultConfigId:a,onClick:O(e),onFavoriteClick:j(e,c)},r)})))||(0,l.createArray)(u).map((e=>(0,s.jsx)(h.Sticker,{className:b.default.sticker,size:P},e)))}),[u,o,I,P,N,T]);return(0,s.jsx)("div",(0,n._)({className:(0,l.classNames)(b.default.row,b.default.rowStickers,k[R],w)},C,{children:L}))}},148305:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardRowCard:()=>m});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(86894),c=o(531950),l=o(331533),d=o(592388),u=o(850286),h=o(319972);function m(e){var{title:t,image:o,action:m,onHide:p,className:v}=e,f=(0,n._)(e,["title","image","action","onHide","className"]);const g=(0,s.useStore)(u.$variant);return(0,i.jsx)("div",(0,r._)({className:d.rowVariantModifier[g]},f,{children:(0,i.jsxs)("div",{className:h.default.card,children:[p&&(0,i.jsx)(a.Tappable,{className:h.default.hide,hoverMode:"opacity",activeMode:"opacity",onClick:p,children:(0,i.jsx)(c.Icon24CancelOutline,{})}),o&&(0,i.jsx)("figure",{className:h.default.image,style:(0,r._)({},o,{backgroundImage:`url(${o.src})`})}),t&&(0,i.jsx)(a.Title,{className:h.default.title,level:"3",weight:"2",children:(0,i.jsx)(l.InnerHTML,{children:t})}),m&&(0,i.jsx)("div",{className:h.default.action,children:m})]})}))}},124676:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardUGCRow:()=>h});var r=o(785893),n=o(832550),i=o(548499),s=o(951436),a=o(874695),c=o(69314),l=o(148305),d=o(271755),u=o(578351);function h(){const{translate:e}=(0,i.useLangPack)(),{onUGCEditClick:t}=(0,u.useStickersKeyboard)(),o=(0,s.useHelpHintResource)(a.HelpHintId.STICKERS_UGC_KEYBOARD_ONBOARDING,c.StickersUGCKeyboardOnboardingResourceKey.IMAGE);return(0,r.jsx)(l.StickersKeyboardRowCard,{title:e("stickers_picker_ugc_create_title"),image:{src:o,width:240,height:64},action:t&&(0,r.jsx)(n.Button,{size:"s",mode:"outline",appearance:"accent",onClick:t,children:e("stickers_picker_ugc_create_action")}),onHide:d.hideUGCOnboarding})}},886957:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardVmojiRow:()=>m});var r=o(434788),n=o(785893),i=o(548499),s=o(86894),a=o(832550),c=o(951436),l=o(874695),d=o(434107),u=o(148305),h=o(578351);function m(e){const t=(0,s.useAppearance)(),{translate:o}=(0,i.useLangPack)(),{onVmojiCreateClick:m}=(0,h.useStickersKeyboard)(),p=(0,c.useHelpHintResource)(l.HelpHintId.KEYBOARD_STICKERS_VMOJI,t===s.Appearance.LIGHT?d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_LIGHT:d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_DARK);return(0,n.jsx)(u.StickersKeyboardRowCard,(0,r._)({image:{src:p,width:221,height:130},action:m&&(0,n.jsx)(a.Button,{size:"s",mode:"outline",appearance:"accent",onClick:m,children:o("stickers_picker_vmoji_create_character")})},e))}},404976:(e,t,o)=>{"use strict";o.d(t,{Tabbar:()=>b});var r=o(434788),n=o(820224),i=o(785893),s=o(504190),a=o(659397),c=o(667294),l=o(548499),d=o(427323),u=o(783844),h=o(135826),m=o(793641),p=o(147611),v=o(717326),f=o(579865),g=o(895655),_=o(356238);function b(e){var{className:t}=e,o=(0,n._)(e,["className"]);const{translate:b}=(0,l.useLangPack)(),{shopIndicatorMode:y,onTabChange:k,onShopClick:E}=(0,g.useStickersEmojiKeyboard)(),w=(0,s.useStore)(p.$visibleTab),{isEmojiActiveTab:C,isStickersActiveTab:S}=(0,s.useStore)(v.$tabbarActiveTabState),I=e=>()=>{var t;(0,v.setTabbarActiveTab)(e),null==(t=k)||t({tab:e})};return(0,c.useEffect)((()=>{w&&(0,v.setTabbarActiveTab)(w)}),[w]),w?null:(0,i.jsxs)("div",(0,r._)({className:(0,a.classNames)(_.default.tabbar,t)},o,{children:[(0,i.jsx)(m.TabbarItem,{"aria-label":b("stickers_picker_emoji"),className:_.default.item,active:C,onClick:I(f.Tab.EMOJI),children:(0,i.jsx)(d.Icon24SmileOutline,{})}),(0,i.jsx)(m.TabbarItem,{"aria-label":b("stickers_picker_stickers"),className:_.default.item,active:S,onClick:I(f.Tab.STICKERS),children:(0,i.jsx)(u.Icon24StickerSmileOutline,{})}),E&&(0,i.jsx)(m.TabbarItem,{"aria-label":b("stickers_picker_store"),className:_.default.item,indicator:y,onClick:E,children:(0,i.jsx)(h.Icon24StorefrontOutline,{})})]}))}},793641:(e,t,o)=>{"use strict";o.d(t,{TabbarItem:()=>d,TabbarItemIndicator:()=>r});var r,n=o(434788),i=o(820224),s=o(785893),a=o(659397),c=o(425061);!function(e){e.NONE="none",e.PRIMARY="primary",e.SECONDARY="secondary",e.DESTRUCTIVE="destructive"}(r||(r={}));const l={[r.NONE]:c.default.indicatorNone,[r.PRIMARY]:c.default.indicatorPrimary,[r.SECONDARY]:c.default.indicatorSecondary,[r.DESTRUCTIVE]:c.default.indicatorDestructive};function d(e){var{active:t,indicator:o=r.NONE,className:d,children:u}=e,h=(0,i._)(e,["active","indicator","className","children"]);return(0,s.jsx)("div",(0,n._)({className:(0,a.classNames)(d,c.default.item,c.default.indicator,l[o],{[c.default.itemActive]:t})},h,{children:u}))}},461541:(e,t,o)=>{"use strict";o.d(t,{View:()=>d});var r=o(434788),n=o(820224),i=o(785893),s=o(659397),a=o(667294),c=o(204280),l=o(469872);function d(e){var{switched:t,children:o}=e,d=(0,n._)(e,["switched","children"]);const u=({target:e})=>{e instanceof HTMLDivElement&&e.dataset.viewPanel&&(0,c.setIsTransitionActive)(!1)};return(0,a.useEffect)((()=>{(0,c.setIsTransitionActive)(!0)}),[t]),(0,i.jsx)("div",(0,r._)({className:l.default.view},d,{children:a.Children.map(o,(e=>(0,a.cloneElement)(e,{"data-view-panel":!0,className:(0,s.classNames)(l.default.panel,{[l.default.panelSwitched]:t}),onTransitionEnd:u})))}))}},88871:(e,t,o)=>{"use strict";o.d(t,{ViewItem:()=>s});var r=o(434788),n=o(820224),i=o(785893);function s(e){var{getRef:t,mounted:o}=e,s=(0,n._)(e,["getRef","mounted"]);return!1===o?null:(0,i.jsx)("div",(0,r._)({ref:t},s))}},204280:(e,t,o)=>{"use strict";o.d(t,{$isTransitionActive:()=>i,setIsTransitionActive:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(!1).on(n,((e,t)=>t))},74779:(e,t,o)=>{"use strict";o.d(t,{useAPI:()=>i});var r=o(504190),n=o(879706);function i(){return(0,r.useStore)(n.$api)}},135581:(e,t,o)=>{"use strict";o.d(t,{useElementSize:()=>s});var r=o(434788),n=o(659397),i=o(667294);function s(){const[e,t]=(0,i.useState)(null),[o,s]=(0,i.useState)({width:0,height:0});return(0,i.useLayoutEffect)((()=>{const t=()=>{var t,o;const r=(null==(t=e)?void 0:t.offsetWidth)||0,n=(null==(o=e)?void 0:o.offsetHeight)||0;s({width:r,height:n})};t();const o=(0,n.debounce)(t,150);return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}}),[e]),(0,r._)({setRef:t},o)}},609571:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboardContext:()=>a,useEmojiKeyboard:()=>l});var r=o(434788),n=o(667294),i=o(563431),s=o(74779);const a=(0,n.createContext)({}),c=50;function l(){const e=(0,s.useAPI)(),t=(0,n.useContext)(a),{onEmojiInsert:o}=t;return(0,r._)({},t,{insertEmoji:t=>{var r;null==(r=o)||r(t),(t=>{const o=new Map(e.cache.recentEmoji.get()),r=o.get(t)||0;o.set(t,r+1);const n=[...o].reverse().slice(0,c);(0,i.setRecentEmoji)(n),e.cache.recentEmoji.set(n)})(t)}})}},210802:(e,t,o)=>{"use strict";o.d(t,{useGrid:()=>l});var r=o(434788),n=o(667294),i=o(504190),s=o(850286),a=o(135581);const c=new Map;function l({tab:e,itemWidth:t,itemsCount:o=0}){const{setRef:l,width:d}=(0,a.useElementSize)(),u=(0,i.useStore)(s.$variant),h=String([e,u]),m=(0,n.useRef)(c.get(h)||{rows:0,columns:0}),p=(0,n.useMemo)((()=>{const e=m.current;if(!d)return e;const r=Math.floor(d/t);if(!r||r===e.columns)return e;const n={rows:Math.ceil(o/r),columns:r};return m.current=n,c.set(h,n),n}),[d,h,t,o]);return(0,r._)({setGridRef:l},p)}},53071:(e,t,o)=>{"use strict";o.d(t,{useHorizontalScroll:()=>i});var r=o(667294),n=o(609892);function i(e){(0,n.useScrollView)(e),(0,r.useEffect)((()=>{const t=e.current;if(!t)return;const o=e=>{t.scrollLeft+=e.deltaY+e.deltaX};return t.addEventListener("wheel",o,{passive:!0}),()=>{t.removeEventListener("wheel",o)}}),[e])}},609892:(e,t,o)=>{"use strict";o.d(t,{useScrollView:()=>n});var r=o(667294);function n(e){(0,r.useEffect)((()=>{const t=e.current;t&&t.setAttribute("data-scroll-view","")}),[])}},919005:(e,t,o)=>{"use strict";o.d(t,{useSmoothScroll:()=>s});var r=o(659397),n=o(667294),i=o(199919);function s(e){const t=(0,n.useRef)(0);return{scrollTo:(0,n.useCallback)((0,r.debounce)((({offset:o=0,duration:r=300}={})=>{t.current=Date.now();let n=e.scrollOffset;const s=t.current,a=()=>{if(t.current!==s)return;const c=Date.now()-s,l=(0,i.easeOutQuart)(Math.min(c/r,1)),d=n+(o-n)*l;c<r&&requestAnimationFrame(a),e.scrollToOffset(d)};requestAnimationFrame(a)}),150),[e])}}},895655:(e,t,o)=>{"use strict";o.d(t,{StickersEmojiKeyboardContext:()=>c,useStickersEmojiKeyboard:()=>l});var r=o(434788),n=o(504190),i=o(667294),s=o(793641),a=o(689106);const c=(0,i.createContext)({});function l(){const e=(0,i.useContext)(c),t=(0,n.useStore)(a.$storeNewItemsCount)?s.TabbarItemIndicator.DESTRUCTIVE:void 0;return(0,r._)({},e,{shopIndicatorMode:t})}},578351:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardContext:()=>d,StickersKeyboardSelectContext:()=>h,useStickersKeyboard:()=>u,useStickersKeyboardSelect:()=>m});var r=o(11010),n=o(434788),i=o(504190),s=o(667294),a=o(829596),c=o(326157),l=o(74779);const d=(0,s.createContext)({});function u(){const e=(0,l.useAPI)(),t=(0,i.useStore)(c.$favoriteStickers),{packsGroups:o}=(0,i.useStore)(a.$packs),u=(0,s.useContext)(d),h=(0,r._)((function*({id:o,isBase:r,rawData:n}){if(!r)return;const i=yield e.cache.global.get();if(!i)return;const{favorite_stickers_limit:s}=i;if(e.store.addStickersToFavorite({sticker_ids:String(o)}),!t)return;const a=[n,...t].slice(0,s);(0,c.setFavoriteStickers)(a),e.cache.favoriteStickers.set(a)})),m=(0,r._)((function*({id:o,isBase:r}){if(!r)return;if(e.store.removeStickersFromFavorite({sticker_ids:String(o)}),!t)return;const n=t.findIndex((e=>e.sticker_id===o));if(!(-1!==n))return;const i=[...t];i.splice(n,1),(0,c.setFavoriteStickers)(i),e.cache.favoriteStickers.set(i)}));return(0,n._)({},u,{addToFavorite:h,getGroupIndex:e=>{var t;return e?null==(t=o)?void 0:t.findIndex((t=>(Array.isArray(t)||(t=[t]),t.includes(e)))):void 0},removeFromFavorite:m,isServiceStockItem:e=>null!=e&&e<0,isGroupedStockItem:e=>o&&void 0!==e&&!o.includes(e)})}const h=(0,s.createContext)({});function m(){return(0,s.useContext)(h)}},213916:(e,t,o)=>{"use strict";o.d(t,{useSticky:()=>i});var r=o(667294),n=o(945032);function i({rows:e}){const t=(0,r.useRef)(0),o=(0,r.useMemo)((()=>e.reduce(((e,{sticky:t},o)=>(t&&e.push(o),e)),[])),[e]);return{isSticky:e=>t.current===e,rangeExtractor:(0,r.useCallback)((e=>{t.current=[...o].reverse().find((t=>e.startIndex>=t))||0;return[...new Set([t.current,...(0,n.defaultRangeExtractor)(e)])].sort(((e,t)=>e-t))}),[o])}}},486589:(e,t,o)=>{"use strict";o.d(t,{useAvatarSuggestion:()=>E});var r=o(785893),n=o(504190),i=o(659397),s=o(667294),a=o(879706),c=o(765998),l=o(976332),d=o(717326),u=o(579380),h=o(924669),m=o(166948),p=o(72771),v=o(598750),f=o(880316),g=o(579865),_=o(816925),b=o(557261),y=o(578351),k=o(547388);const E=()=>{const{onVmojiSuggestionClick:e}=(0,y.useStickersKeyboard)(),t=(0,n.useStore)(a.$api),o=(0,n.useStore)(c.$isVisible),E=(0,n.useStore)(d.$tabbarActiveTab),w=(0,n.useStore)(l.$avatarSuggestion),C=(0,n.useStore)(u.$avatarSuggestionTab),S=(0,n.useStore)(d.$tabbarActiveTabState),I=(0,n.useStore)(h.$avatarSuggestionBannerPackIndex),A=(0,n.useStore)(m.$avatarSuggestionIsViewed),x=(0,n.useStore)(k.$avatarSuggestionDisabled);(0,s.useEffect)((()=>{o||((0,h.setAvatarSuggestionPackIndex)(null),(0,u.setAvatarSuggestionTab)(null),(0,m.setAvatarSuggestionIsViewed)(!1),(0,k.setAvatarSuggestionDisabled)(!1))}),[o]);const M=(0,s.useCallback)((0,i.debounce)((e=>{(0,h.setAvatarSuggestionPackIndex)(e)}),100),[]),R=(0,s.useCallback)((0,i.debounce)((e=>(0,u.setAvatarSuggestionTab)(e)),100),[]),P=(0,s.useCallback)((0,i.debounce)((e=>(0,k.setAvatarSuggestionDisabled)(e)),100),[]),T=n=>{if(!e||x)return null;if(!o||A||!Boolean(w)&&t.cache.reloading||(0,m.setAvatarSuggestionIsViewed)(!0),!w||null===n)return null;null===C&&R(E),null===I&&M(n);const i=S.isStickersActiveTab?f.StickerKeyboardRowBanner:v.EmojiKeyboardRowBanner;return(0,r.jsx)(p.AvatarSuggestionRow,{Component:i},w.id)};return{getAvatarSuggestionStickerRow:(e,t=!1)=>{if(C&&C!==g.Tab.STICKERS||E!==g.Tab.STICKERS)return null;if(x||P(t),t)return null;const o=T(e);return o?{type:b.StickersKeyboardElementType.ROW,element:o}:null},getAvatarSuggestionEmojiRow:e=>{if(C&&C!==g.Tab.EMOJI||E!==g.Tab.EMOJI)return null;const t=T(e);return t?{type:_.EmojiKeyboardElementType.ROW,element:t}:null},bannerPackIndex:I,avatarSuggestion:w,avatarSuggestionTab:C}}},475423:(e,t,o)=>{"use strict";o.d(t,{useCalculateSelectedEmojiPackIndex:()=>s});var r=o(667294),n=o(504190),i=o(634273);const s=(e,t)=>{const{range:o}=e,s=(0,n.useStore)(i.$selectedEmojiPackIndex);(0,r.useEffect)((()=>{const{startIndex:o}=e.calculateRange(),r=t.findIndex((e=>e>=o)),n=r-1,a=t[r],c=t[n],l=Math.abs(c-o)<Math.abs(a-o)?n:r;s!==l&&(0,i.setSelectedEmojiPackIndex)(l)}),[o,t])}},563431:(e,t,o)=>{"use strict";o.d(t,{setRecentEmoji:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent();r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},41045:(e,t,o)=>{"use strict";o.d(t,{$selectedEmoji:()=>i,setSelectedEmoji:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},634273:(e,t,o)=>{"use strict";o.d(t,{$selectedEmojiPackIndex:()=>i,setSelectedEmojiPackIndex:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(0).on(n,((e,t)=>t))},52493:(e,t,o)=>{"use strict";o.d(t,{$emojiPadding:()=>c});var r=o(798116),n=o(348354),i=o(850286);const s={[i.StickerEmojiKeyboardVariant.WIDE]:9,[i.StickerEmojiKeyboardVariant.COMPACT]:8,[i.StickerEmojiKeyboardVariant.REGULAR]:12,[i.StickerEmojiKeyboardVariant.ADAPTIVE]:9},a=n.stickersEmojiKeyboard.createEvent(),c=n.stickersEmojiKeyboard.createStore(s[i.DEFAULT_VARIANT]);(0,r.sample)({clock:i.setVariantOptions,source:i.$variant,fn:e=>s[e],target:a})},547388:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestionDisabled:()=>i,setAvatarSuggestionDisabled:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(!1).on(n,((e,t)=>t))},976332:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestion:()=>d,getAvatarSuggestionFromCache:()=>c,setAvatarSuggestion:()=>a});var r=o(11010),n=o(798116),i=o(879706),s=o(348354);const a=s.stickersEmojiKeyboard.createEvent(),c=s.stickersEmojiKeyboard.createEvent(),l=s.stickersEmojiKeyboard.createEffect((0,r._)((function*(e){const t=yield e.cache.avatarSuggestion.get();a(t)}))),d=s.stickersEmojiKeyboard.createStore(null).on(a,((e,t)=>t));(0,n.sample)({clock:c,source:i.$api,target:l})},166948:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestionIsViewed:()=>l,setAvatarSuggestionIsViewed:()=>c});var r=o(798116),n=o(986370),i=o(348354),s=o(63767),a=o(744165);const c=i.stickersEmojiKeyboard.createEvent(),l=i.stickersEmojiKeyboard.createStore(!1).on(c,((e,t)=>t));(0,r.sample)({clock:c,filter:e=>e&&(0,a.isPromoVmojiCounterEnabled)(),fn:()=>s.HelpHintPromoTypes.VMOJI_AVATAR_SUGGESTION,target:n.markAsViewedHelpHint})},924669:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestionBannerPackIndex:()=>i,setAvatarSuggestionPackIndex:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},579380:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestionTab:()=>i,setAvatarSuggestionTab:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},538115:(e,t,o)=>{"use strict";o.d(t,{hideHelpHint:()=>s});var r=o(798116),n=o(879706),i=o(348354);const s=i.stickersEmojiKeyboard.createEvent(),a=i.stickersEmojiKeyboard.createEffect((({api:e,hintId:t})=>e.cache.hideHelpHint(t)));(0,r.sample)({clock:s,source:n.$api,fn:(e,t)=>({api:e,hintId:t}),target:a})},986370:(e,t,o)=>{"use strict";o.d(t,{markAsViewedHelpHint:()=>s});var r=o(798116),n=o(879706),i=o(348354);const s=i.stickersEmojiKeyboard.createEvent(),a=i.stickersEmojiKeyboard.createEffect((({api:e,promoId:t})=>{e.cache.markHelpHintAsViewed(t)}));(0,r.sample)({clock:s,source:n.$api,fn:(e,t)=>({api:e,promoId:t}),target:a})},348354:(e,t,o)=>{"use strict";o.d(t,{stickersEmojiKeyboard:()=>r});const r=(0,o(798116).createDomain)()},733477:(e,t,o)=>{"use strict";o.d(t,{setChatPeer:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent();r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},158345:(e,t,o)=>{"use strict";o.d(t,{$peerId:()=>a,PeerGate:()=>c});var r=o(798116),n=o(504190),i=o(348354);const s=i.stickersEmojiKeyboard.createEvent(),a=i.stickersEmojiKeyboard.createStore(null).on(s,((e,{peerId:t})=>t||null)),c=(0,n.createGate)();(0,r.forward)({from:c.state,to:s})},173235:(e,t,o)=>{"use strict";o.d(t,{$userPeer:()=>i,setUserPeer:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},922793:(e,t,o)=>{"use strict";o.d(t,{$imageConfigs:()=>i,setImageConfigs:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},699611:(e,t,o)=>{"use strict";o.d(t,{$activePackKey:()=>a,ActivePackKeyGate:()=>c,setActivePackKeyOptions:()=>s});var r=o(798116),n=o(504190),i=o(348354);const s=i.stickersEmojiKeyboard.createEvent(),a=i.stickersEmojiKeyboard.createStore(null).on(s,((e,{activePackKey:t})=>t)),c=(0,n.createGate)();(0,r.forward)({from:c.state,to:s})},391931:(e,t,o)=>{"use strict";o.d(t,{$selectedPackKey:()=>i,setSelectedPackKey:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},322057:(e,t,o)=>{"use strict";o.d(t,{$stockItemsAvailableToGift:()=>i,setStockItemsAvailableToGift:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},689106:(e,t,o)=>{"use strict";o.d(t,{$storeNewItemsCount:()=>i,setStoreNewItemsCount:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(0).on(n,((e,t)=>t))},271755:(e,t,o)=>{"use strict";o.d(t,{hideUGCOnboarding:()=>a});var r=o(798116),n=o(879706),i=o(944952),s=o(348354);const a=s.stickersEmojiKeyboard.createEvent(),c=s.stickersEmojiKeyboard.createEffect((e=>e.cache.hideUGCOnboarding()));(0,r.sample)({clock:a,source:n.$api,target:c}),(0,r.sample)({source:c.doneData,filter:e=>e,target:i.reloadUGCInfo})},320054:(e,t,o)=>{"use strict";o.d(t,{$stickersHorizontalGap:()=>v,$stickersKeyboardVerticalOrder:()=>f,$stickersSize:()=>m,$stickersVerticalGap:()=>p});var r=o(798116),n=o(348354),i=o(850286);const s={[i.StickerEmojiKeyboardVariant.WIDE]:86,[i.StickerEmojiKeyboardVariant.COMPACT]:80,[i.StickerEmojiKeyboardVariant.REGULAR]:92,[i.StickerEmojiKeyboardVariant.ADAPTIVE]:86},a={[i.StickerEmojiKeyboardVariant.WIDE]:8,[i.StickerEmojiKeyboardVariant.COMPACT]:6,[i.StickerEmojiKeyboardVariant.REGULAR]:8,[i.StickerEmojiKeyboardVariant.ADAPTIVE]:8},c={[i.StickerEmojiKeyboardVariant.WIDE]:6,[i.StickerEmojiKeyboardVariant.COMPACT]:8,[i.StickerEmojiKeyboardVariant.REGULAR]:8,[i.StickerEmojiKeyboardVariant.ADAPTIVE]:6},l={[i.StickerEmojiKeyboardVariant.WIDE]:"column",[i.StickerEmojiKeyboardVariant.COMPACT]:"column",[i.StickerEmojiKeyboardVariant.REGULAR]:"column",[i.StickerEmojiKeyboardVariant.ADAPTIVE]:"column-reverse"},d=n.stickersEmojiKeyboard.createEvent(),u=n.stickersEmojiKeyboard.createEvent(),h=n.stickersEmojiKeyboard.createEvent(),m=n.stickersEmojiKeyboard.createStore(s[i.DEFAULT_VARIANT]),p=n.stickersEmojiKeyboard.createStore(c[i.DEFAULT_VARIANT]),v=n.stickersEmojiKeyboard.createStore(a[i.DEFAULT_VARIANT]),f=n.stickersEmojiKeyboard.createStore(l[i.DEFAULT_VARIANT]);(0,r.sample)({clock:i.setVariantOptions,source:i.$variant,fn:e=>s[e],target:d}),(0,r.sample)({clock:i.setVariantOptions,source:i.$variant,fn:e=>c[e],target:u}),(0,r.sample)({clock:i.setVariantOptions,source:i.$variant,fn:e=>a[e],target:h}),(0,r.sample)({clock:i.setVariantOptions,source:i.$variant,fn:e=>l[e],target:f})},829280:(e,t,o)=>{"use strict";o.d(t,{$vmojiPromotion:()=>u,clearVmojiPromotionDot:()=>l,setVmojiPromotion:()=>c});var r=o(11010),n=o(434788),i=o(798116),s=o(879706),a=o(348354);const c=a.stickersEmojiKeyboard.createEvent(),l=a.stickersEmojiKeyboard.createEvent(),d=a.stickersEmojiKeyboard.createEffect((0,r._)((function*({api:e,vmojiPromotion:t}){if(t)return e.cache.clearVmojiPromotionDot()}))),u=a.stickersEmojiKeyboard.createStore(null).on(c,((e,t)=>t)).on(d.doneData,(e=>(0,n._)({},e,{dot_color:void 0}))),h=(0,i.combine)(s.$api,u,((e,t)=>({api:e,vmojiPromotion:t})));(0,i.sample)({clock:l,source:h,target:d})},717326:(e,t,o)=>{"use strict";o.d(t,{$tabbarActiveTab:()=>c,$tabbarActiveTabState:()=>l,setTabbarActiveTab:()=>a});var r=o(798116),n=o(348354),i=o(879706),s=o(579865);const a=n.stickersEmojiKeyboard.createEvent(),c=n.stickersEmojiKeyboard.createStore(s.Tab.EMOJI).on(a,((e,t)=>t)),l=(0,r.combine)(c,(e=>({isEmojiActiveTab:e===s.Tab.EMOJI,isStickersActiveTab:e===s.Tab.STICKERS})));(0,r.sample)({clock:i.changeAPIOptions,source:i.$api,fn:e=>e.cache.tabbarActiveTab.get()||s.Tab.EMOJI,target:a})},616912:(e,t,o)=>{"use strict";o.d(t,{$userEnv:()=>i,setUserEnv:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore({}).on(n,((e,t)=>t))},850286:(e,t,o)=>{"use strict";o.d(t,{$variant:()=>l,DEFAULT_VARIANT:()=>c,StickerEmojiKeyboardVariant:()=>r,VariantGate:()=>d,setVariantOptions:()=>a});var r,n=o(798116),i=o(504190),s=o(348354);!function(e){e.WIDE="wide",e.COMPACT="compact",e.REGULAR="regular",e.ADAPTIVE="adaptive"}(r||(r={}));const a=s.stickersEmojiKeyboard.createEvent(),c=r.WIDE,l=s.stickersEmojiKeyboard.createStore(c).on(a,((e,{variant:t})=>t)),d=(0,i.createGate)();(0,n.forward)({from:d.state,to:a})},765998:(e,t,o)=>{"use strict";o.d(t,{$isVisible:()=>a,VisibleGate:()=>c});var r=o(798116),n=o(504190),i=o(348354);const s=i.stickersEmojiKeyboard.createEvent(),a=i.stickersEmojiKeyboard.createStore(!1).on(s,((e,{isVisible:t})=>t)),c=(0,n.createGate)();(0,r.forward)({from:c.state,to:s})},147611:(e,t,o)=>{"use strict";o.d(t,{$visibleTab:()=>c,$visibleTabState:()=>l,VisibleTabGate:()=>d});var r=o(504190),n=o(798116),i=o(348354),s=o(579865);const a=i.stickersEmojiKeyboard.createEvent(),c=i.stickersEmojiKeyboard.createStore(null).on(a,((e,{visibleTab:t})=>t)),l=(0,n.combine)(c,(e=>({isEmojiVisibleTab:e===s.Tab.EMOJI,isStickersVisibleTab:e===s.Tab.STICKERS}))),d=(0,r.createGate)();(0,n.forward)({from:d.state,to:a})},579865:(e,t,o)=>{"use strict";var r;o.d(t,{Tab:()=>r}),function(e){e.EMOJI="emoji",e.STICKERS="stickers"}(r||(r={}));Object.values(r)},199919:(e,t,o)=>{"use strict";function r(e){return 1-Math.pow(1-e,4)}o.d(t,{easeOutQuart:()=>r})},331092:(e,t,o)=>{"use strict";function r(e){return encodeURIComponent(e.replace(/\uFE0F/giu,"")).replace(/%/gi,"").toLowerCase()}o.d(t,{unicodeToByteHex:()=>r})},193196:(e,t,o)=>{"use strict";o.d(t,{animationIntersector:()=>a});var r=o(146091),n=o(513773),i=o(709364),s=o(557205);const a=new class{setOverrideIdleGroup(e,t){t?this.overrideIdleGroups.add(e):this.overrideIdleGroups.delete(e)}getAnimations(e){const t=[];for(const o in this.groups){const r=this.groups[o];if(r)for(const o of r)o.element===e&&t.push(o)}return t}removeAnimation(e){const{element:t,player:o,group:r}=e;o.remove();const i=this.groups[r];i&&((0,n.arrayRemoveItem)(i,e),i.length||delete this.groups[r]),this.observer.unobserve(t),this.visible.delete(e)}addAnimation(e,t){var o,r;const n={group:t,player:e,element:e.options.elements[0]};var i;(null!=(i=(o=this.groups)[r=t])?i:o[r]=[]).push(n),this.observer.observe(n.element)}checkAnimations({group:e,pause:t,destroy:o}){const r=void 0!==e;if(r&&!this.groups[e])return;const n=r?[e]:Object.keys(this.groups);for(const e of n){var i;null==(i=this.groups[e])||i.reverse().forEach((e=>{this.checkAnimation({animation:e,pause:t,destroy:o})}))}}checkAnimation({animation:e,pause:t,destroy:o}){const{element:n,player:s,group:a}=e;if(o||!this.lockedGroups[a]&&!(0,i.isElementMounted)(n))this.removeAnimation(e);else if(t||this.onlyOnePlayableGroup&&this.onlyOnePlayableGroup!==a){if(r.idleManager.isIdle&&this.overrideIdleGroups.has(a))return;s.paused||(s.pause(),s.autoPaused=!0)}else!s.autoPaused||!this.visible.has(e)||this.onlyOnePlayableGroup&&this.onlyOnePlayableGroup!==a||r.idleManager.isIdle&&!this.overrideIdleGroups.has(a)||s.play()}getOnlyOnePlayableGroup(){return this.onlyOnePlayableGroup}setOnlyOnePlayableGroup(e){this.onlyOnePlayableGroup=e}lockGroup(e){this.lockedGroups[e]=!0}unlockGroup(e){delete this.lockedGroups[e],this.checkAnimations({group:e})}refreshGroup(e){var t;const o=this.groups[e];(null==(t=o)?void 0:t.length)&&(o.forEach((({element:e})=>{this.observer.unobserve(e)})),(0,s.fastRequestAnimationFrame)((()=>{o.forEach((({element:e})=>{this.observer.observe(e)}))})))}lockIntersectionGroup(e){this.intersectionLockedGroups[e]=!0}unlockIntersectionGroup(e){delete this.intersectionLockedGroups[e],this.refreshGroup(e)}constructor(){this.visible=new Set,this.groups={},this.lockedGroups={},this.onlyOnePlayableGroup="",this.intersectionLockedGroups={},this.observer=new IntersectionObserver((e=>{for(const{target:o,isIntersecting:r}of e)for(const e in this.groups){var t;if(this.intersectionLockedGroups[e])continue;const n=null==(t=this.groups[e])?void 0:t.find((({element:e})=>e===o));if(n){r?(this.visible.add(n),this.checkAnimation({animation:n})):(this.visible.delete(n),this.checkAnimation({animation:n,pause:!0}),n.player.cache.destroy());break}}})),this.overrideIdleGroups=new Set,r.idleManager.addEventListener("change",(e=>{this.checkAnimations({pause:e})}))}}},944685:(e,t,o)=>{"use strict";o.d(t,{EventDispatcher:()=>r});class r{hasEventListener(e,t){return this.listeners.some((o=>o.type===e&&o.listener===t))}addEventListener(e,t,o={}){const{reuse:r=!0,once:n}=o;this.hasEventListener(e,t)||this.listeners.push({type:e,listener:t,options:o});const i=this.listenersResults[e];return r&&i&&(t(...i),n&&this.removeEventListener(e,t)),this}removeEventListener(e,t){const o=this.listeners.findIndex((o=>o.type===e&&o.listener===t));return-1!==o&&this.listeners.splice(o,1),this}removeEventListeners(){return this.listeners=[],this}dispatchEvent(e,...t){return this.listenersResults[e]=t,this.listeners.filter((t=>t.type===e)).forEach((e=>{var o;const{type:r,listener:n,options:i}=e;n(...t),(null==(o=i)?void 0:o.once)&&this.removeEventListener(r,n)})),this}constructor(){this.listeners=[],this.listenersResults={}}}},146091:(e,t,o)=>{"use strict";o.d(t,{idleManager:()=>u});var r=o(570912),n=o(615816),i=o(944685);const s=o(740393).isTouchSupported?"touchstart":"mousemove";var a=(0,n._)("_isIdle"),c=(0,n._)("_focusPromise"),l=(0,n._)("_focusResolve");class d extends i.EventDispatcher{get focusPromise(){return(0,r._)(this,c)[c]}get isIdle(){return(0,r._)(this,a)[a]}set isIdle(e){(0,r._)(this,a)[a]!==e&&((0,r._)(this,a)[a]=e,this.dispatchEvent("change",e))}constructor(){super(),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,r._)(this,a)[a]=!0,(0,r._)(this,c)[c]=Promise.resolve(),(0,r._)(this,l)[l]=()=>{},window.addEventListener("blur",(()=>{this.isIdle=!0,window.addEventListener("focus",(()=>{this.isIdle=!1}),{once:!0})})),window.addEventListener(s,(()=>{this.isIdle=!1}),{once:!0,passive:!0}),this.addEventListener("change",(e=>{e?(0,r._)(this,c)[c]=new Promise((e=>{(0,r._)(this,l)[l]=e})):(0,r._)(this,l)[l]()}))}}const u=new d},169086:(e,t,o)=>{"use strict";o.d(t,{LottieDataCache:()=>r});class r{}r.cache=new Map},293774:(e,t,o)=>{"use strict";o.d(t,{LottieFramesCache:()=>r});class r{destroy(){const e=r.cache.get(this.name);e&&(e.counter--,e.counter||(e.frames.clear(),r.cache.delete(this.name)))}get frames(){return this.cache.frames}get name(){const{player:e,name:t}=this.options;if(t)return t;if(e){const{name:t,color:o,inverseColor:r,width:n,height:i}=e.options;return String([t,n,i,o,r])}return""}create(){return{frames:new Map,counter:0}}constructor(e){this.options=e;let t=r.cache.get(this.name);t||(t=this.create(),r.cache.set(this.name,t)),t.counter++,this.cache=t}}r.cache=new Map},978352:(e,t,o)=>{"use strict";o.d(t,{DEFAULT_FPS:()=>n,MAX_FPS:()=>r});const r=120,n=60},272125:(e,t,o)=>{"use strict";o.d(t,{LottieManager:()=>h});var r=o(11010),n=o(656626),i=o(858109),s=o(169086),a=o(191997),c=o(630001),l=o(868384),d=o(193196),u=o(207351);class h{static init(){return u.isWebAssemblySupported?(Boolean(this.initPromise)||(this.initPromise=new Promise(((e,t)=>{let r=this.MAX_WORKERS_COUNT;for(let i=0;i<this.MAX_WORKERS_COUNT;i++){const s=new Worker(new URL(self.location.origin+"/dist/"+o.u(23704),o.b)),a=this.workers[i]=new n.LottieWorker(s,i);a.addEventListener("ready",(()=>{a.addEventListener("frame",this.handleFrame.bind(this)),a.addEventListener("loaded",this.handlePlayerLoaded.bind(this)),a.addEventListener("error",this.handlePlayerError.bind(this)),--r,r||(this.initialized=!0,e())}),{once:!0}),a.addEventListener("workerError",(e=>{this.initialized=!1,t(e)}),{once:!0})}}))),this.initPromise):Promise.reject()}static getPlayer(e){for(const t in this.players){const o=this.players[t];if(o.options.elements.includes(e))return o}return null}static setLoop(e){for(const t in this.players){const o=this.players[t];o.setLoop(e),o.setAutoplay(o.initialAutoplay)}}static loadAnimation(e){var t=this;return(0,r._)((function*(){t.initialized||(yield t.init());const{animationUrl:o,animationData:r}=e;return r?t.loadAnimationWorker(e):o?t.loadAnimationFromURL(e):Promise.reject(new Error("Не переданы данные для загрузки анимации"))}))()}static loadAnimationFromURL(e){var t=this;return(0,r._)((function*(){const{animationUrl:o=""}=e;t.initialized||(yield t.init());const r=s.LottieDataCache.cache.get(o),n=r||(yield fetch(o).then((e=>e.blob())));return n?(r||s.LottieDataCache.cache.set(o,n),e.animationData=n,t.loadAnimationWorker(e)):Promise.reject(new Error("Загруженные данные об анимации пустые"))}))()}static onFirstFrame(e){return Promise.race([new Promise((t=>{e.addEventListener("firstFrame",t,{once:!0})})),(0,a.wait)(2500)]).then((()=>e))}static loadAnimationWorker(e){var t=this;return(0,r._)((function*(){const{width:o,height:r,group:n=h.DEFAULT_ANIMATION_GROUP,elements:i}=e;t.initialized||(yield t.init());const[s]=i;if(!o||!r){const{width:t,height:o}=(0,l.getElementSize)(s);e.width=t,e.height=o}if(Number(e.width)<=0||Number(e.height)<=0)return Promise.reject(new Error("Передайте размер анимации, размеры контейнера имеют неявные значения"));const a=t.createPlayer(e);return d.animationIntersector.addAnimation(a,n),new Promise((e=>{a.addEventListener("firstFrame",(()=>{e(a)}),{once:!0})}))}))()}static handlePlayerLoaded(e,t,o){const r=this.players[e];r&&r.handleLoad(t,o)}static handleFrame(e,t,o){const r=this.players[e];r&&(r.cache.frames.set(t,o),r.addFrameToQueue(t))}static handlePlayerError(e,t){var o;c.isDevelopment&&console.error(t);const r=this.players[e];if(!r)return;null==(o=d.animationIntersector.getAnimations(r.options.elements[0]))||o.forEach((e=>{d.animationIntersector.checkAnimation({animation:e,pause:!0,destroy:!0})}))}static handleDestroy(e){this.players[e].remove(),delete this.players[e]}static destroyWorkers(){this.workers.forEach((e=>{e.terminate()})),this.workers=[],this.initialized=!1,this.prevUsedWorkerId=0}static createPlayer(e){var t,o;const{animationData:r}=e;let n=this.prevUsedWorkerId++;n>=this.workers.length&&(n=0,this.prevUsedWorkerId=0);const s=new i.LottiePlayer(this.workers[n],e),{id:a,cache:c}=s;var l;this.players[a]=s;const d=null!=(l=(t=this.cachedPlayers)[o=c.name])?l:t[o]=new Set;return c.name&&d&&d.add(s),s.addEventListener("destroy",(()=>{this.handleDestroy(a),d&&(d.delete(s),d.size||delete this.cachedPlayers[c.name])})),s.loadData(r),s}}h.MAX_WORKERS_COUNT=4,h.DEFAULT_ANIMATION_GROUP="",h.initialized=!1,h.prevUsedWorkerId=0,h.workers=[],h.players={},h.cachedPlayers={}},858109:(e,t,o)=>{"use strict";o.d(t,{LottiePlayer:()=>p});var r=o(434788),n=o(293774),i=o(982054),s=o(499118),a=o(978352),c=o(671537),l=o(371830),d=o(630001),u=o(944685),h=o(87378),m=o(504238);class p extends u.EventDispatcher{setName(e=String(this.id)){this.options.name=e}setSpeed(e=1){return this.options.speed!==e&&(this.options.speed=e,this.paused||this.setMainLoop()),this}setColor(e=null){return this.options.color=e,this}setInverseColor(e=null){return this.options.inverseColor=e,this}setDirection(e=i.LottiePlayerDirection.FORWARD){return this.options.direction!==e&&(this.options.direction=e,this.paused||this.setMainLoop()),this}setAutoplay(e=!0){return this.options.autoplay=e,this.initialAutoplay=e,this}setLoop(e=!0){return this.options.loop=e,this.initialLoop=e,this}setSize({width:e,height:t}){return e&&(this.options.width=Math.trunc(Math.abs(e))),t&&(this.options.height=Math.trunc(Math.abs(t))),this}setScale(e=1){return this.options.scale=e,this}setUpscale(e=!0){if(this.options.upscale=e,!e)return this;const t=l.PIXEL_RATIO+this.options.scale;return this.options.width*=t,this.options.height*=t,this}setSkipFirstFrame(e=!1){return this.options.skipFirstFrame=e,this}setStartFrameIndex(e=null){return this.options.startFrameIndex=e,this}setSkipRatio(e){return e&&(this.skipDelta=1/e),this}setCanvas({width:e,height:t,center:o,elements:r,className:n,canvas:i}){var s,a;if(e&&t)return i||(i=document.createElement("canvas")),i.width=this.options.width,i.height=this.options.height,i.style.width="100%",i.style.height="100%",i.style.maxWidth="100%",i.style.maxHeight="100%",this.options.canvas=i,this.options.elements=r,n&&n.split(" ").forEach((e=>{e&&this.container.classList.add(e)})),this.container.classList.add("rlottie"),this.container.style.width=`${e}px`,this.container.style.height=`${t}px`,o&&(this.container.style.top="50%",this.container.style.left="50%",this.container.style.transform+="translate(-50%, -50%)"),this.context=m.isOffscreenCanvasSupported?null==(s=i)?void 0:s.transferControlToOffscreen().getContext("2d"):null==(a=i)?void 0:a.getContext("2d"),this.container.append(i),this}play(){(this.paused||this.autoPaused)&&(this.paused=!1,this.autoPaused=!1,this.setMainLoop())}playPart({from:e,to:t}){return this.pause(),this.currentFrame=e-1,this.playToFrame({frame:t,direction:t>e?1:-1})}playToFrame({frame:e,speed:t,direction:o}){var r;this.pause(),this.setDirection(null!=o?o:this.currentFrame>e?i.LottiePlayerDirection.BACKWARD:i.LottiePlayerDirection.FORWARD),void 0!==t&&this.setSpeed(t);const n=[this.currentFrame,e];return this.options.direction===i.LottiePlayerDirection.BACKWARD&&n.reverse(),this.options.loop=!1,this.setMinMax(...n),null==(r=this.playToCancel)||r.call(this),new Promise(((e,t)=>{this.playToCancel=t,this.addEventListener("loopComplete",(()=>{e()}),{once:!0}),this.play()}))}pause(){this.paused||(this.paused=!0)}reset(){const{startFrameIndex:e,direction:t}=this.options;this.currentFrame=null!=e?e:t===i.LottiePlayerDirection.FORWARD?this.minFrame:this.maxFrame}stop(){this.pause(),this.setMinMax(),this.reset(),this.requestFrame(this.currentFrame)}restart(){this.stop(),requestAnimationFrame((()=>{this.play()}))}remove(){this.destroyed||(this.pause(),this.sendQuery("destroy"),this.destroyed=!0,this.container.remove(),this.cache.destroy(),this.dispatchEvent("destroy"),this.removeEventListeners())}sendQuery(e,...t){var o;null==(o=this.worker)||o.sendQuery(e,this.id,...t)}loadData(e){const{width:t,height:o}=this.options;if(!(e instanceof Blob)){e="string"==typeof e?e:JSON.stringify(e);const t=(new TextEncoder).encode(e);e=new Blob([t],{type:"application/json;charset=utf-8"})}this.sendQuery("loadFromData",e,t,o,this.cache.name)}applyColor(e){const{color:t}=this.options;if(!t)return;const[o,r,n]=t;for(let t=0,i=e.length;t<i;t+=4)0!==e[t+3]&&(e[t]=o,e[t+1]=r,e[t+2]=n)}applyInversing(e){const{inverseColor:t}=this.options;if(!t)return;const[o,r,n]=t;for(let t=0,i=e.length;t<i;t+=4)0===e[t+3]?(e[t]=o,e[t+1]=r,e[t+2]=n,e[t+3]=255):e[t+3]=0}requestFrame(e){this.cache.frames.has(e)?this.addFrameToQueue(e):(this.frameRenderStart=performance.now(),this.sendQuery("renderFrame",e))}addFrameToQueue(e){const t=this.frameRateDelta>this.frameRateInterval?(0,c.smoothStep)(this.frameRateInterval/(this.frameRateDelta-this.frameRateInterval),0,this.frameRateInterval):this.frameRateInterval;this.frameRenderTimeout&&clearTimeout(this.frameRenderTimeout);const o=this.frameRenderStart||performance.now();this.frameRenderStart=0,this.frameRenderTimeout=setTimeout((()=>{this.renderFrame(e),this.frameRateDelta=performance.now()-o}),t)}renderFrame(e){const{width:t,height:o,color:r,inverseColor:n}=this.options;try{var i;let c=this.cache.frames.get(e);if(!c)return;if(null==(i=this.context)||i.clearRect(0,0,t,o),c instanceof Uint8ClampedArray){r&&this.applyColor(c),n&&this.applyInversing(c);const e=new ImageData(t,o);e.data.set(c),c=e}if(c instanceof ImageData){var s;const r=document.createElement("canvas");r.width=t,r.height=o,null==(s=r.getContext("2d"))||s.putImageData(c,0,0),c=r,this.cache.frames.set(e,r)}var a;if(c instanceof HTMLCanvasElement||h.isImageBitmapSupported&&c instanceof ImageBitmap)null==(a=this.context)||a.drawImage(c,0,0);this.dispatchEvent("enterFrame",e)}catch(e){d.isDevelopment&&console.error(e),this.options.autoplay=!1,this.pause()}}handleLap(){return this.options.loop?(this.dispatchEvent("loopComplete"),!0):(this.pause(),this.dispatchEvent("loopComplete"),!1)}setMainLoop(){clearTimeout(this.frameRenderTimeout),this.currentRenderMethod=this.options.direction===i.LottiePlayerDirection.FORWARD?this.mainLoopForwards.bind(this):this.mainLoopBackwards.bind(this),this.listenersResults.enterFrame&&this.enterFrameHandler()}mainLoopForwards(){return this.currentFrame+this.skipDelta>this.maxFrame?this.currentFrame=this.options.loop?this.minFrame:this.maxFrame:this.currentFrame+=this.skipDelta,this.requestFrame(this.currentFrame),!(this.currentFrame+this.skipDelta>this.maxFrame)||(this.minFrame||this.requestFrame(this.minFrame),this.handleLap())}mainLoopBackwards(){return this.currentFrame-this.skipDelta<this.minFrame?this.currentFrame=this.options.loop?this.maxFrame:this.minFrame:this.currentFrame-=this.skipDelta,this.requestFrame(this.currentFrame),!(this.currentFrame-this.skipDelta<this.minFrame)||(this.maxFrame||this.requestFrame(this.maxFrame),this.handleLap())}setMinMax(e=0,t=this.frames-1){this.minFrame=e,this.maxFrame=t}enterFrameHandler(){const{loop:e,autoplay:t}=this.options;if(this.paused||!this.currentRenderMethod)return;this.currentRenderMethod()||e||!t||(this.options.autoplay=!1)}mount(){const{elements:e}=this.options;this.container.parentNode||e.forEach((e=>e.append(this.container)))}handleLoad(e,t){const{speed:o,autoplay:r,startFrameIndex:n,skipFirstFrame:i}=this.options;if(this.fps=t,this.frames=e,this.setMinMax(),"number"==typeof n&&(this.options.startFrameIndex=(0,s.clamp)(n,this.minFrame,this.maxFrame)),this.reset(),this.fps<a.DEFAULT_FPS&&1!==this.skipDelta){const e=a.DEFAULT_FPS/this.fps;this.skipDelta=this.skipDelta/e}this.frameRateInterval=1e3/this.fps/o*this.skipDelta,i||this.requestFrame(this.currentFrame),this.dispatchEvent("ready"),this.addEventListener("enterFrame",(()=>{var e;this.mount(),this.dispatchEvent("firstFrame"),this.addEventListener("enterFrame",null==(e=this.enterFrameHandler)?void 0:e.bind(this)),r&&this.play()}),{once:!0})}constructor(e,t){super(),this.id=p.lastCreatedId++,this.container=document.createElement("div"),this.destroyed=!1,this.paused=!0,this.autoPaused=!1,this.fps=0,this.minFrame=0,this.maxFrame=0,this.frames=0,this.currentFrame=0,this.skipDelta=1,this.frameRateDelta=0,this.frameRenderStart=0,this.frameRateInterval=0;const{name:o,loop:i,scale:s,speed:a,upscale:c,autoplay:l,direction:d,skipRatio:u,skipFirstFrame:h,startFrameIndex:m}=t;this.worker=e,this.options=(0,r._)({},t),this.setName(o),this.setLoop(i),this.setScale(s),this.setSpeed(a),this.setSize(t),this.setUpscale(c),this.setCanvas(t),this.setAutoplay(l),this.setSkipRatio(u),this.setDirection(d),this.setSkipFirstFrame(h),this.setStartFrameIndex(m),this.cache=new n.LottieFramesCache({player:this})}}p.lastCreatedId=0},982054:(e,t,o)=>{"use strict";var r;o.d(t,{LottiePlayerDirection:()=>r}),function(e){e[e.FORWARD=1]="FORWARD",e[e.BACKWARD=-1]="BACKWARD"}(r||(r={}))},656626:(e,t,o)=>{"use strict";o.d(t,{LottieWorker:()=>a});var r=o(630001),n=o(944685),i=o(344718),s=o(382448);class a extends n.EventDispatcher{postMessage(e){this.worker.postMessage(e)}sendQuery(e,...t){const o={queryMethod:e,queryMethodArguments:t};if(!s.isTransferableSupported)return void this.worker.postMessage(o);const r=(0,i.getTransferBuffer)(t);this.worker.postMessage(o,r)}terminate(){this.removeEventListeners(),this.worker.terminate()}constructor(e,t){super(),this.index=t,this.worker=e,e.onerror=e=>{try{this.dispatchEvent("workerError",e),this.terminate()}catch(e){r.isDevelopment&&console.error(e)}},e.onmessage=e=>{this.dispatchEvent(e.data.queryMethodListener,...e.data.queryMethodArguments)}}}},513773:(e,t,o)=>{"use strict";function r(e,t){const o=e.indexOf(t);if(-1!==o){const[t]=e.splice(o,1);return t}}o.d(t,{arrayRemoveItem:()=>r})},142314:(e,t,o)=>{"use strict";o.d(t,{context:()=>r});const r="undefined"!=typeof window?window:self},557205:(e,t,o)=>{"use strict";let r;function n(e){if(!r)return r=[e],void requestAnimationFrame((()=>{if(!r)return;const e=r;r=void 0,e.forEach((e=>e()))}));r.push(e)}o.d(t,{fastRequestAnimationFrame:()=>n})},868384:(e,t,o)=>{"use strict";function r(e){const{paddingTop:t,paddingBottom:o,paddingLeft:r,paddingRight:n,borderTopWidth:i,borderBottomWidth:s,borderLeftWidth:a,borderRightWidth:c}=getComputedStyle(e),l=parseInt(r)+parseInt(n),d=parseInt(t)+parseInt(o),u=parseInt(a)+parseInt(c),h=parseInt(i)+parseInt(s);return{width:Math.trunc(parseInt(e.style.width)||e.clientWidth-l-u)||0,height:Math.trunc(parseInt(e.style.height)||e.clientHeight-d-h)||0}}o.d(t,{getElementSize:()=>r})},344718:(e,t,o)=>{"use strict";o.d(t,{getTransferBuffer:()=>n});var r=o(504238);function n(e){return e.reduce(((e,t)=>{var o;(t instanceof ArrayBuffer||r.isOffscreenCanvasSupported&&t instanceof OffscreenCanvas)&&e.push(t);const n=null==(o=t)?void 0:o.buffer;return n instanceof ArrayBuffer&&e.push(n),e}),[])}},630001:(e,t,o)=>{"use strict";o.d(t,{isDevelopment:()=>r});const r=!1},709364:(e,t,o)=>{"use strict";function r(e){var t;return null==(t=e)?void 0:t.isConnected}o.d(t,{isElementMounted:()=>r})},121337:(e,t,o)=>{"use strict";o.d(t,{isFirefox:()=>n});var r=o(270412);const n=r.userAgent&&r.userAgent.indexOf("Firefox")>0},87378:(e,t,o)=>{"use strict";o.d(t,{isImageBitmapSupported:()=>r});const r="undefined"!=typeof ImageBitmap},504238:(e,t,o)=>{"use strict";o.d(t,{isOffscreenCanvasSupported:()=>i});var r=o(792048),n=o(121337);const i=!r.isSafari&&!n.isFirefox&&"undefined"!=typeof HTMLCanvasElement&&void 0!==HTMLCanvasElement.prototype.transferControlToOffscreen},792048:(e,t,o)=>{"use strict";o.d(t,{isSafari:()=>i});var r=o(142314),n=o(270412);const i="safari"in r.context||n.userAgent&&(/\b(iPad|iPhone|iPod)\b/.test(n.userAgent)||n.userAgent.match("Safari")&&!n.userAgent.match("Chrome"))},740393:(e,t,o)=>{"use strict";o.d(t,{isTouchSupported:()=>r});const r="ontouchstart"in window||"DocumentTouch"in window},382448:(e,t,o)=>{"use strict";o.d(t,{isTransferableSupported:()=>n});var r=o(792048);let n=!0;if(r.isSafari)try{const[,e]=navigator.userAgent.match(/Version\/(.+?) /);n=+e>=14}catch(e){n=!1}},207351:(e,t,o)=>{"use strict";o.d(t,{isWebAssemblySupported:()=>r});const r="undefined"!=typeof WebAssembly},671537:(e,t,o)=>{"use strict";function r(e,t,o){const r=Math.max(0,Math.min(1,(e-t)/(o-t))),n=e*(r*r*(3-2*r));return n>o?o:n<t?t:n}o.d(t,{smoothStep:()=>r})},270412:(e,t,o)=>{"use strict";o.d(t,{userAgent:()=>r});const r="undefined"!=typeof navigator?navigator.userAgent:null},191997:(e,t,o)=>{"use strict";function r(e){return new Promise((t=>setTimeout(t,e)))}o.d(t,{wait:()=>r})},834347:(e,t,o)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},r.apply(this,arguments)}o.d(t,{extends:()=>r})},906811:(e,t,o)=>{"use strict";o.d(t,{useVirtualizer:()=>c});var r=o(834347),n=o(667294),i=o(945032),s="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function a(e){var t=n.useReducer((function(){return{}}),{})[1],o=(0,r.extends)({},e,{onChange:function(o){t(),null==e.onChange||e.onChange(o)}}),a=n.useState((function(){return new i.Virtualizer(o)}))[0];return a.setOptions(o),n.useEffect((function(){return a._didMount()}),[]),s((function(){return a._willUpdate()})),a}function c(e){return a((0,r.extends)({observeElementRect:i.observeElementRect,observeElementOffset:i.observeElementOffset,scrollToFn:i.elementScroll},e))}},148849:(e,t,o)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},r.apply(this,arguments)}o.d(t,{extends:()=>r})},945032:(e,t,o)=>{"use strict";o.d(t,{Virtualizer:()=>p,defaultRangeExtractor:()=>s,elementScroll:()=>m,observeElementOffset:()=>l,observeElementRect:()=>a,observeWindowOffset:()=>d,observeWindowRect:()=>c,windowScroll:()=>h});var r=o(148849),n=o(301257),i=function(e){return e},s=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),o=Math.min(e.endIndex+e.overscan,e.count-1),r=[],n=t;n<=o;n++)r.push(n);return r},a=function(e,t){var o=e.scrollElement;if(o){var r=function(e){var o=e.width,r=e.height;t({width:Math.round(o),height:Math.round(r)})};r(o.getBoundingClientRect());var n=new ResizeObserver((function(e){var t=e[0];if(null!=t&&t.borderBoxSize){var n=t.borderBoxSize[0];if(n)return void r({width:n.inlineSize,height:n.blockSize})}r(o.getBoundingClientRect())}));return n.observe(o,{box:"border-box"}),function(){n.unobserve(o)}}},c=function(e,t){var o=e.scrollElement;if(o){var r=function(){t({width:o.innerWidth,height:o.innerHeight})};return r(),o.addEventListener("resize",r,{passive:!0}),function(){o.removeEventListener("resize",r)}}},l=function(e,t){var o=e.scrollElement;if(o){var r=function(){t(o[e.options.horizontal?"scrollLeft":"scrollTop"])};return r(),o.addEventListener("scroll",r,{passive:!0}),function(){o.removeEventListener("scroll",r)}}},d=function(e,t){var o=e.scrollElement;if(o){var r=function(){t(o[e.options.horizontal?"scrollX":"scrollY"])};return r(),o.addEventListener("scroll",r,{passive:!0}),function(){o.removeEventListener("scroll",r)}}},u=function(e,t,o){if(null!=t&&t.borderBoxSize){var r=t.borderBoxSize[0];if(r)return Math.round(r[o.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[o.options.horizontal?"width":"height"])},h=function(e,t,o){var r,n,i=t.adjustments,s=void 0===i?0:i,a=t.behavior,c=e+s;null==(r=o.scrollElement)||null==r.scrollTo||r.scrollTo(((n={})[o.options.horizontal?"left":"top"]=c,n.behavior=a,n))},m=function(e,t,o){var r,n,i=t.adjustments,s=void 0===i?0:i,a=t.behavior,c=e+s;null==(r=o.scrollElement)||null==r.scrollTo||r.scrollTo(((n={})[o.options.horizontal?"left":"top"]=c,n.behavior=a,n))},p=function(e){var t,o,a=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(t=null,o=function(){return t||("undefined"!=typeof ResizeObserver?t=new ResizeObserver((function(e){e.forEach((function(e){a._measureElement(e.target,e)}))})):null)},{disconnect:function(){var e;return null==(e=o())?void 0:e.disconnect()},observe:function(e){var t;return null==(t=o())?void 0:t.observe(e,{box:"border-box"})},unobserve:function(e){var t;return null==(t=o())?void 0:t.unobserve(e)}}),this.range={startIndex:0,endIndex:0},this.setOptions=function(e){Object.entries(e).forEach((function(t){var o=t[0];void 0===t[1]&&delete e[o]})),a.options=(0,r.extends)({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:i,rangeExtractor:s,onChange:function(){},measureElement:u,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},e)},this.notify=function(){null==a.options.onChange||a.options.onChange(a)},this.cleanup=function(){a.unsubs.filter(Boolean).forEach((function(e){return e()})),a.unsubs=[],a.scrollElement=null},this._didMount=function(){return a.measureElementCache.forEach(a.observer.observe),function(){a.observer.disconnect(),a.cleanup()}},this._willUpdate=function(){var e=a.options.getScrollElement();a.scrollElement!==e&&(a.cleanup(),a.scrollElement=e,a._scrollToOffset(a.scrollOffset,{adjustments:void 0,behavior:void 0}),a.unsubs.push(a.options.observeElementRect(a,(function(e){var t=a.scrollRect;a.scrollRect=e,(a.options.horizontal?e.width!==t.width:e.height!==t.height)&&a.maybeNotify()}))),a.unsubs.push(a.options.observeElementOffset(a,(function(e){a.scrollAdjustments=0,a.scrollOffset!==e&&(null!==a.isScrollingTimeoutId&&(clearTimeout(a.isScrollingTimeoutId),a.isScrollingTimeoutId=null),a.isScrolling=!0,a.scrollDirection=a.scrollOffset<e?"forward":"backward",a.scrollOffset=e,a.maybeNotify(),a.isScrollingTimeoutId=setTimeout((function(){a.isScrollingTimeoutId=null,a.isScrolling=!1,a.scrollDirection=null,a.maybeNotify()}),a.options.scrollingDelay))}))))},this.getSize=function(){return a.scrollRect[a.options.horizontal?"width":"height"]},this.memoOptions=(0,n.memo)((function(){return[a.options.count,a.options.paddingStart,a.options.scrollMargin,a.options.getItemKey]}),(function(e,t,o,r){return a.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:o,getItemKey:r}}),{key:!1}),this.getFurthestMeasurement=function(e,t){for(var o=new Map,r=new Map,n=t-1;n>=0;n--){var i=e[n];if(!o.has(i.lane)){var s=r.get(i.lane);if(null==s||i.end>s.end?r.set(i.lane,i):i.end<s.end&&o.set(i.lane,!0),o.size===a.options.lanes)break}}return r.size===a.options.lanes?Array.from(r.values()).sort((function(e,t){return e.end-t.end}))[0]:void 0},this.getMeasurements=(0,n.memo)((function(){return[a.memoOptions(),a.itemSizeCache]}),(function(e,t){var o=e.count,r=e.paddingStart,n=e.scrollMargin,i=e.getItemKey,s=a.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,a.pendingMeasuredCacheIndexes):0;a.pendingMeasuredCacheIndexes=[];for(var c=a.measurementsCache.slice(0,s),l=s;l<o;l++){var d=i(l),u=1===a.options.lanes?c[l-1]:a.getFurthestMeasurement(c,l),h=u?u.end:r+n,m=t.get(d),p="number"==typeof m?m:a.options.estimateSize(l),v=h+p,f=u?u.lane:l%a.options.lanes;c[l]={index:l,start:h,size:p,end:v,key:d,lane:f}}return a.measurementsCache=c,c}),{key:!1,debug:function(){return a.options.debug}}),this.calculateRange=(0,n.memo)((function(){return[a.getMeasurements(),a.getSize(),a.scrollOffset]}),(function(e,t,o){return a.range=function(e){var t=e.measurements,o=e.outerSize,r=e.scrollOffset,n=t.length-1,i=function(e){return t[e].start},s=v(0,n,i,r),a=s;for(;a<n&&t[a].end<r+o;)a++;return{startIndex:s,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:o})}),{key:!1,debug:function(){return a.options.debug}}),this.maybeNotify=(0,n.memo)((function(){var e=a.calculateRange();return[e.startIndex,e.endIndex,a.isScrolling]}),(function(){a.notify()}),{key:!1,debug:function(){return a.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=(0,n.memo)((function(){return[a.options.rangeExtractor,a.calculateRange(),a.options.overscan,a.options.count]}),(function(e,t,o,n){return e((0,r.extends)({},t,{overscan:o,count:n}))}),{key:!1,debug:function(){return a.options.debug}}),this.indexFromElement=function(e){var t=a.options.indexAttribute,o=e.getAttribute(t);return o?parseInt(o,10):(console.warn("Missing attribute name '"+t+"={index}' on measured element."),-1)},this._measureElement=function(e,t){var o,r=a.indexFromElement(e),n=a.measurementsCache[r];if(n){var i=a.measureElementCache.get(n.key);if(!e.isConnected)return a.observer.unobserve(e),void(e===i&&a.measureElementCache.delete(n.key));i!==e&&(i&&a.observer.unobserve(i),a.observer.observe(e),a.measureElementCache.set(n.key,e));var s=a.options.measureElement(e,t,a),c=s-(null!=(o=a.itemSizeCache.get(n.key))?o:n.size);0!==c&&(n.start<a.scrollOffset&&a._scrollToOffset(a.scrollOffset,{adjustments:a.scrollAdjustments+=c,behavior:void 0}),a.pendingMeasuredCacheIndexes.push(r),a.itemSizeCache=new Map(a.itemSizeCache.set(n.key,s)),a.notify())}},this.measureElement=function(e){e&&a._measureElement(e,void 0)},this.getVirtualItems=(0,n.memo)((function(){return[a.getIndexes(),a.getMeasurements()]}),(function(e,t){for(var o=[],r=0,n=e.length;r<n;r++){var i=t[e[r]];o.push(i)}return o}),{key:!1,debug:function(){return a.options.debug}}),this.getVirtualItemForOffset=function(e){var t=a.getMeasurements();return(0,n.notUndefined)(t[v(0,t.length-1,(function(e){return(0,n.notUndefined)(t[e]).start}),e)])},this.getOffsetForAlignment=function(e,t){var o=a.getSize();"auto"===t&&(t=e<=a.scrollOffset?"start":e>=a.scrollOffset+o?"end":"start"),"start"===t||("end"===t?e-=o:"center"===t&&(e-=o/2));var r=a.options.horizontal?"scrollWidth":"scrollHeight",n=(a.scrollElement?"document"in a.scrollElement?a.scrollElement.document.documentElement[r]:a.scrollElement[r]:0)-a.getSize();return Math.max(Math.min(n,e),0)},this.getOffsetForIndex=function(e,t){void 0===t&&(t="auto"),e=Math.max(0,Math.min(e,a.options.count-1));var o=(0,n.notUndefined)(a.getMeasurements()[e]);if("auto"===t)if(o.end>=a.scrollOffset+a.getSize()-a.options.scrollPaddingEnd)t="end";else{if(!(o.start<=a.scrollOffset+a.options.scrollPaddingStart))return[a.scrollOffset,t];t="start"}var r="end"===t?o.end+a.options.scrollPaddingEnd:o.start-a.options.scrollPaddingStart;return[a.getOffsetForAlignment(r,t),t]},this.isDynamicMode=function(){return a.measureElementCache.size>0},this.cancelScrollToIndex=function(){null!==a.scrollToIndexTimeoutId&&(clearTimeout(a.scrollToIndexTimeoutId),a.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e,t){var o=void 0===t?{}:t,r=o.align,n=void 0===r?"start":r,i=o.behavior;a.cancelScrollToIndex(),"smooth"===i&&a.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),a._scrollToOffset(a.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=function(e,t){var o=void 0===t?{}:t,r=o.align,i=void 0===r?"auto":r,s=o.behavior;e=Math.max(0,Math.min(e,a.options.count-1)),a.cancelScrollToIndex(),"smooth"===s&&a.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var c=a.getOffsetForIndex(e,i),l=c[0],d=c[1];a._scrollToOffset(l,{adjustments:void 0,behavior:s}),"smooth"!==s&&a.isDynamicMode()&&(a.scrollToIndexTimeoutId=setTimeout((function(){if(a.scrollToIndexTimeoutId=null,a.measureElementCache.has(a.options.getItemKey(e))){var t=a.getOffsetForIndex(e,d)[0];(0,n.approxEqual)(t,a.scrollOffset)||a.scrollToIndex(e,{align:d,behavior:s})}else a.scrollToIndex(e,{align:d,behavior:s})})))},this.scrollBy=function(e,t){var o=(void 0===t?{}:t).behavior;a.cancelScrollToIndex(),"smooth"===o&&a.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),a._scrollToOffset(a.scrollOffset+e,{adjustments:void 0,behavior:o})},this.getTotalSize=function(){var e;return((null==(e=a.getMeasurements()[a.options.count-1])?void 0:e.end)||a.options.paddingStart)-a.options.scrollMargin+a.options.paddingEnd},this._scrollToOffset=function(e,t){var o=t.adjustments,r=t.behavior;a.options.scrollToFn(e,{behavior:r,adjustments:o},a)},this.measure=function(){a.itemSizeCache=new Map,a.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((function(e){a.itemSizeCache.set(e.key,e.size)})),this.maybeNotify()},v=function(e,t,o,r){for(;e<=t;){var n=(e+t)/2|0,i=o(n);if(i<r)e=n+1;else{if(!(i>r))return n;t=n-1}}return e>0?e-1:0}},301257:(e,t,o)=>{"use strict";function r(e,t,o){var r,n,i=null!=(r=o.initialDeps)?r:[];return function(){var r;o.key&&null!=o.debug&&o.debug()&&(r=Date.now());var s,a=e();if(!(a.length!==i.length||a.some((function(e,t){return i[t]!==e}))))return n;if(i=a,o.key&&null!=o.debug&&o.debug()&&(s=Date.now()),n=t.apply(void 0,a),o.key&&null!=o.debug&&o.debug()){var c=Math.round(100*(Date.now()-r))/100,l=Math.round(100*(Date.now()-s))/100,d=l/16,u=function(e,t){for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c⏱ "+u(l,5)+" /"+u(c,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*d,120))+"deg 100% 31%);",null==o?void 0:o.key)}return null==o||null==o.onChange||o.onChange(n),n}}function n(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}o.d(t,{approxEqual:()=>i,memo:()=>r,notUndefined:()=>n});var i=function(e,t){return Math.abs(e-t)<1}},53416:(e,t,o)=>{"use strict";o.d(t,{nanoid:()=>r});let r=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")},997650:(e,t,o)=>{"use strict";o.d(t,{observe:()=>l,useInView:()=>d});var r=o(667294);const n=new Map,i=new WeakMap;let s,a=0;function c(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(o=e.root,o?(i.has(o)||(a+=1,i.set(o,a.toString())),i.get(o)):"0"):e[t]}`;var o})).toString()}function l(e,t,o={},r=s){if(void 0===window.IntersectionObserver&&void 0!==r){const n=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof o.threshold?o.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}const{id:i,observer:a,elements:l}=function(e){let t=c(e),o=n.get(t);if(!o){const r=new Map;let i;const s=new IntersectionObserver((t=>{t.forEach((t=>{var o;const n=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=n),null==(o=r.get(t.target))||o.forEach((e=>{e(n,t)}))}))}),e);i=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),o={id:t,observer:s,elements:r},n.set(t,o)}return o}(o);let d=l.get(e)||[];return l.has(e)||l.set(e,d),d.push(t),a.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(l.delete(e),a.unobserve(e)),0===l.size&&(a.disconnect(),n.delete(i))}}r.Component;function d({threshold:e,delay:t,trackVisibility:o,rootMargin:n,root:i,triggerOnce:s,skip:a,initialInView:c,fallbackInView:d,onChange:u}={}){var h;const[m,p]=r.useState(null),v=r.useRef(),[f,g]=r.useState({inView:!!c,entry:void 0});v.current=u,r.useEffect((()=>{if(a||!m)return;let r;return r=l(m,((e,t)=>{g({inView:e,entry:t}),v.current&&v.current(e,t),t.isIntersecting&&s&&r&&(r(),r=void 0)}),{root:i,rootMargin:n,threshold:e,trackVisibility:o,delay:t},d),()=>{r&&r()}}),[Array.isArray(e)?e.toString():e,m,i,n,s,a,o,d,t]);const _=null==(h=f.entry)?void 0:h.target,b=r.useRef();m||!_||s||a||b.current===_||(b.current=_,g({inView:!!c,entry:void 0}));const y=[p,f.inView,f.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}}}]);try{stManager.done("dist/5bf72a59c976e21a7b832d8fdefb79bd.3e984285fa99217e6c43.js")}catch(e){}