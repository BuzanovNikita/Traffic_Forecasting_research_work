/*! For license information please see search.f93ff6ff652682d858f2.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={360646:(e,t,r)=>{r.d(t,{Icon16HistoryBackwardOutline:()=>o});var o=(0,r(28178).makeIcon)("Icon16HistoryBackwardOutline","history_backward_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="history_backward_outline_16"><path d="M9.828 2.812a5.496 5.496 0 0 0-5.313.935h.735a.75.75 0 1 1 0 1.5H3.137c-.058 0-.139 0-.212-.006a1.003 1.003 0 0 1-.379-.103 1 1 0 0 1-.437-.437 1.003 1.003 0 0 1-.103-.378C2 4.248 2 4.167 2 4.11V2a.75.75 0 0 1 1.5 0v.64a6.997 6.997 0 0 1 10.255 9.345 6.998 6.998 0 0 1-7.553 2.78 7.07 7.07 0 0 1-2.96-1.615.75.75 0 1 1 1.016-1.103 5.571 5.571 0 0 0 2.33 1.268A5.496 5.496 0 0 0 13.5 7.962a5.5 5.5 0 0 0-3.672-5.15ZM7.75 5a.75.75 0 0 1 .75.75v2.473l1.32 1.539a.75.75 0 0 1-1.14.976l-1.5-1.75A.75.75 0 0 1 7 8.5V5.75A.75.75 0 0 1 7.75 5Z" /></symbol>',16,16,!1,void 0)},688999:(e,t,r)=>{r.d(t,{Icon56ReportOutline:()=>o});var o=(0,r(28178).makeIcon)("Icon56ReportOutline","report_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="report_outline_56"><g fill="currentColor"><path fill-rule="evenodd" d="M17.06 5.318A4.5 4.5 0 0 1 20.244 4h15.514a4.5 4.5 0 0 1 3.182 1.318l11.743 11.743A4.5 4.5 0 0 1 52 20.243v15.514a4.5 4.5 0 0 1-1.318 3.182L38.939 50.682A4.5 4.5 0 0 1 35.757 52H20.243a4.5 4.5 0 0 1-3.182-1.318L5.318 38.939A4.5 4.5 0 0 1 4 35.757V20.243a4.5 4.5 0 0 1 1.318-3.182zM20.244 7a1.5 1.5 0 0 0-1.061.44L7.439 19.181A1.5 1.5 0 0 0 7 20.242v15.515c0 .398.158.78.44 1.061l11.742 11.743a1.5 1.5 0 0 0 1.06.439h15.515a1.5 1.5 0 0 0 1.061-.44l11.743-11.742a1.5 1.5 0 0 0 .44-1.06V20.242a1.5 1.5 0 0 0-.44-1.061L36.818 7.439A1.5 1.5 0 0 0 35.758 7z" clip-rule="evenodd" /><path d="M30 36a2 2 0 1 0-4 0 2 2 0 0 0 4 0zM29.5 18a1.5 1.5 0 0 0-2.993-.145L26.5 18v11a1.5 1.5 0 0 0 2.993.145L29.5 29z" /></g></symbol>',56,56,!1,void 0)},108679:(e,t,r)=>{var o=r(659864),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return o.isMemo(e)?s:l[e.$$typeof]||a}l[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[o.Memo]=s;var i=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,o){if("string"!=typeof r){if(p){var a=_(r);a&&a!==p&&e(t,a,o)}var s=u(r);d&&(s=s.concat(d(r)));for(var l=c(t),S=c(r),h=0;h<s.length;++h){var f=s[h];if(!(n[f]||o&&o[f]||S&&S[f]||l&&l[f])){var E=g(r,f);try{i(t,f,E)}catch(e){}}}}return t}},441143:e=>{e.exports=function(e,t,r,o,a,n,s,l){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=[r,o,a,n,s,l],u=0;(c=new Error(t.replace(/%s/g,(function(){return i[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},725602:(e,t,r)=>{r.d(t,{default:()=>o});const o={wrapper:"SearchInput-module__wrapper--HBTTP",inputWrap:"SearchInput-module__inputWrap--RwZpW",input:"SearchInput-module__input--OoBio",clearButton:"SearchInput-module__clearButton--DLioq",button:"SearchInput-module__button--iOQ0A"}},837960:()=>{},144311:(e,t,r)=>{r.d(t,{default:()=>o});const o={app:"App-module__app--sMbxh",search:"App-module__search--_fJCB"}},287063:(e,t,r)=>{r.d(t,{default:()=>o});const o={root:"SearchResults-module__root--mnxjb",scroll:"SearchResults-module__scroll--P7w2c"}},642419:(e,t,r)=>{r.d(t,{default:()=>o});const o={spinner:"Spinner-module__spinner--pJOJK"}},869921:(e,t)=>{var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,i=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,g=r?Symbol.for("react.forward_ref"):60112,_=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,S=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116,f=r?Symbol.for("react.block"):60121,E=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,m=r?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case u:case d:case n:case l:case s:case _:return e;default:switch(e=e&&e.$$typeof){case i:case g:case h:case S:case c:return e;default:return t}}case a:return t}}}function C(e){return y(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=i,t.ContextProvider=c,t.Element=o,t.ForwardRef=g,t.Fragment=n,t.Lazy=h,t.Memo=S,t.Portal=a,t.Profiler=l,t.StrictMode=s,t.Suspense=_,t.isAsyncMode=function(e){return C(e)||y(e)===u},t.isConcurrentMode=C,t.isContextConsumer=function(e){return y(e)===i},t.isContextProvider=function(e){return y(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return y(e)===g},t.isFragment=function(e){return y(e)===n},t.isLazy=function(e){return y(e)===h},t.isMemo=function(e){return y(e)===S},t.isPortal=function(e){return y(e)===a},t.isProfiler=function(e){return y(e)===l},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===_},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===d||e===l||e===s||e===_||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===S||e.$$typeof===c||e.$$typeof===i||e.$$typeof===g||e.$$typeof===E||e.$$typeof===v||e.$$typeof===m||e.$$typeof===f)},t.typeOf=y},659864:(e,t,r)=>{e.exports=r(869921)},929804:(e,t,r)=>{var o=r(14890).compose;t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?o:o.apply(null,arguments)}},898194:(e,t,r)=>{var o;r.d(t,{AudioPlayerAdapterPlaylistType:()=>o}),function(e){e.CURRENT="current",e.PLAYLIST="playlist",e.MY="my",e.ALBUM="album",e.TEMP="temp",e.RECOM="recoms",e.SEARCH="search",e.FEED="feed",e.LIVE="live",e.WALL="wall",e.RECENT="recent"}(o||(o={}))},180833:(e,t,r)=>{var o=r(798116),a=r(774462);a.$selectedIndex.reset(a.fireResetSelectionIndex),a.$itemsIndex.reset(a.fireResetItemsIndex),(0,o.sample)({clock:[a.fireUpSelectionIndex,a.fireDownSelectionIndex],fn:()=>!1,target:a.$isMouseActive}),(0,o.sample)({clock:a.fireSetSelectionIndexByItem,fn:()=>!0,target:a.$isMouseActive}),(0,o.sample)({clock:a.fireSetSelectionIndexByItem,source:a.$itemsIndex,fn:(e,t)=>e.findIndex((e=>e.id===t))||-1,target:a.$selectedIndex}),(0,o.sample)({clock:a.fireDownSelectionIndex,source:{itemsIndex:a.$itemsIndex,selectedIndex:a.$selectedIndex},fn:({itemsIndex:e,selectedIndex:t})=>e.length?(t+1)%e.length:-1,target:a.$selectedIndex}),(0,o.sample)({clock:a.fireUpSelectionIndex,source:{itemsIndex:a.$itemsIndex,selectedIndex:a.$selectedIndex},fn:({itemsIndex:e,selectedIndex:t})=>e.length?t-1<0?e.length-1:t-1:-1,target:a.$selectedIndex}),(0,o.sample)({clock:a.fireSetItemIndex,source:a.$itemsIndex,fn:(e,t)=>{if(null===t)return[];const r=[...e],o=r.findIndex((e=>e.id===t.id));return-1!==o&&(r[o]=t),r.push(t),r},target:a.$itemsIndex}),(0,o.sample)({clock:a.$selectedIndex,source:{selectedItemIndex:a.$selectedItemIndex,itemsIndex:a.$itemsIndex},filter:({selectedItemIndex:e,itemsIndex:t},r)=>{var o,a,n,s;return(null==(o=t[r]||0===(null==(n=t)||null==(a=n[r])?void 0:a.id)?t[r]:null)?void 0:o.id)!==(null==(s=e)?void 0:s.id)},fn:({itemsIndex:e},t)=>{var r,o;return e[t]||0===(null==(o=e)||null==(r=o[t])?void 0:r.id)?e[t]:null},target:a.$selectedItemIndex})},237421:(e,t,r)=>{var o,a,n,s=r(434788),l=r(785893),c=r(973935),i=r(54413),u=r(421553),d=r(293579),g=r(426848),_=r(824346),p=r(192220),S=r(714562),h=r(127822),f=r(321850);(null==(a=window.vk)||null==(o=a.pe)?void 0:o.static_manager_dynamic_imports)&&(null==(n=window.vk)?void 0:n.stDomain)&&(r.p=window.vk.stDomain+"/dist/"),window.searcher=i.searcher,window.iSearch=i.iSearch,window.searchActions=u.searchActions,window.slideShow=u.slideShow,window.slideHide=u.slideHide,(0,d.registerReactApplication)("SearchCatalogSuggester",(e=>{const t=e?(0,s._)({},e):null;t&&!t.triggers&&(t.triggers=(0,h.getTriggersMap)(t.type));const r=(0,d.getReactRootEl)("SearchCatalogSuggester");r&&c.render((0,l.jsx)(g.SearchCatalogSuggesterRoot,{initOptions:t}),r)})),(0,d.registerReactApplication)("SearchVideoCatalog",(()=>{const e=(0,d.getReactRootEl)("SearchVideoCatalog");e&&c.render((0,l.jsx)(_.SearchVideoCatalog,{}),e),(0,f.pushNavDestroy)((()=>{e&&c.unmountComponentAtNode(e)}))})),(0,d.registerReactApplication)("TopSearch",(()=>{const e=(0,d.getReactRootEl)("TopSearch");e&&c.render((0,l.jsx)(p.SearchTopRoot,{}),e)})),(0,d.registerReactApplication)("SearchAudioCatalog",(()=>{const e=(0,d.getReactRootEl)("SearchAudioCatalog");e&&c.render((0,l.jsx)(S.SearchAudioCatalogRoot,{}),e)}));try{window.stManager.done(window.jsc("web/search.js"))}catch(e){}},552311:(e,t,r)=>{r.d(t,{SearchInput:()=>i});var o=r(785893),a=r(667294),n=r(29271),s=r(315954),l=r(195192),c=r(725602);const i=({onClick:e,onSubmit:t,onFocus:r,onBlur:i,onInput:u,onKeyDown:d,searchQuery:g="",placeholder:_,focusTrigger:p})=>{const S=(0,a.useRef)(null),[h,f]=(0,a.useState)("");return(0,a.useEffect)((()=>{f(g)}),[g]),(0,a.useEffect)((()=>{var e,t;null==(t=S)||null==(e=t.current)||e.focus()}),[p]),(0,o.jsxs)("div",{className:c.default.wrapper,children:[(0,o.jsxs)("div",{className:c.default.inputWrap,children:[(0,o.jsx)("input",{className:c.default.input,type:"search",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",autoComplete:"off",placeholder:_||n.getLang("global_search"),onClick:t=>{var r;null==(r=e)||r(t)},onFocus:e=>{var t;null==(t=r)||t(e)},onBlur:e=>{var t;null==(t=i)||t(e)},onInput:e=>{var t;const r=e.currentTarget.value||"";f(r),null==(t=u)||t(e)},onKeyDown:e=>{var t;null==(t=d)||t(e)},ref:S,value:h,id:"search_query"}),h&&(0,o.jsx)("button",{className:c.default.clearButton,onClick:()=>{var e,r,o;f(""),null==(r=S)||null==(e=r.current)||e.focus(),null==(o=t)||o("")},children:(0,o.jsx)(s.Icon24Cancel,{})})]}),(0,o.jsx)("button",{className:c.default.button,onClick:()=>{var e;null==(e=t)||e(h)},children:(0,o.jsx)(l.Icon16SearchOutline,{})})]})}},690743:(e,t,r)=>{r.d(t,{SearchInput:()=>o.SearchInput});var o=r(552311)},714562:(e,t,r)=>{r.d(t,{SearchAudioCatalogRoot:()=>l});var o=r(785893),a=r(190147),n=r(772558),s=r(869048);const l=()=>(0,o.jsxs)(s.AppRootProvider,{children:[(0,o.jsx)(n.SearchInput,{}),(0,o.jsx)(a.SearchAudioCatalog,{})]})},411688:(e,t,r)=>{r.d(t,{SearchAudioCatalog:()=>d});var o=r(785893),a=r(667294),n=r(504190),s=r(898194),l=r(193452),c=r(539791),i=r(538310),u=r(648766);const d=()=>{var e,t;const r=(0,n.useStore)(u.searchAudioService.$audioSearchCatalog),d=(0,n.useStore)(u.extendedService.$data),g=(0,n.useStore)(u.searchAudioService.$isCatalogAudioSearchVisible),_=(0,n.useStore)(u.searchAudioService.$query),p=null==(e=r)?void 0:e.sections,S=(0,n.useEvent)(u.searchAudioService.setCatalogAudioSearchVisibleEvent),h=(0,n.useEvent)(u.catalogGetAudioSearchService.catalogSearchAudioEvent);if((0,a.useEffect)((()=>{g&&window.AudioPage.setVisibilitySectionsContent(!1)}),[g]),(0,a.useEffect)((()=>{if(!_)return window.AudioPage.setVisibilitySectionsContent(!0),void S(!1);h({query:_,need_blocks:1})}),[_]),(null==(t=p)?void 0:t.length)&&g){const e={navGo:i.navGo,userId:window.vk.id,musicPlayer:{playlistType:s.AudioPlayerAdapterPlaylistType.SEARCH}},t={catalogType:c.CatalogType.SEARCH,pageId:"SearchAudioCatalog"};return(0,o.jsx)(c.Catalog,{collectClick:l.searchStatsCollector.logEvent,collectView:l.searchViewStatCollector.logEvent,catalog:r,extendedData:d,nextFromSections:p,catalogVars:t,platformVars:e,blockLayoutResolver:c.mobileLayoutResolver})}return(0,o.jsx)(o.Fragment,{})}},190147:(e,t,r)=>{r.d(t,{SearchAudioCatalog:()=>o.SearchAudioCatalog});var o=r(411688)},932992:(e,t,r)=>{r.d(t,{SearchInput:()=>u});var o=r(785893),a=r(648766),n=r(504190),s=r(667294),l=r(690743),c=r(538310),i=r(106898);const u=()=>{const e=(0,s.useRef)(),[t,r]=(0,s.useState)((()=>new URLSearchParams(window.location.search).get("q")||"")),u=(0,n.useEvent)(a.searchAudioService.setQueryEvent),d=(0,n.useStore)(a.searchAudioService.$query),g=(0,s.useCallback)((e=>{const t=new URLSearchParams(window.location.search);t.set("q",e);const r=(0,i.encodeUrlSearchParams)(Object.fromEntries(t.entries()),"?");(0,c.navGo)(`${window.location.pathname}${r}`,null)}),[]);(0,s.useEffect)((()=>{u(t)}),[]),(0,s.useEffect)((()=>{r(d)}),[d]);const _=(0,s.useCallback)((t=>{const o=t.currentTarget.value;r(o),clearTimeout(e.current),e.current=setTimeout((()=>{g(o)}),220)}),[]),p=(0,s.useCallback)((t=>{clearTimeout(e.current),g(t)}),[g]);return(0,o.jsx)(l.SearchInput,{onInput:_,onSubmit:p,searchQuery:t})}},772558:(e,t,r)=>{r.d(t,{SearchInput:()=>o.SearchInput});var o=r(932992)},468114:(e,t,r)=>{r.d(t,{createExtendedService:()=>n});var o=r(798116);const a=e=>Object.values(e).filter((e=>Boolean(e))),n=({entitiesGroupsService:e,entitiesUsersService:t,entitiesVideoAlbumsService:r,entitiesVideoService:n,searchAudioService:s})=>{const{$entitiesGroups:l}=e,{$entitiesUsers:c}=t,{$entitiesVideo:i}=n,{$entitiesVideoAlbums:u}=r,{$audios:d,$playlists:g,$links:_}=s,p=l.map(a),S=c.map(a),h=i.map(a),f=u.map(a);return{$data:(0,o.combine)({groups:p,profiles:S,videos:h,albums:f,audios:d,playlists:g,links:_},(({albums:e,groups:t,profiles:r,videos:o,audios:a,playlists:n,links:s})=>({albums:e,groups:t,profiles:r,videos:o,audios:a,playlists:n,links:s})))}}},284956:(e,t,r)=>{r.d(t,{createSearchAudioService:()=>s});var o=r(538310),a=r(798116),n=r(600112);const s=({domain:e,catalogGetAudioSearchService:t})=>{const{catalogGetAudioSearchFx:r,catalogSearchAudioEvent:s}=t,l=e.createStore([]),c=e.createStore([]),i=e.createStore([]),u=e.createStore(!1),d=e.createStore(""),g=e.createStore({sections:[],default_section:""}),_=e.createEvent(),p=e.createEvent(),S=e.createEffect(n.checkSearchLoc);return(0,o.subscribeNavLocationChange)(S),(0,a.sample)({clock:S.doneData,source:d,filter:(e,t)=>t!==e,fn:(e,t)=>t,target:d}),(0,a.sample)({clock:p,target:d}),(0,a.sample)({clock:[s,_],source:r}).watch((e=>{var t;null==(t=e.controller)||t.abort()})),(0,a.sample)({clock:_,target:u}),(0,a.sample)({clock:r.doneData,fn:()=>!0,target:_}),(0,a.sample)({clock:r.doneData,filter:({catalog:e})=>Boolean(e),fn:({catalog:e={sections:[],default_section:""}})=>e,target:g}),(0,a.sample)({clock:r.doneData,filter:({audios:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({audios:e=[]})=>e,target:l}),(0,a.sample)({clock:r.doneData,filter:({playlists:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({playlists:e=[]})=>e,target:c}),(0,a.sample)({clock:r.doneData,filter:({links:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({links:e=[]})=>e,target:i}),{$audios:l,$playlists:c,$links:i,$isCatalogAudioSearchVisible:u,$audioSearchCatalog:g,$query:d,setCatalogAudioSearchVisibleEvent:_,setQueryEvent:p}}},648766:(e,t,r)=>{r.d(t,{catalogGetAudioSearchService:()=>E,extendedService:()=>m,searchAudioService:()=>v});var o=r(468114),a=r(284956),n=r(798116),s=r(481954),l=r(330943),c=r(336547),i=r(555888),u=r(796615),d=r(713990);const g=(0,n.createDomain)("search/SearchAudioCatalog"),_=(0,s.createEntitiesCatalogSectionsService)({domain:g}),p=(0,l.createEntitiesGroupsService)({domain:g}),S=(0,c.createEntitiesUsersService)({domain:g}),h=(0,i.createEntitiesVideoAlbumService)({domain:g}),f=(0,u.createEntitiesVideoService)({domain:g,entitiesGroupsService:p,entitiesUsersService:S}),E=(0,d.createCatalogGetAudioSearchService)({domain:g,entitiesCatalogSections:_,entitiesUsersService:S,entitiesGroupsService:p,entitiesVideoService:f,entitiesVideoAlbumsService:h}),v=(0,a.createSearchAudioService)({domain:g,catalogGetAudioSearchService:E}),m=(0,o.createExtendedService)({entitiesGroupsService:p,entitiesUsersService:S,entitiesVideoAlbumsService:h,entitiesVideoService:f,searchAudioService:v})},600112:(e,t,r)=>{r.d(t,{checkSearchLoc:()=>a});const o=/audios\d+\?(.+)/,a=e=>{const t=e.match(o);if(t){const e=t[1];var r;return null!=(r=new URLSearchParams(e).get("q"))?r:""}return""}},426848:(e,t,r)=>{r.d(t,{SearchCatalogSuggesterRoot:()=>l});var o=r(785893),a=r(50533),n=r(281858),s=r(391345);const l=({initOptions:e})=>(0,o.jsx)(a.Provider,{store:n.suggesterStore,children:(0,o.jsx)(s.SearchForm,{options:e})})},356571:(e,t,r)=>{r.d(t,{Catalog:()=>l});var o=r(434788),a=r(785893),n=r(667294),s=r(166455);const l=({catalog:e})=>{var t,r;const l=null==(r=e)||null==(t=r.sections)?void 0:t.find((({id:t})=>{var r;return t===(null==(r=e)?void 0:r.default_section)})),c=(0,s.extractBlocks)(l);return(0,a.jsx)(a.Fragment,{children:c.map((e=>{const t=(0,s.getBlockByLayout)(e);return(0,n.createElement)(t,(0,o._)({},e,{key:e.id}))}))})}},912826:(e,t,r)=>{r.d(t,{HeaderCompact:()=>a});var o=r(785893);const a=e=>(0,o.jsx)("div",{children:(0,o.jsx)("h3",{className:"SuggestionItemsTitle",children:e.layout.title})},e.id)},912562:(e,t,r)=>{r.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=r(912826)},721600:(e,t,r)=>{r.d(t,{SuggesterBlock:()=>l});var o=r(785893),a=r(667294),n=r(596535),s=r(652427);const l=e=>{const{searchQuery:t,recentSuggestions:r,otherSuggestions:l,selectedSuggestion:c,triggerSearch:i,lastQuery:u}=(0,n.useTypedSelector)((e=>{var t;return{searchQuery:e.searchInput.query,catalog:e.catalog.catalog,recentSuggestions:e.suggester.recentSuggests,otherSuggestions:e.suggester.otherSuggests,selectedSuggestion:e.suggester.selectedSuggest,helpSuggest:e.suggester.helpSuggest,triggerSearch:null==(t=e.initOptions.triggers)?void 0:t.triggerSearch,lastQuery:e.catalog.lastQuery}})),d=(0,a.useMemo)((()=>{let t=[...r,...l];return e.suggestions_ids&&(t=t.filter((({id:t=""})=>{var r,o;return null==(o=e)||null==(r=o.suggestions_ids)?void 0:r.includes(t)}))),e.search_suggestions_ids&&(t=t.filter((({id:t=""})=>{var r,o;return null==(o=e)||null==(r=o.search_suggestions_ids)?void 0:r.includes(t)}))),t}),[r,l,t,u,c]);return(0,o.jsx)("div",{className:"SuggesterBlock",children:(0,o.jsx)(s.SuggestionItems,{suggestions:d,selectedId:c,triggerSearch:i})})}},652427:(e,t,r)=>{r.d(t,{SuggestionItems:()=>_});var o=r(785893),a=r(667294),n=r(360646),s=r(195192),l=r(29271),c=r(254362),i=r(331251),u=r(659397),d=r(193452),g=r(957973);const _=({suggestions:e,selectedId:t,triggerSearch:r})=>{const{setSearchQuery:_,hideSuggest:p,deleteRecent:S,search:h,deleteRecentBlock:f}=(0,c.useAction)(),E=(0,a.useCallback)(((e,t="")=>{const o=(0,i.getMainInput)(),a=window.uiSearch.getWrapEl(o);_(t),h(o,a,t,r,e),p(a),d.searchStatsCollector.logEvent({action:g.SearchClickActionMap.TAP,track_code:e,type:g.EventItemType.SEARCH_SUGGESTION})}),[]),v=(0,a.useCallback)(((t,r,o)=>{t.stopPropagation(),S(o||""),d.searchStatsCollector.logEvent({action:g.SearchClickActionMap.REMOVE_RECENT,track_code:r,type:g.EventItemType.SEARCH_SUGGESTION});1===e.length&&f()}),[e]);return(0,o.jsx)(o.Fragment,{children:e.map((e=>(0,o.jsxs)("div",{className:(0,u.classNames)("SuggestionItemsItem",{"SuggestionItemsItem--selected":t===e.id}),onClick:()=>{var t;return E((null==(t=e)?void 0:t.track_code)||"",e.title)},children:[(0,o.jsx)("div",{className:"SuggestionItemsItemIcon",children:"recent"===e.type?(0,o.jsx)(n.Icon16HistoryBackwardOutline,{}):(0,o.jsx)(s.Icon16SearchOutline,{})}),(0,o.jsx)("p",{className:"SuggestionItemsText",children:e.title}),"recent"===e.type?(0,o.jsx)("button",{className:"SuggestionItemsDelete",onClick:t=>{var r;return v(t,(null==(r=e)?void 0:r.track_code)||"",e.id)},children:l.getLang("search_web_video_suggester_delete_action")}):null]},e.id)))})}},670446:(e,t,r)=>{r.d(t,{SuggesterBlock:()=>o.SuggesterBlock});var o=r(721600)},118330:(e,t,r)=>{r.d(t,{HeaderCompact:()=>a.HeaderCompact,SuggesterBlock:()=>o.SuggesterBlock});var o=r(670446),a=r(912562)},491434:(e,t,r)=>{r.d(t,{Catalog:()=>o.Catalog,HeaderCompact:()=>a.HeaderCompact,SuggesterBlock:()=>a.SuggesterBlock});var o=r(356571),a=r(118330)},166455:(e,t,r)=>{r.d(t,{extractBlocks:()=>n,getBlockByLayout:()=>s});var o=r(906019),a=r(732292);const n=e=>{var t,r;return(null==(r=e)||null==(t=r.blocks)?void 0:t.length)?e.blocks:[]},s=e=>{const t=e.layout.name,r=e.data_type;switch(t){case o.ESearchCatalogBlockLayoutName.LIST:return r===o.ESearchCatalogBlockDataType.CATALOG_SEARCH_SUGGESTION||r===o.ESearchCatalogBlockDataType.SEARCH_SUGGESTION?a.SuggesterBlock:()=>null;case o.ESearchCatalogBlockLayoutName.HEADER_COMPACT:return a.HeaderCompact;default:return()=>null}}},49593:(e,t,r)=>{r.d(t,{InputHelpSuggest:()=>s});var o=r(785893),a=r(973935),n=r(906019);const s=({helpSuggestStart:e="",helpSuggestEnd:t=""})=>{var r;const s=null==(r=document.querySelector(n.SEARCH_INPUT_ELEMENT_ID))?void 0:r.parentElement;return a.createPortal((0,o.jsxs)("div",{className:"InputHelpSuggest",children:[(0,o.jsx)("span",{className:"InputHelpSuggest__hidden",children:e}),t]}),s)}},947139:(e,t,r)=>{r.d(t,{SearchInput:()=>_});var o=r(785893),a=r(667294),n=r(331251),s=r(254362),l=r(82161),c=r(953908),i=r(906019),u=r(596535),d=r(49593),g=r(858431);const _=({options:e})=>{const{query:t,isWaitingForShow:r,allSuggests:_,selectedSuggestId:p,helpSuggest:S,helpSuggestStart:h,helpSuggestEnd:f,helpTrigger:E,shouldBeClosed:v}=(0,u.useTypedSelector)((e=>({query:e.searchInput.query,isWaitingForShow:e.suggester.isWaitingForShow,allSuggests:e.suggester.allSuggests,selectedSuggestId:e.suggester.selectedSuggest,helpSuggestStart:e.suggester.helpSuggestStart,helpSuggestEnd:e.suggester.helpSuggestEnd,helpSuggest:e.suggester.helpSuggest,helpTrigger:e.suggester.helpTrigger,shouldBeClosed:e.suggester.shouldBeClosed}))),{initOptions:m,setSearchQuery:y,startShowingSuggest:C,showSuggest:w,hideSuggest:T,chooseAbove:b,chooseBelow:A,search:R,resetSelectedSuggest:I,resetHelpSuggest:k,triggerHelpSuggest:O,resetTempSuggesterData:D,resetClosedSuggesterStatus:P}=(0,s.useAction)(),[x,L]=(0,a.useState)((0,n.getQueryFromNav)()),V=(0,g.useDebounce)(x,i.DEBOUNCE_TIME);(0,a.useEffect)((()=>{I(),y(V)}),[V]);const q=(0,a.useCallback)((t=>{var r;const o=t.target,a=window.uiSearch.getWrapEl(o),n=(0,l.trim)(o.value)?o.value:"";var s,i,u;n||((null==(s=e)?void 0:s.allowFiltersForEmpty)||window.uiSearch.removeAllFilters(o),window.uiSearch.hideProgress(o));if(null==(r=e)?void 0:r.useInstantSearch)return D(),void R(o,a,n,null==(u=e)||null==(i=u.triggers)?void 0:i.triggerSearch);const d=t;[c.KEY.UP,c.KEY.DOWN,c.KEY.RIGHT,c.KEY.LEFT,c.KEY.SPACE].includes(d.keyCode)||L(n)}),[t,S,e]),H=(0,a.useCallback)((t=>{const r=(0,n.getMainInput)(),o=window.uiSearch.getWrapEl(r),a=(0,l.trim)(r.value)?r.value:"";switch(t.keyCode){case c.KEY.ENTER:var s,i;R(r,o,a,null==(i=e)||null==(s=i.triggers)?void 0:s.triggerSearch),T(o),D();break;case c.KEY.ESC:r.blur(),T(o),D();break;case c.KEY.UP:b(),r.setSelectionRange(r.value.length,r.value.length);break;case c.KEY.DOWN:A();break;case c.KEY.RIGHT:O();break;case c.KEY.TAB:case c.KEY.SHIFT:case c.KEY.CTRL:case c.KEY.ALT:case c.KEY.META_LEFT:case c.KEY.META_RIGHT:break;default:k()}}),[]),F=(0,a.useCallback)((()=>{var t,r;const o=document.querySelector(i.SEARCH_INPUT_ELEMENT_ID),a=window.uiSearch.getWrapEl(o),n=(0,l.trim)(o.value)?(0,l.trim)(o.value):"";D(),R(o,a,n,null==(r=e)||null==(t=r.triggers)?void 0:t.triggerSearch),T(a)}),[t]),M=(0,a.useCallback)((e=>{var t,r;const o=e.target,a=window.uiSearch.getWrapEl(document.querySelector(i.SEARCH_INPUT_ELEMENT_ID));(null==(r=a)||null==(t=r.classList)?void 0:t.contains(i.SEARCH_SUGGESTER_OPEN_CLASS))&&(o.closest(i.SEARCH_INPUT_ELEMENT_ID)||o.closest(".SearchCatalogSuggester")||o.closest(".ui_search_reset_button")||(D(),T(a)))}),[]),j=(0,a.useCallback)((e=>{var t,r,o;const a=e,n=(null==(t=a)?void 0:t.ctrlKey)||(null==(r=a)?void 0:r.metaKey);if([c.KEY.ENTER,c.KEY.ESC].includes(a.keyCode)||n)return;switch(a.keyCode){case c.KEY.TAB:case c.KEY.SHIFT:case c.KEY.CTRL:case c.KEY.ALT:case c.KEY.META_LEFT:case c.KEY.META_RIGHT:return}const s=e.target,l=window.uiSearch.getWrapEl(s);!v||_.length||(null==(o=s)?void 0:o.value)?(P(),w(l)):C()}),[v,_]),G=(0,a.useCallback)((()=>{S&&y(S)}),[S]),N=(0,a.useCallback)((e=>{var t;D();const r=e.target,o=window.uiSearch.getWrapEl(r);!v||_.length||(null==(t=r)?void 0:t.value)?(P(),w(o)):C(),y(""),C()}),[e,v,_]),$=(0,a.useCallback)((()=>{D(),y("")}),[]);return(0,a.useEffect)((()=>{var t,r;e&&m(e);const o=(0,n.getMainInput)(),a=window.uiSearch.getWrapEl(o).querySelector(".ui_search_button_search"),s=[...document.querySelectorAll(".MenuList__item")];return(null==(t=o)?void 0:t.value)&&y(o.value),(0,c.addEvent)(o,"input change keyup valueChanged refresh",q),(0,c.addEvent)(o,"keydown",H),(0,c.addEvent)(a,"click",F),(0,c.addEvent)(window,"mousedown",M),(null==(r=s)?void 0:r.length)&&s.map((e=>(0,c.addEvent)(e,"click",$))),()=>{var e;(0,c.removeEvent)(o,"input change keyup valueChanged refresh",q),(0,c.removeEvent)(o,"keydown",H),(0,c.removeEvent)(a,"click",F),(0,c.removeEvent)(window,"mousedown",M),(null==(e=s)?void 0:e.length)&&s.map((e=>(0,c.removeEvent)(e,"click",$)))}}),[]),(0,a.useEffect)((()=>{var t;e&&m(e);const r=(0,n.getMainInput)(),o=window.uiSearch.getWrapEl(r).querySelector(".ui_search_reset_button");return(null==(t=r)?void 0:t.value)&&y(r.value),(0,c.addEvent)(r,"click keyup keydown",j),(0,c.addEvent)(o,"click",N),()=>{(0,c.removeEvent)(r,"click keyup keydown",j),(0,c.removeEvent)(o,"click",N)}}),[e,v]),(0,a.useEffect)((()=>{var e;const t=(0,n.getMainInput)(),o=window.uiSearch.getWrapEl(t);r&&(_.length||(null==(e=t)?void 0:e.value))&&w(o)}),[e,_,t,r]),(0,a.useEffect)((()=>{const e=(0,n.getMainInput)();e&&t!==e.value&&(e.value=t,e.setSelectionRange(e.value.length,e.value.length))}),[t]),(0,a.useEffect)((()=>{var e;const t=_.find((({id:e})=>e===p));(null==(e=t)?void 0:e.title)&&y(t.title)}),[p]),(0,a.useEffect)((()=>{G()}),[E]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.InputHelpSuggest,{helpSuggestStart:h||"",helpSuggestEnd:f||""})})}},174078:(e,t,r)=>{r.d(t,{SearchInput:()=>o.SearchInput});var o=r(947139)},133815:(e,t,r)=>{r.d(t,{Suggester:()=>d});var o=r(785893),a=r(667294),n=r(254362),s=r(732292),l=r(596535),c=r(795558),i=r(331251),u=r(906019);const d=({options:e})=>{var t,r;const{catalog:d,searchQuery:g,isOpen:_,canFetch:p,allSuggests:S,lastQuery:h,shouldBeClosed:f,isWaitingForShow:E}=(0,l.useTypedSelector)((e=>{var t,r,o,a;return{catalog:null==(t=e)?void 0:t.catalog.catalog,searchQuery:null==(r=e)?void 0:r.searchInput.query,isOpen:null==(o=e)?void 0:o.suggester.isOpen,isWaitingForShow:null==(a=e)?void 0:a.suggester.isWaitingForShow,allSuggests:e.suggester.allSuggests,canFetch:!e.suggester.selectedSuggest,lastQuery:e.catalog.lastQuery,shouldBeClosed:e.suggester.shouldBeClosed}})),{fetchCatalog:v,setSuggestions:m,setHelpSuggest:y,resetDeletedSuggest:C,hideSuggest:w}=(0,n.useAction)();return(0,a.useEffect)((()=>{d&&m(d)}),[d]),(0,a.useEffect)((()=>{p&&(_||E)&&g!==h&&(C(),v({q:g}))}),[e,g,_,E,h,p]),(0,a.useEffect)((()=>{y(g)}),[g,S]),(0,a.useEffect)((()=>{if(g){const e=(0,i.getMainInput)(),t=window.uiSearch.getWrapEl(e);(0,c.toggleClass)(t,u.SEARCH_EMPTY_FIELD_CLASS,!g)}}),[]),(0,a.useEffect)((()=>{if(f){var e;const t=(0,i.getMainInput)(),r=window.uiSearch.getWrapEl(t);(null==(e=t)?void 0:e.value)||w(r)}}),[e,f]),_&&(null==(t=d)?void 0:t.catalog)?(0,o.jsx)("div",{className:"SearchCatalogSuggester",children:(0,o.jsx)(s.Catalog,{catalog:null==(r=d)?void 0:r.catalog})}):null}},485211:(e,t,r)=>{r.d(t,{Suggester:()=>o.Suggester});var o=r(133815)},732292:(e,t,r)=>{r.d(t,{Catalog:()=>a.Catalog,HeaderCompact:()=>a.HeaderCompact,SearchInput:()=>n.SearchInput,Suggester:()=>o.Suggester,SuggesterBlock:()=>a.SuggesterBlock});var o=r(485211),a=r(491434),n=r(174078)},906019:(e,t,r)=>{r.d(t,{API_GET_VIDEO_SEARCH:()=>u,API_GET_VIDEO_SEARCH_WEB:()=>d,API_REMOVE_RESENT_QUERY:()=>i,DEBOUNCE_TIME:()=>c,ESearchCatalogBlockDataType:()=>_,ESearchCatalogBlockLayoutName:()=>g,IMMEDIATELY_TIMER:()=>l,LAT:()=>p,RUS:()=>S,SEARCH_EMPTY_FIELD_CLASS:()=>n,SEARCH_INPUT_ELEMENT_ID:()=>a,SEARCH_SUGGESTER_OPEN_CLASS:()=>s,SEARCH_WRAPPER_ELEMENT_ID:()=>o});const o="video_search_input_wrapper",a="#video_search_input",n="ui_search_field_empty",s="VideoSearchInput__withNewSuggester--open",l=0,c=200,i="search.removeVideoSearchRecentQuery",u="catalog.getVideoSearch",d="catalog.getVideoSearchWeb2";var g,_;!function(e){e.LIST="list",e.HEADER_COMPACT="header_compact"}(g||(g={})),function(e){e.CATALOG_SEARCH_SUGGESTION="catalog_search_suggestion",e.SEARCH_SUGGESTION="search_suggestions"}(_||(_={}));const p="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ ",S="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ "},301789:(e,t,r)=>{r.d(t,{SearchForm:()=>n});var o=r(785893),a=r(732292);const n=({options:e})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.SearchInput,{options:e}),(0,o.jsx)(a.Suggester,{options:e})]})},391345:(e,t,r)=>{r.d(t,{SearchForm:()=>o.SearchForm});var o=r(301789)},254362:(e,t,r)=>{r.d(t,{useAction:()=>s});var o=r(50533),a=r(14890),n=r(302644);const s=()=>{const e=(0,o.useDispatch)();return(0,a.bindActionCreators)(n.ActionCreators,e)}},858431:(e,t,r)=>{r.d(t,{useDebounce:()=>a});var o=r(667294);const a=(e="",t=0)=>{const[r,a]=(0,o.useState)(e);return(0,o.useEffect)((()=>{const r=setTimeout((()=>{a(e)}),t);return()=>{clearTimeout(r)}}),[e]),r}},596535:(e,t,r)=>{r.d(t,{useTypedSelector:()=>o});const o=r(50533).useSelector},596654:(e,t,r)=>{r.r(t),r.d(t,{deleteRecentBlock:()=>u,fetchCatalog:()=>i});var o=r(11010),a=r(434788),n=r(599809),s=r(861928),l=r(906019);let c=null;const i=e=>(0,o._)((function*(t){t({type:s.CatalogActions.START_LOADING,payload:e.q||""}),c&&c.abort(),c=new AbortController;const r=e.q?l.API_GET_VIDEO_SEARCH:l.API_GET_VIDEO_SEARCH_WEB;try{var o;const l=yield(0,n.api)(r,(0,a._)({},e,{need_blocks:1,show_suggests:1}),void 0,{signal:c.signal});(null==(o=l.suggestions)?void 0:o.length)&&l.suggestions[0]&&(window.cur.videoSearchTrackCodeForQID=l.suggestions[0].track_code||""),t({type:s.CatalogActions.FETCH,payload:l}),t({type:s.CatalogActions.STOP_LOADING})}catch(e){var i,u,d;if(e&&"network_error"===(null==(i=e)?void 0:i.type)&&"AbortError"===(null==(d=e)||null==(u=d.error)?void 0:u.name))return null;throw e}})),u=()=>e=>{e({type:s.CatalogActions.REMOVE_RECENT})}},302644:(e,t,r)=>{r.d(t,{ActionCreators:()=>c});var o=r(434788),a=r(217192),n=r(596654),s=r(129324),l=r(366853);const c=(0,o._)({},a,n,s,l)},217192:(e,t,r)=>{r.r(t),r.d(t,{initOptions:()=>a});var o=r(861928);const a=e=>t=>{t({type:o.InitOptionsActionType.INIT,payload:e})}},129324:(e,t,r)=>{r.r(t),r.d(t,{search:()=>l,setSearchQuery:()=>c});var o=r(326646),a=r(82161),n=r(795558),s=r(906019);const l=(e,t,r="",l,c)=>i=>{if(l){var u;const d=(0,a.trim)(r)?(0,a.trim)(r):"";(0,n.toggleClass)(t,s.SEARCH_EMPTY_FIELD_CLASS,!d),null==(u=l)||u.call(e,d,void 0,c),i({type:o.SearchInputActions.SEARCH,payload:d})}},c=e=>t=>{t({type:o.SearchInputActions.SET_QUERY,payload:e})}},366853:(e,t,r)=>{r.r(t),r.d(t,{chooseAbove:()=>g,chooseBelow:()=>_,deleteRecent:()=>d,hideSuggest:()=>c,resetClosedSuggesterStatus:()=>i,resetDeletedSuggest:()=>S,resetHelpSuggest:()=>E,resetSelectedSuggest:()=>p,resetTempSuggesterData:()=>v,setHelpSuggest:()=>h,setSuggestions:()=>u,showSuggest:()=>l,startShowingSuggest:()=>s,triggerHelpSuggest:()=>f});var o=r(861928),a=r(599809),n=r(906019);const s=()=>e=>{e({type:o.SuggesterActions.START_SHOW})},l=e=>t=>{var r;(null==(r=e)?void 0:r.classList.contains(n.SEARCH_SUGGESTER_OPEN_CLASS))||(e.classList.add(n.SEARCH_SUGGESTER_OPEN_CLASS),t({type:o.SuggesterActions.SHOW,payload:e}))},c=e=>t=>{var r,a;null==(a=e)||null==(r=a.classList)||r.remove(n.SEARCH_SUGGESTER_OPEN_CLASS),t({type:o.SuggesterActions.HIDE})},i=()=>e=>{e({type:o.SuggesterActions.RESET_CLOSED_STATUS})},u=e=>t=>{var r;t({type:o.SuggesterActions.SET_SUGGESTS,payload:{suggests:(null==(r=e)?void 0:r.suggestions)||[]}})},d=e=>t=>{e&&((0,a.api)(n.API_REMOVE_RESENT_QUERY,{query_id:e}),t({type:o.SuggesterActions.DELETE_RECENT,payload:e}))},g=()=>e=>{e({type:o.SuggesterActions.CHOOSE_ABOVE})},_=()=>e=>{e({type:o.SuggesterActions.CHOOSE_BELOW})},p=()=>e=>{e({type:o.SuggesterActions.RESET_SELECTED})},S=()=>e=>{e({type:o.SuggesterActions.RESET_DELETED})},h=(e="")=>t=>{t({type:o.SuggesterActions.SET_HELP_SUGGEST,payload:e})},f=()=>e=>{e({type:o.SuggesterActions.TRIGGER_HELP_SUGGEST})},E=()=>e=>{e({type:o.SuggesterActions.RESET_HELP_SUGGEST})},v=()=>e=>{e({type:o.SuggesterActions.RESET_TEMP_SUGGESTER_DATA})}},281858:(e,t,r)=>{r.d(t,{suggesterStore:()=>l});var o=r(14890),a=r(753894),n=r(213435);const s=r(929804).composeWithDevTools((0,o.applyMiddleware)(a.default)),l=(0,o.createStore)(n.rootReducer,s)},619780:(e,t,r)=>{r.d(t,{catalogReducer:()=>s});var o=r(434788),a=r(861928);const n={catalog:{},lastQuery:null,loading:!1},s=(e=n,t)=>{switch(t.type){case a.CatalogActions.START_LOADING:return(0,o._)({},e,{loading:!0,lastQuery:t.payload});case a.CatalogActions.STOP_LOADING:return(0,o._)({},e,{loading:!1});case a.CatalogActions.FETCH:return(0,o._)({},e,{catalog:t.payload});case a.CatalogActions.REMOVE_RECENT:return(0,o._)({},e,{catalog:{}});default:return e}}},213435:(e,t,r)=>{r.d(t,{rootReducer:()=>c});var o=r(14890),a=r(350158),n=r(619780),s=r(531855),l=r(397195);const c=(0,o.combineReducers)({initOptions:a.initOptionsReducer,catalog:n.catalogReducer,searchInput:s.searchInputReducer,suggester:l.suggesterReducer})},350158:(e,t,r)=>{r.d(t,{initOptionsReducer:()=>s});var o=r(434788),a=r(861928);const n={useInstantSearch:!0,type:"video"},s=(e=n,t)=>t.type===a.InitOptionsActionType.INIT?(0,o._)({},e,t.payload):e},531855:(e,t,r)=>{r.d(t,{searchInputReducer:()=>l});var o=r(434788),a=r(331251),n=r(861928);const s={query:(0,a.getQueryFromNav)(),lastSearchRequest:""},l=(e=s,t)=>{switch(t.type){case n.SearchInputActions.SET_QUERY:return(0,o._)({},e,{query:t.payload});case n.SearchInputActions.SEARCH:return(0,o._)({},e,{lastSearchRequest:t.payload});default:return e}}},397195:(e,t,r)=>{r.d(t,{suggesterReducer:()=>l});var o=r(434788),a=r(861928),n=r(906019);const s={isOpen:!1,isWaitingForShow:!1,shouldBeClosed:!1,suggestsOrderIds:[],allSuggests:[],recentSuggests:[],otherSuggests:[],deletedSuggests:[],selectedSuggest:null,helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null,helpTrigger:!1},l=(e=s,t)=>{switch(t.type){case a.SuggesterActions.START_SHOW:var r;return(0,o._)({},e,{isWaitingForShow:!(null==(r=e)?void 0:r.isOpen)});case a.SuggesterActions.SHOW:return(0,o._)({},e,{isOpen:!0,isWaitingForShow:!1});case a.SuggesterActions.HIDE:return(0,o._)({},e,{isOpen:!1});case a.SuggesterActions.RESET_CLOSED_STATUS:return(0,o._)({},e,{shouldBeClosed:!1});case a.SuggesterActions.SET_SUGGESTS:{const r=t.payload.suggests||[],a=r.filter((({id:t="",type:r=""})=>"recent"===r&&!e.deletedSuggests.includes(t))),n=r.filter((e=>{var t;return"recent"!==(null==(t=e)?void 0:t.type)})),s=[...a,...n].map((e=>{var t;return(null==(t=e)?void 0:t.id)||""})),l=[...a,...n];return(0,o._)({},e,{recentSuggests:a,otherSuggests:n,suggestsOrderIds:s,allSuggests:l,shouldBeClosed:!l.length})}case a.SuggesterActions.DELETE_RECENT:{const r=[...e.deletedSuggests,t.payload];return(0,o._)({},e,{deletedSuggests:r,recentSuggests:e.recentSuggests.filter((({id:e=""})=>!r.includes(e))),suggestsOrderIds:e.suggestsOrderIds.filter(((e="")=>!r.includes(e)))})}case a.SuggesterActions.CHOOSE_ABOVE:{if(!e.selectedSuggest)return(0,o._)({},e,{selectedSuggest:e.suggestsOrderIds[-1],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});const t=e.suggestsOrderIds.findIndex((t=>t===e.selectedSuggest)),r=(t-1==-1?e.suggestsOrderIds.length-1:t-1)%e.suggestsOrderIds.length;return(0,o._)({},e,{selectedSuggest:e.suggestsOrderIds[r],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null})}case a.SuggesterActions.CHOOSE_BELOW:{if(!e.selectedSuggest)return(0,o._)({},e,{selectedSuggest:e.suggestsOrderIds[0],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});const t=(e.suggestsOrderIds.findIndex((t=>t===e.selectedSuggest))+1)%e.suggestsOrderIds.length;return(0,o._)({},e,{selectedSuggest:e.suggestsOrderIds[t],helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null})}case a.SuggesterActions.RESET_SELECTED:return(0,o._)({},e,{selectedSuggest:null});case a.SuggesterActions.RESET_DELETED:return(0,o._)({},e,{deletedSuggests:[]});case a.SuggesterActions.SET_HELP_SUGGEST:{if(e.selectedSuggest)return(0,o._)({},e);const r=t.payload.length-1,a=e.allSuggests.length&&e.allSuggests[0].title||"";if(t.payload[r]===a[r]){if(n.RUS.includes(t.payload[r])&&n.RUS.includes(a[r]))return(0,o._)({},e,{helpSuggest:a,helpSuggestStart:t.payload,helpSuggestEnd:a.slice(t.payload.length,a.length)});if(n.LAT.includes(t.payload[r])&&n.LAT.includes(a[r]))return(0,o._)({},e,{helpSuggest:a,helpSuggestStart:t.payload,helpSuggestEnd:a.slice(t.payload.length,a.length)})}return(0,o._)({},e,{helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null})}case a.SuggesterActions.TRIGGER_HELP_SUGGEST:return(0,o._)({},e,{helpTrigger:!e.helpTrigger});case a.SuggesterActions.RESET_HELP_SUGGEST:return(0,o._)({},e,{helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});case a.SuggesterActions.RESET_TEMP_SUGGESTER_DATA:return(0,o._)({},e,{selectedSuggest:null,helpSuggest:null,helpSuggestStart:null,helpSuggestEnd:null});default:return e}}},861928:(e,t,r)=>{r.d(t,{CatalogActions:()=>o.CatalogActions,InitOptionsActionType:()=>o.InitOptionsActionType,SearchInputActions:()=>o.SearchInputActions,SuggesterActions:()=>o.SuggesterActions});var o=r(995090)},575838:(e,t,r)=>{var o;r.d(t,{CatalogActions:()=>o}),function(e){e.FETCH="FETCH",e.START_LOADING="START_LOADING",e.STOP_LOADING="STOP_LOADING",e.REMOVE_RECENT="REMOVE_RECENT"}(o||(o={}))},995090:(e,t,r)=>{r.d(t,{CatalogActions:()=>a.CatalogActions,InitOptionsActionType:()=>o.InitOptionsActionType,SearchInputActions:()=>n.SearchInputActions,SuggesterActions:()=>s.SuggesterActions});var o=r(572797),a=r(575838),n=r(326646),s=r(686501)},572797:(e,t,r)=>{var o;r.d(t,{InitOptionsActionType:()=>o}),function(e){e.INIT="INIT"}(o||(o={}))},326646:(e,t,r)=>{var o;r.d(t,{SearchInputActions:()=>o}),function(e){e.SEARCH="SEARCH",e.SET_QUERY="SET_QUERY"}(o||(o={}))},686501:(e,t,r)=>{var o;r.d(t,{SuggesterActions:()=>o}),function(e){e.SET_SUGGESTS="SET_SUGGESTS",e.CHOOSE_BELOW="CHOOSE_BELOW",e.CHOOSE_ABOVE="CHOOSE_ABOVE",e.DELETE_RECENT="DELETE_RECENT",e.SET_HELP_SUGGEST="SET_HELP_SUGGEST",e.TRIGGER_HELP_SUGGEST="TRIGGER_HELP_SUGGEST",e.RESET_SELECTED="RESET_SELECTED",e.RESET_DELETED="RESET_DELETED",e.RESET_HELP_SUGGEST="RESET_HELP_SUGGEST",e.RESET_TEMP_SUGGESTER_DATA="RESET_TEMP_SUGGESTER_DATA",e.START_SHOW="START_SHOW",e.SHOW="SHOW",e.HIDE="HIDE",e.RESET_CLOSED_STATUS="RESET_CLOSED_STATUS"}(o||(o={}))},331251:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{getMainInput:()=>getMainInput,getQueryFromNav:()=>getQueryFromNav});var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11010),_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(795558),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(643897),_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(906019);const getMainInput=()=>{var e;const t=document.getElementById(_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_WRAPPER_ELEMENT_ID);if(!t)return null;const r=null==(e=t)?void 0:e.querySelector(_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.SEARCH_INPUT_ELEMENT_ID);return r||null},getInitOptionsFromDom=(0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_3__._)((function*(){return new Promise((resolve=>{setTimeout((()=>{const mainInput=getMainInput(),wrapEl=window.uiSearch.getWrapEl(mainInput),delayedInitOptions=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__.domData)(wrapEl,"init-options");let result=null;if(delayedInitOptions){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_0__.domData)(wrapEl,"init-options",null);const evalScript=`(function() { return ${delayedInitOptions} })()`;try{result=eval(evalScript)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_1__.logEvalError)(e,evalScript),resolve(result)}}resolve(result)}),_web_search_SearchForm_constants__WEBPACK_IMPORTED_MODULE_2__.IMMEDIATELY_TIMER)}))})),getQueryFromNav=()=>{var e,t,r;return(null==(t=window.nav)||null==(e=t.objLoc)?void 0:e.q)||(null==(r=window.nav)?void 0:r.objLoc["c[q]"])||""}},192220:(e,t,r)=>{r.d(t,{SearchTopRoot:()=>l});var o=r(785893),a=r(338661),n=r(86894),s=r(869048);r(803205),r(837960);const l=()=>(0,o.jsx)(s.AppRootProvider,{sizeX:n.SizeType.REGULAR,sizeY:n.SizeType.COMPACT,viewWidth:n.ViewWidth.DESKTOP,children:(0,o.jsx)(a.App,{})})},896621:(e,t,r)=>{r.d(t,{getSearchTop:()=>n});r(434788);var o=r(599809),a=r(148652);function n(e,t){return(0,o.api)(a.CATALOG_API_METHODS.GET_SEARCH_TOP,e,void 0,t)}},109291:(e,t,r)=>{r.d(t,{App:()=>S});var o=r(785893),a=r(667294),n=r(504190),s=r(32655),l=r(209660),c=r(108824),i=r(953908),u=r(501461),d=r(836245),g=r(538310),_=r(148652),p=(r(180833),r(144311));const S=()=>{const e=(0,n.useStore)(c.$displayResults),t=(0,n.useStore)(c.$currentQuery),r=(0,a.useRef)(null),S=(0,a.useRef)(),h=(0,a.useCallback)((()=>{var t;e||(null==(t=r.current)||t.focus())}),[r,e]),f=(0,a.useCallback)((e=>{(0,c.fireKeyDownEvent)({event:e,blur:()=>{var e;null==(e=r.current)||e.blur()},cancelEvent:()=>{(0,i.cancelEvent)(e.nativeEvent)},clearTimeout:()=>{clearTimeout(S.current)}})}),[r,S]),E=(0,a.useCallback)((e=>{const t=e.currentTarget.value||"";(0,c.fireSetCurrentQuery)(t),clearTimeout(S.current),S.current=setTimeout((()=>{(0,c.fireSearch)({q:t})}),250)}),[S]);return(0,a.useEffect)((()=>{const e=e=>{const t=e.target;t.closest('[data-search-top-target="true"]')||t.closest(`#${_.SEARCH_INPUT_ID}`)||t.closest(".vkuiSearch__icon")||!(0,u.isMainClick)(e)||(0,c.fireSetResultsDisplay)(!1)};return(0,d.topHeaderListener)(),document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),(0,a.useEffect)((()=>()=>clearTimeout(S.current)),[]),(0,a.useEffect)((()=>{const e=(0,g.subscribeModuleEvaluated)((()=>{(0,c.fireSetCatalog)(null),(0,c.fireAbortRequest)(),(0,c.fireSetCurrentQuery)(""),(0,c.fireSetResultsDisplay)(!1)}));return()=>{e()}}),[]),(0,o.jsxs)("div",{className:p.default.app,id:"ts_wrap",children:[(0,o.jsx)("div",{"data-search-top-target":"true",children:(0,o.jsx)(s.SearchInput,{onClick:h,onFocus:()=>{e||(0,c.fireSetResultsDisplay)(!0)},onInput:E,onKeyDown:f,inputRef:r,searchQuery:t,className:p.default.search})}),e&&(0,o.jsx)(l.SearchResults,{})]})}},338661:(e,t,r)=>{r.d(t,{App:()=>o.App});var o=r(109291)},450589:(e,t,r)=>{r.d(t,{Placeholder:()=>s});var o=r(785893),a=r(635928),n=r(29271);const s=()=>(0,o.jsx)(a.Placeholder,{children:n.getLang("search_search_top_has_no_results")})},373838:(e,t,r)=>{r.d(t,{Placeholder:()=>o.Placeholder});var o=r(450589)},797620:(e,t,r)=>{r.d(t,{SearchInput:()=>i});var o=r(434788),a=r(820224),n=r(785893),s=r(667294),l=r(33045),c=r(29271);const i=e=>{var{onClick:t,onFocus:r,onBlur:i,onInput:u,onKeyDown:d,inputRef:g,searchQuery:_="",placeholder:p}=e,S=(0,a._)(e,["onClick","onFocus","onBlur","onInput","onKeyDown","inputRef","searchQuery","placeholder"]);const[h,f]=(0,s.useState)("");return(0,s.useEffect)((()=>{f(_)}),[_]),(0,n.jsx)(l.Search,(0,o._)({placeholder:p||c.getLang("global_search"),onClick:e=>{var r;null==(r=t)||r(e)},onFocus:e=>{var t;null==(t=r)||t(e)},onBlur:e=>{var t;null==(t=i)||t(e)},onInput:e=>{var t;const r=e.currentTarget.value||"";f(r),null==(t=u)||t(e)},onKeyDown:e=>{var t;null==(t=d)||t(e)},getRef:g,value:h},S))}},32655:(e,t,r)=>{r.d(t,{SearchInput:()=>o.SearchInput});var o=r(797620)},486072:(e,t,r)=>{r.d(t,{SearchResults:()=>f});var o=r(785893),a=r(667294),n=r(504190),s=r(86894),l=r(539791),c=r(848504),i=r(108824),u=r(373838),d=r(193452),g=r(538310),_=r(508249),p=r(836245),S=r(95432),h=r(287063);const f=()=>{var e,t,r;const f=(0,n.useStore)(i.$catalog),E=(0,n.useStore)(i.$extendedData),v=(0,n.useStore)(i.$pending),m=(0,n.useStore)(i.$currentQuery),y=(0,n.useStore)(i.$fetchError),C={pageId:"top_search",cacheId:window.location.href,catalogType:l.CatalogType.SEARCH},w={navGo:g.navGo,userId:null==(t=window)||null==(e=t.vk)?void 0:e.id,pageVerifiedTip:_.pageVerifiedTip,openChat:null==(r=window.reforgedME)?void 0:r.selectPeer};return(0,a.useEffect)((()=>{f||v||(0,i.fireSearch)({q:""})}),[]),y?(0,o.jsx)("div",{className:h.default.root,children:(0,o.jsx)(u.Placeholder,{})}):(0,o.jsx)("div",{className:h.default.root,"data-search-top-target":"true",children:(0,o.jsx)(s.CustomScrollView,{autoHideScrollbar:!0,className:h.default.scroll,children:v?(0,o.jsx)(c.Spinner,{}):(0,o.jsx)(l.CatalogSearchProvider,{currentQuery:m,search:e=>(0,i.fireSearch)(e),displayTopSearch:i.fireSetResultsDisplay,setCurrentQuery:(e="")=>(0,i.fireSetCurrentQuery)(e),showVideo:p.showVideo,showWiki:S.showWiki,children:(0,o.jsx)(l.Catalog,{catalog:f,extendedData:E,nextFromSections:[],onCatalogUpdate:e=>{(0,i.fireSetCatalogCatalog)(e.updatedCatalog)},collectClick:d.searchStatsCollector.logEvent,collectView:d.searchViewStatCollector.logEvent,catalogVars:C,platformVars:w,blockLayoutResolver:l.modalLayoutResolver})})})})}},209660:(e,t,r)=>{r.d(t,{SearchResults:()=>o.SearchResults});var o=r(486072)},212809:(e,t,r)=>{r.d(t,{Spinner:()=>s});var o=r(785893),a=r(86894),n=r(642419);const s=()=>(0,o.jsx)("div",{className:n.default.spinner,children:(0,o.jsx)(a.Spinner,{size:"small"})})},848504:(e,t,r)=>{r.d(t,{Spinner:()=>o.Spinner});var o=r(212809)},148652:(e,t,r)=>{r.d(t,{CATALOG_API_METHODS:()=>o,SEARCH_INPUT_BLUR_TIMEOUT:()=>s,SEARCH_INPUT_ID:()=>a,SEARCH_TOP_MODAL_NON_CLOSING_ATTR:()=>n});const o={GET_SEARCH_TOP:"catalog.getSearchTop",GET_SECTION:"catalog.getSection",GET_STORIES:"stories.get",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete",ADD_RECENT:"search.addRecents",CLEAR_RECENT:"search.clearRecents"},a="SearchTopInput",n="data-search-top-target",s=150},447936:(e,t,r)=>{r.d(t,{$currentQuery:()=>d,HandleKeyDownEffectFx:()=>S,appDomain:()=>u,fireClearApp:()=>p,fireKeyDownEvent:()=>_,fireSetCurrentQuery:()=>g});var o=r(798116),a=r(953908),n=r(631859),s=r(839470),l=r(108824),c=r(148652),i=r(538310);const u=(0,o.createDomain)("SEARCH_TOP/APP"),d=u.createStore("",{name:"currentQuery"}),g=u.createEvent("fire/SetCurrentQuery"),_=u.createEvent("fire/KeyDownEvent"),p=u.createEvent("fire/ClearApp"),S=u.createEffect({name:"HandleKeyDownEffectFx",handler:({event:e,selectedItemIndex:t,cancelEvent:r,currentQuery:o,blur:u,displayResults:d,clearTimeout:_})=>{switch(e.keyCode){case a.KEY.DOWN:r(),(0,n.fireDownSelectionIndex)();break;case a.KEY.UP:r(),(0,n.fireUpSelectionIndex)();break;case a.KEY.ENTER:var p;r(),_();let d="/search?c[section]=auto&c[q]=";var S;return(0,s.partConfigEnabled)("search_search_global_refactor_enabled")&&(d="/search?search_from=top_search&c[q]="),e.ctrlKey||e.metaKey?(null==(S=t)?void 0:S.callback)?void t.callback(void 0,!0):void window.open(`${d}${encodeURIComponent(o)}`):(null==(p=t)?void 0:p.callback)?(t.callback(),(0,l.fireSetCatalog)(null),void(0,l.fireAbortRequest)()):(g(""),(0,l.fireSetResultsDisplay)(!1),(0,l.fireSetCatalog)(null),(0,l.fireAbortRequest)(),setTimeout((()=>{u()}),c.SEARCH_INPUT_BLUR_TIMEOUT),void(0,i.navGo)(d+encodeURIComponent(o),null));case a.KEY.TAB:return _(),g(""),void(0,l.fireSetResultsDisplay)(!1)}d||(0,l.fireSetResultsDisplay)(!0)}})},896081:(e,t,r)=>{var o=r(434788),a=r(798116),n=r(108824),s=r(631859);n.appDomain.onCreateStore((e=>{e.reset(n.fireClearApp)})),(0,a.sample)({clock:n.fireSetCurrentQuery,target:n.$currentQuery}),(0,a.sample)({clock:n.fireSendRequest,target:[s.fireResetSelectionIndex,s.fireResetItemsIndex]}),(0,a.sample)({clock:n.fireSetResultsDisplay,target:[s.fireResetSelectionIndex]}),(0,a.sample)({clock:n.fireSendRequest,fn:()=>null,target:n.fireSetCatalog}),(0,a.sample)({clock:n.SearchTopEffectFx.doneData,fn:({request:e})=>e,target:n.fireSetCatalog}),(0,a.sample)({clock:n.fireSetCatalog,fn:e=>{var t;return(null==(t=e)?void 0:t.catalog)||null},target:n.$catalog}),(0,a.sample)({clock:n.fireSetCatalog,fn:e=>{if(!e)return null;const t=(0,o._)({},e);return delete t.catalog,t||null},target:n.$extendedData}),(0,a.sample)({clock:n.fireKeyDownEvent,source:{selectedItemIndex:s.$selectedItemIndex,currentQuery:n.$currentQuery,displayResults:n.$displayResults},fn:(e,t)=>(0,o._)({},t,e),target:n.HandleKeyDownEffectFx})},735753:(e,t,r)=>{r.d(t,{$catalog:()=>s,$extendedData:()=>l,fireSetCatalog:()=>a,fireSetCatalogCatalog:()=>n});const o=r(447936).appDomain.createDomain("SEARCH_TOP/CATALOG"),a=o.createEvent("fire/SetCatalog"),n=o.createEvent("fire/SetCatalog"),s=o.createStore(null,{name:"catalog"}),l=o.createStore(null,{name:"extendedData"})},426675:(e,t,r)=>{var o=r(798116),a=r(108824);(0,o.sample)({clock:a.fireSetCatalogCatalog,target:a.$catalog})},108824:(e,t,r)=>{r.d(t,{$catalog:()=>s.$catalog,$currentQuery:()=>o.$currentQuery,$displayResults:()=>a.$displayResults,$extendedData:()=>s.$extendedData,$fetchError:()=>n.$fetchError,$pending:()=>n.$pending,$requestsQueue:()=>n.$requestsQueue,AbortEffectFx:()=>n.AbortEffectFx,CancelStackFilterFx:()=>a.CancelStackFilterFx,CancelStackPushFx:()=>a.CancelStackPushFx,HandleKeyDownEffectFx:()=>o.HandleKeyDownEffectFx,SearchTopEffectFx:()=>n.SearchTopEffectFx,appDomain:()=>o.appDomain,fireAbortRequest:()=>n.fireAbortRequest,fireCancelStackPush:()=>a.fireCancelStackPush,fireClearApp:()=>o.fireClearApp,fireCreateRequest:()=>n.fireCreateRequest,fireKeyDownEvent:()=>o.fireKeyDownEvent,fireRemoveRequestFromQueue:()=>n.fireRemoveRequestFromQueue,fireSearch:()=>n.fireSearch,fireSendRequest:()=>n.fireSendRequest,fireSetCatalog:()=>s.fireSetCatalog,fireSetCatalogCatalog:()=>s.fireSetCatalogCatalog,fireSetCurrentQuery:()=>o.fireSetCurrentQuery,fireSetRequestToQueue:()=>n.fireSetRequestToQueue,fireSetResultsDisplay:()=>a.fireSetResultsDisplay,fireSetUpRequest:()=>n.fireSetUpRequest});var o=r(447936),a=r(340083),n=r(264299),s=r(735753)},803205:(e,t,r)=>{r(896081),r(666138),r(353199),r(426675)},264299:(e,t,r)=>{r.d(t,{$fetchError:()=>h,$pending:()=>p,$requestsQueue:()=>S,AbortEffectFx:()=>f,SearchTopEffectFx:()=>E,fireAbortRequest:()=>_,fireCreateRequest:()=>c,fireRemoveRequestFromQueue:()=>d,fireSearch:()=>l,fireSendRequest:()=>g,fireSetRequestToQueue:()=>u,fireSetUpRequest:()=>i});var o=r(11010),a=r(447936),n=r(896621);const s=a.appDomain.createDomain("SEARCH_TOP/SEARCH"),l=s.createEvent("fire/Search"),c=s.createEvent("fire/CreateRequest"),i=s.createEvent("fire/SetUpRequest"),u=s.createEvent("fire/SetRequestToQueue"),d=s.createEvent("fire/RemoveRequestToQueue"),g=s.createEvent("fire/SendRequest"),_=s.createEvent("fire/AbortRequest"),p=s.createStore(!1,{name:"pending"}),S=s.createStore([],{name:"requestsQueue"}),h=s.createStore(!1,{name:"fetchError"}),f=s.createEffect({name:"get/AbortEffectFx",handler:(0,o._)((function*(e){e.forEach((e=>{var t,r,o;null==(o=e.fetchOptions)||null==(r=o.controller)||null==(t=r.abort)||t.call(r)}))}))}),E=s.createEffect({name:"get/SearchTopEffectFx",handler:(0,o._)((function*(e){var t,r;const o=null==(r=e.fetchOptions)||null==(t=r.controller)?void 0:t.signal;return{request:yield(0,n.getSearchTop)(e.data,{signal:o}),requestData:e}}))})},353199:(e,t,r)=>{var o=r(434788),a=r(798116),n=r(108824),s=r(836245);(0,a.sample)({clock:n.fireSearch,fn:e=>({id:(0,s.createCacheId)(e),data:e}),target:n.fireCreateRequest}),(0,a.sample)({clock:n.fireAbortRequest,source:n.$requestsQueue,target:n.AbortEffectFx}),(0,a.sample)({clock:n.fireCreateRequest,source:n.$requestsQueue,fn:(e,t)=>{e.forEach((e=>{var t,r,o;null==(o=e.fetchOptions)||null==(r=o.controller)||null==(t=r.abort)||t.call(r)}));const r=new AbortController;return(0,o._)({},t,{fetchOptions:{controller:r}})},target:n.fireSetUpRequest}),(0,a.sample)({clock:n.fireSetUpRequest,target:[n.fireSendRequest,n.fireSetRequestToQueue]}),(0,a.sample)({clock:n.fireSetRequestToQueue,source:n.$requestsQueue,fn:(e,t)=>[...e,t],target:n.$requestsQueue}),(0,a.sample)({clock:n.fireSendRequest,target:n.SearchTopEffectFx}),(0,a.sample)({clock:n.SearchTopEffectFx.pending,target:n.$pending}),(0,a.sample)({clock:n.SearchTopEffectFx.finally,fn:({params:e})=>e,target:n.fireRemoveRequestFromQueue}),(0,a.sample)({clock:n.SearchTopEffectFx.pending,fn:()=>!1,target:n.$fetchError}),(0,a.sample)({clock:n.SearchTopEffectFx.failData,source:n.$pending,filter:e=>!e,fn:()=>!0,target:n.$fetchError})},340083:(e,t,r)=>{r.d(t,{$displayResults:()=>l,CancelStackFilterFx:()=>u,CancelStackPushFx:()=>d,fireCancelStackPush:()=>i,fireSetResultsDisplay:()=>c});var o=r(447936),a=r(196026),n=r(148652);const s=o.appDomain.createDomain("SEARCH_TOP/MODAL"),l=s.createStore(!1,{name:"displayResults"}),c=s.createEvent("fire/SetResultsDisplay"),i=s.createEvent("fire/CancelStackPush"),u=s.createEffect({name:"remove/CancelStackFilter",handler:()=>{(0,a.cancelStackFilter)("top_search",!0)}}),d=s.createEffect({name:"remove/CancelStackFilter",handler:()=>{(0,a.cancelStackPush)("top_search",((e=!0)=>{if(e){var t;const e=document.querySelector(`#${n.SEARCH_INPUT_ID}`);c(!1),null==(t=e)||t.blur()}else i()}),!0)}})},666138:(e,t,r)=>{var o=r(798116),a=r(108824);(0,o.sample)({clock:a.fireSetResultsDisplay,source:a.$displayResults,filter:(e,t)=>e!==t,fn:(e,t)=>t,target:a.$displayResults}),(0,o.sample)({clock:a.$displayResults,filter:e=>e,target:a.CancelStackPushFx}),(0,o.sample)({clock:a.$displayResults,filter:e=>!e,target:a.CancelStackFilterFx}),(0,o.sample)({clock:a.fireCancelStackPush,target:a.CancelStackPushFx})},836245:(e,t,r)=>{r.d(t,{createCacheId:()=>d,showVideo:()=>g,topHeaderListener:()=>u});var o=r(434788),a=r(953908),n=r(795558),s=r(611290),l=r(148652),c=r(539791),i=r(613202);const u=()=>{(0,a.addEvent)(document,"mousedown",(e=>{var t,r;const o=e.target,c=!((0,a.checkKeyboardEvent)(e)||(0,n.domClosest)("top_audio_layer_place",o)||(0,n.domClosest)("_ap_layer__close",o)||(0,n.domClosest)("layer_wrap",o)||(0,n.domClosest)("PortalNavigation",o)||(0,n.domClosest)("PortalNavigationDropdown",o)||(0,n.domClosest)("ObsceneTextAlertBox",o)||(0,n.domClosest)("top_notify_layer_details",o)||(null==(t=o)?void 0:t.closest('[data-search-top-target="true"]'))),i=!(null==(r=o)?void 0:r.closest(`#${l.SEARCH_INPUT_ID}`));c&&(0,s.topHeaderClose)((()=>!1),i)}))},d=e=>((e,t="",r)=>{const o=Object.entries(e).filter((([,e])=>!!e||0===e)).map((([e,t])=>r?`${r}[${encodeURIComponent(e)}]=${encodeURIComponent(t)}`:`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");return o?`${t}${o}`:""})(Object.keys(e).sort(((e,t)=>e.localeCompare(t))).reduce(((t,r)=>(0,o._)({},t,{[r]:e[r]})),{})),g=({event:e,id:t,video:r})=>{const o=()=>{if(window.Video.checkClickEvent(e))return!0;if(e.preventDefault(),window.cur.cancelClick)return void(window.cur.cancelClick=!1);if(window.cur.chooseVideoMedia)return window.cur.chooseVideoMedia(e.target,t);let o;!o&&window.Video&&window.Video.isGlobalSearchMode()&&window.Video.shouldShowSearchInPlaylistWithSearch()&&(o=window.Video.VIDEO_SEARCH_TOP_TYPE),window.Video.show(e,t,{autoplay:1,queue:0,playlistId:o,playFrom:r.viewed_duration?(0,c.getPlayFromByDuration)(r.viewed_duration):"",addParams:{track_code:r.track_code}},e.target)};window.Video?o():(0,i.getVideoModule)().then(o)}},824346:(e,t,r)=>{r.d(t,{SearchVideoCatalog:()=>T});var o=r(434788),a=r(785893),n=r(667294),s=r(12052),l=r(688007),c=r(12531),i=r(869048),u=r(635928),d=r(832550),g=r(845847),_=r(539791),p=r(768620),S=r(327038),h=r(839470),f=r(29271),E=r(243031),v=r(688999),m=r(508249),y=r(106898),C=r(538310),w=r(193452);const T=()=>{var e,t,r,T,b,A;const[R,I]=(0,n.useState)(),[k,O]=(0,n.useReducer)((e=>e+1),0),[D,P]=(0,n.useState)(!1),[x,L]=(0,c.useSearchParams)(),V=null==(e=R)?void 0:e.catalog,q=null==(r=V)||null==(t=r.sections)?void 0:t.find((e=>{var t,r;return(null==(t=e)?void 0:t.id)===(null==(r=V)?void 0:r.default_section)})),H=null==(b=V)?void 0:b.sections[(null==(T=V)?void 0:T.sections.length)-1],F=()=>{O()};(0,n.useEffect)((()=>{if(!window.cur.is_section)return;const e=new AbortController;if("upload"!==x.get("section"))return x.has("q")||"upload"===x.get("section")?(s.Video.toggleSearchProgress(!0),(0,l.getVideoSearchBySearchParams)(x,e).then((e=>{I(e),P(!1)})).catch((({type:e,error:t})=>{if("network_error"===e&&"AbortError"===t.name)return null;throw P(!0),t})).finally((()=>{s.Video.setVisibilityShowcaseContent(!1),s.Video.toggleSearchProgress(!1)})),()=>{e.abort()}):(I(void 0),void s.Video.setVisibilityShowcaseContent(!0));I(void 0)}),[x,k]);const M=e=>{if(H&&q&&e&&e){const t=e.data;I((e=>{var r;if((null==(r=e)?void 0:r.catalog)&&t.section){let r;var a,n,s,l,c,i,u,d;return r=q.id===t.section.id?(0,g.getMutatedCatalogSections)(e.catalog.sections,q,t.section):[...e.catalog.sections,t.section],(0,o._)({},e,{catalog:(0,o._)({},e.catalog,{sections:r}),videos:(0,g.filterArrayOfUniqueByKey)([...null!=(a=e.videos)?a:[],...null!=(n=t.videos)?n:[]],"id"),groups:(0,g.filterArrayOfUniqueByKey)([...null!=(s=e.groups)?s:[],...null!=(l=t.groups)?l:[]],"id"),profiles:(0,g.filterArrayOfUniqueByKey)([...null!=(c=e.profiles)?c:[],...null!=(i=t.profiles)?i:[]],"id"),albums:(0,g.filterArrayOfUniqueByKey)([...null!=(u=e.albums)?u:[],...null!=(d=t.albums)?d:[]],"id")})}return e}))}},j=({event:e,id:t,video:r})=>{let o;!o&&window.Video&&window.Video.isGlobalSearchMode()&&window.Video.shouldShowSearchInPlaylistWithSearch()&&(o=window.Video.VIDEO_GLOBAL_SEARCH_TYPE);const a=r.viewed_duration?(0,_.getPlayFromByDuration)(r.viewed_duration):"";s.Video.show(e,t,{autoplay:1,queue:0,playlistId:o,playFrom:a,addParams:{track_code:r.track_code}},e.target)},G=({video:e,handleFavToggle:t,owner:r,handleClickShowVideo:o})=>{if((0,h.partConfigEnabled)("video_showcase_search_vkcomkit_videocards")){const n=[];e.can_add_to_faves&&n.push({onClick:t,children:e.is_favorite?f.getLang("global_remove_from_bookmarks"):f.getLang("global_add_to_bookmarks"),component:E.Icon20FavoriteOutline});const s=[];return(0,a.jsx)(S.VideoCardWrapper,{video:e,owner:r,controls:s,actions:n,onVideoOpen:o})}return null},N=(e,t)=>{var r;null==(r=window.VideoShowcase)||r.showVideoMenu(e,t)};if(null==(A=V)?void 0:A.sections){var $;const e=R?(0,_.extractExtendedData)(R):null,t=null==($=V)?void 0:$.sections,r={pageId:"SearchVideo",catalogType:_.CatalogType.VIDEO},o=e=>{const t=new URLSearchParams(window.location.search);t.set("q",e.q),t.set("suggest_trackcode",e.additionalParams.suggestTrackCode),t.set("no_spellcheck",String(e.additionalParams.noSpellcheck));const r=(0,y.encodeUrlSearchParams)(Object.fromEntries(t.entries()),"?");window.nav.go(`${window.location.pathname}${r}`),L(t)},n={pageVerifiedTip:m.pageVerifiedTip,navGo:C.navGo,userId:window.vk.id};return(0,a.jsx)(i.AppRootProvider,{children:(0,a.jsx)("div",{className:"VideoLayout__contentsWrapper",style:{overflowAnchor:"none"},children:(0,a.jsx)("div",{className:"VideoLayout__search",style:{display:"block"},children:(0,a.jsx)(p.CatalogSearchProvider,{showVideo:j,getVideoCardWrapper:G,showVideoMenu:N,search:o,children:(0,a.jsx)(_.Catalog,{collectClick:w.searchStatsCollector.logEvent,collectView:w.searchViewStatCollector.logEvent,catalog:V,extendedData:e,nextFromSections:t,onGetSection:M,catalogVars:r,platformVars:n,blockLayoutResolver:_.videoLayoutResolver})})})})})}return D?(0,a.jsx)(u.Placeholder,{icon:(0,a.jsx)(v.Icon56ReportOutline,{}),header:f.getLang("search_error_videoshowcase_header"),stretched:!0,action:(0,a.jsx)(d.Button,{onClick:F,size:"m",children:f.getLang("search_error_videoshowcase_button")}),children:f.getLang("search_error_videoshowcase_subtitle")}):null}},688007:(e,t,r)=>{r.d(t,{getVideoSearchBySearchParams:()=>c});var o=r(434788),a=r(599809),n=r(964886),s=r(845847);const l=(e,t={})=>(0,a.api)(n.CATALOG_API_METHODS.GET_VIDEO_SEARCH,(0,o._)({},e),void 0,t);function c(e,t=null){let r={};return t&&(r={signal:t.signal}),l((0,s.getParamsForVideoSearchCatalog)(e),r)}},964886:(e,t,r)=>{r.d(t,{CATALOG_API_METHODS:()=>o,LONGER_FILTER_DURATION:()=>n,SHORTER_FILTER_DURATION:()=>a});const o={ADD_VIDEO:"video.add",GET_VIDEO_SEARCH:"catalog.getVideoSearchWeb2",DELETE_VIDEO:"video.delete",ADD_VIDEO_TO_FAVE:"fave.addVideo",REMOVE_VIDEO_FROM_FAVE:"fave.removeVideo",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete"},a=300,n=1200},12531:(e,t,r)=>{r.d(t,{useSearchParams:()=>s});var o=r(667294),a=r(538310);const n=/video\?(.+)/,s=()=>{const[e,t]=(0,o.useState)((()=>new URLSearchParams(document.location.search))),r=(0,o.useRef)();return(0,o.useEffect)((()=>{let e="";return r.current=(0,a.subscribeNavLocationChange)((r=>{const o=r.match(n);if(o&&o[1]){const r=new URLSearchParams(o[1]);r.delete("z");const a=r.toString();a!==e&&(e=a,t(new URLSearchParams(a)))}else t(new URLSearchParams(document.location.search))})),()=>{var e,t;null==(e=(t=r).current)||e.call(t)}}),[]),[e,t]}},845847:(e,t,r)=>{r.d(t,{filterArrayOfUniqueByKey:()=>n,getMutatedCatalogSections:()=>s,getParamsForVideoSearchCatalog:()=>l});var o=r(434788),a=r(964886);function n(e,t){return[...new Map(e.map((e=>[e[t],e]))).values()]}function s(e,t,r){const a=e.findIndex((({id:e})=>e===t.id));if(-1===a||!t.blocks||!r.blocks)return e;const n=(0,o._)({},t,{blocks:[...t.blocks,...r.blocks],next_from:r.next_from});return[...e.slice(0,a-1),n,...e.slice(a+1)]}function l(e){const t={},r={order:"sort",notsafe:"adult"};for(const[n,s]of e)if("len"===n){const e="1"===s?"shorter":"longer";t[e]="shorter"===e?`${a.SHORTER_FILTER_DURATION}`:`${a.LONGER_FILTER_DURATION}`}else{var o;t[null!=(o=r[n])?o:n]=s}return t}},194969:(e,t,r)=>{r.d(t,{VideoCardWrapper:()=>d});var o=r(434788),a=r(820224),n=r(785893),s=r(392594),l=r(40565),c=r(412859),i=r(292063),u=r(916207);const d=e=>{var{controls:t,actions:r,owner:d,video:g,onVideoOpen:_}=e,p=(0,a._)(e,["controls","actions","owner","video","onVideoOpen"]);const S=(0,c.useMenuActions)(g,r),h=(0,c.useControls)({video:g,controls:null!=t?t:[]});var f;return(0,n.jsx)(s.VideoCard,(0,o._)({controlItems:(0,n.jsx)(l.VideoCardControls,{video:g,controls:null!=h?h:[]}),menuItems:S,video:(0,o._)({},(0,i.mapVideoToVideoCardItem)(g),{owner:(0,o._)({},null!=(f=(0,i.mapArtistToVideoCardOwner)(g))?f:(0,i.mapUserOrGroupToVideoCardOwner)(d),{badge:(0,u.getVerifiedBadge)(d)})}),onVideoOpen:_},p))}},996842:(e,t,r)=>{r.d(t,{VideoCardControls:()=>s});var o=r(785893),a=r(392594),n=r(903806);const s=({video:e,controls:t})=>{var r;return(null==(r=t)?void 0:r.length)?(0,o.jsx)(o.Fragment,{children:t.map((t=>{if(t.type===n.ControlTypes.ICON){const{text:r,onClick:n,component:s}=t;return(0,o.jsx)(a.VideoCard.IconControl,{tooltipText:r,onClick:t=>n(t,e),icon:s},r)}if(t.type===n.ControlTypes.PLAYLIST_POPOVER){const{component:r}=t;return(0,o.jsx)(r,{video:e},e.id)}}))}):null}},399588:(e,t,r)=>{r.d(t,{VideoCardControls:()=>o.VideoCardControls});var o=r(996842)},665570:(e,t,r)=>{r(785893),r(384627)},40565:(e,t,r)=>{r.d(t,{VideoCardControls:()=>o.VideoCardControls});var o=r(399588);r(665570)},60819:(e,t,r)=>{r.d(t,{showEditVideoForm:()=>a});var o=r(514986);const a=({oid:e,vid:t})=>{const r={vid:t,oid:e};(0,o.showBox)("al_video.php?act=edit_box",r,{containerClass:"video_edit"})}},753472:(e,t,r)=>{r.d(t,{reportHandler:()=>o.reportHandler,showEditVideoForm:()=>a.showEditVideoForm});var o=r(590439),a=r(60819)},590439:(e,t,r)=>{r.d(t,{reportHandler:()=>n});var o=r(11010),a=r(29271);const n=(0,o._)((function*(e,t){e&&t&&(window.Videoview||(yield window.stManager.add([window.jsc("web/videoview.js")])),window.Videoview.showReportVideoForm(t,e,(()=>{var r;null==(r=window.VideoShowcase)||r.showCardFeedback(t,e,a.getLang("global_report_spam"))})))}))},412859:(e,t,r)=>{r.d(t,{useControls:()=>o.useControls,useMenuActions:()=>a.useMenuActions});var o=r(157863),a=r(909748)},157863:(e,t,r)=>{r.d(t,{useControls:()=>d});var o=r(667294),a=r(304680),n=r(293079),s=r(29271),l=r(441447),c=r(327038),i=r(903806),u=r(297455);const d=({video:e,controls:t})=>(0,o.useMemo)((()=>{const{id:r,owner_id:o,can_edit:d,can_download:g,title:_,type:p,can_add:S}=e,h=Array.isArray(t)?t:[];return d&&r&&o&&h.push({component:a.Icon16PenOutline,text:s.getLang("video_edit"),onClick:()=>(0,c.showEditVideoForm)({oid:String(o),vid:String(r)}),type:i.ControlTypes.ICON}),3===g&&r&&o&&_&&p&&h.push({component:n.Icon16DownloadOutline,text:s.getLang("video_download_short"),onClick:()=>(0,l.downloadVideo)({oid:String(o),title:_,type:p,vid:String(r)}),type:i.ControlTypes.ICON}),S&&h.push({type:i.ControlTypes.PLAYLIST_POPOVER,component:u.AddToPlaylistControl}),h}),[e,t])},909748:(e,t,r)=>{r.d(t,{useMenuActions:()=>l});var o=r(667294),a=r(17117),n=r(29271),s=r(327038);const l=(e,t)=>(0,o.useMemo)((()=>{const r=Array.isArray(t)?t:[];if(e.owner_id!==window.vk.id&&e.owner_id&&e.id&&r.push({component:a.Icon20ReportOutline,children:n.getLang("global_report_spam"),onClick:()=>(0,s.reportHandler)(String(e.id),String(e.owner_id))}),r.length)return r}),[e])},327038:(e,t,r)=>{r.d(t,{VideoCardWrapper:()=>o.VideoCardWrapper,reportHandler:()=>a.reportHandler,showEditVideoForm:()=>a.showEditVideoForm});var o=r(194969),a=(r(40565),r(412859),r(753472))},127822:(e,t,r)=>{r.d(t,{getTriggersMap:()=>s});var o,a=r(12052),n=r(899181);!function(e){e.VIDEO="video"}(o||(o={}));const s=e=>"video"===e?{triggerSearch:a.Video.onSearchInputChange,onBlur:a.Video.onSearchInputBlur,onFilterRemoved:a.Video.onFilterRemoved,onFiltersChanged:n.VideoShowcase.onSearchFiltersChanged}:null},297455:(e,t,r)=>{r.d(t,{AddToPlaylistControl:()=>o.AddToPlaylistControl});var o=r(426131)},296747:(e,t,r)=>{r.d(t,{downloadVideo:()=>n});var o=r(504867),a=r(108705);const n=({oid:e,vid:t,title:r,type:n})=>{const s=Number(e),l=Number(t);window.ajax.post("al_video.php?act=get_download_url",{video_raw_id:(0,a.joinRawId)({ownerId:s,itemId:l})},{onDone:e=>{((e,t,r)=>{if(!e)return!1;const a=document.createElement("a");a.href=e,a.download=`${t}.mp4`,document.body.appendChild(a),a.click(),document.body.removeChild(a),(0,o.statlogsValueEvent)("video_downloads","",r)})(e,r,n)}})}},441447:(e,t,r)=>{r.d(t,{downloadVideo:()=>o.downloadVideo});var o=r(296747)},713990:(e,t,r)=>{r.d(t,{createCatalogGetAudioSearchService:()=>n});var o=r(798116),a=r(870918);const n=({domain:e,entitiesCatalogSections:t,entitiesVideoAlbumsService:r,entitiesVideoService:n,entitiesGroupsService:s,entitiesUsersService:l})=>{const c=(0,a.createCatalogGetAudioSearchFx)({domain:e}),i=e.createEvent();return(0,o.sample)({clock:i,fn:({query:e,need_blocks:t})=>({query:{query:e,need_blocks:t},controller:new AbortController}),target:c}),(0,o.sample)({clock:c.doneData,target:t.initCatalog}),(0,o.sample)({clock:c.doneData,filter:({groups:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({groups:e=[]})=>e,target:s.setGroupsEvent}),(0,o.sample)({clock:c.doneData,filter:({albums:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({albums:e=[]})=>e,target:r.setVideoAlbumsEvent}),(0,o.sample)({clock:c.doneData,filter:({profiles:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({profiles:e=[]})=>e,target:l.setUsersEvent}),(0,o.sample)({clock:c.doneData,filter:({videos:e})=>{var t;return Boolean(null==(t=e)?void 0:t.length)},fn:({videos:e=[]})=>e,target:n.setVideosEvent}),{catalogGetAudioSearchFx:c,catalogSearchAudioEvent:i}}},427164:(e,t,r)=>{r.d(t,{default:()=>n});var o,a=r(310396);e=r.hmd(e),o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:e;const n=(0,a.default)(o)},310396:(e,t,r)=>{function o(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,{default:()=>o})}},__webpack_module_cache__={},deferred,leafPrototypes,getProto,inProgress,loadStylesheet,installedCssChunks;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},deferred=[],__webpack_require__.O=(e,t,r,o)=>{if(!t){var a=1/0;for(c=0;c<deferred.length;c++){for(var[t,r,o]=deferred[c],n=!0,s=0;s<t.length;s++)(!1&o||a>=o)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[s])))?t.splice(s--,1):(n=!1,o<a&&(a=o));if(n){deferred.splice(c--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var c=deferred.length;c>0&&deferred[c-1][2]>o;c--)deferred[c]=deferred[c-1];deferred[c]=[t,r,o]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var o={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var a=2&t&&e;"object"==typeof a&&!~leafPrototypes.indexOf(a);a=getProto(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,__webpack_require__.d(r,o),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>25394===e?"AudioLongtapModal.98b6df61d646414354a3.js":24817===e?"hls.7bfefe299fa92971b99a.js":75980===e?"menu_settings.b73d1f0a03f70163e02d.js":96816===e?"web-audio-lyrics-modal.5b786d2492e85e4a335f.js":9375===e?"voice_message_player.f0c31b4a3dc08de145c9.js":28762===e?"speech.be0c329a1eff7c81577d.js":57468===e?"SilentModeForms.6cf18c53f58f775934b3.js":28872===e?"feed-client-nav-skeleton.a30e12215b3ca16e7fe2.js":35953===e?"feed-client-nav-async-right-block.d1fcdf48d7fa743442bf.js":60593===e?"ui_scroll.a86cb1a828acd98d68be.js":58282===e?"0c0b942b03cb730bac460da40021b379.async.9c82d43cee2b33815da3.js":89658===e?"video_groups_redesign.01c5860e7f52024b4a3e.js":72149===e?"0522dee79d8b099a5d15ff21bf794ab7.async.da5779ac26ccbfa77ac1.js":54650===e?"video_showcase_horizontal_scroll_block.7095a8d21030d491a836.js":13492===e?"83101cfad1fa3d30a972a617b6fdb748.async.88043d17775fec27d02d.js":16957===e?"video_showcase_onboarding.935faf6be005f2d8c029.js":63161===e?"video_showcase_nps.b05c385b85054a10db2f.js":62795===e?"video_tabs.ad3bf0a0e50fe85b53ed.js":86708===e?"cb229b0b680cd08c3167fe906b81e311.async.28fe625cf21563ec6926.js":52974===e?"videoplayer_v2.add3d7f6eebd58c46ee2.js":59240===e?"performance-stats.59c5c96e7372abb54c8c.js":74212===e?e+".3c2153e4b2773d84f0b3.js":38288===e?"lottie.5e4758c39f106eab733a.js":void 0,__webpack_require__.miniCssF=e=>e+"."+{16957:"ddc5bf0af4f6f48186a3",25394:"6af57e1b0cf5a74f9a87",54650:"66df3bb6c4f4a3461383",57468:"35be3dfa1e90e3cdd0a1",62795:"df1566a8976a15f4bbe0",63161:"f3fff4119a5148384a91",75980:"5bbee2c9f3e189193a73",89658:"4f2bfdbcab760250702a"}[e]+".css",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,r,o)=>{if(inProgress[e])inProgress[e].push(t);else{var a,n;if(void 0!==r)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var c=s[l];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")=="vk:"+r){a=c;break}}a||(n=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack","vk:"+r),a.src=e),inProgress[e]=[t];var i=(t,r)=>{a.onerror=a.onload=null,clearTimeout(u);var o=inProgress[e];if(delete inProgress[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},u=setTimeout(i.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=i.bind(null,a.onerror),a.onload=i.bind(null,a.onload),n&&document.head.appendChild(a)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",loadStylesheet=e=>new Promise(((t,r)=>{var o=__webpack_require__.miniCssF(e),a=__webpack_require__.p+o;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var a=(s=r[o]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===e||a===t))return s}var n=document.getElementsByTagName("style");for(o=0;o<n.length;o++){var s;if((a=(s=n[o]).getAttribute("data-href"))===e||a===t)return s}})(o,a))return t();((e,t,r,o)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=n=>{if(a.onerror=a.onload=null,"load"===n.type)r();else{var s=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=l,a.parentNode.removeChild(a),o(c)}},a.href=t,document.head.appendChild(a)})(e,a,t,r)})),installedCssChunks={45973:0},__webpack_require__.f.miniCss=(e,t)=>{installedCssChunks[e]?t.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{16957:1,25394:1,54650:1,57468:1,62795:1,63161:1,75980:1,89658:1}[e]&&t.push(installedCssChunks[e]=loadStylesheet(e).then((()=>{installedCssChunks[e]=0}),(t=>{throw delete installedCssChunks[e],t})))},(()=>{var e={45973:0};__webpack_require__.f.j=(t,r)=>{var o=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((r,a)=>o=e[t]=[r,a]));r.push(o[2]=a);var n=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(n,(r=>{if(__webpack_require__.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",s.name="ChunkLoadError",s.type=a,s.request=n,o[1](s)}}),"chunk-"+t,t)}},__webpack_require__.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[n,s,l]=r,c=0;if(n.some((t=>0!==e[t]))){for(o in s)__webpack_require__.o(s,o)&&(__webpack_require__.m[o]=s[o]);if(l)var i=l(__webpack_require__)}for(t&&t(r);c<n.length;c++)a=n[c],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return __webpack_require__.O(i)},r=self.webpackChunkvk=self.webpackChunkvk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var __webpack_exports__=__webpack_require__.O(void 0,[75514,98066,56990,24509,76400,40885,76429,68592,19970,7854,24545,88656,98725],(()=>__webpack_require__(237421)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();